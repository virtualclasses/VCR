/* sovrn_stndalne_beacon v0.0.1 
Updated : 2020-02-12 */
window.sovrn=window.sovrn||{},sovrn.auction=sovrn.auction||{},beaconFlag=!1,sovrn.auction={doNotTrack:function(n,t){n=n||navigator,t=t||window;var e=sovrn.auction.readCookie("tracking_optout");return"yes"===n.doNotTrack||"1"===n.doNotTrack||"1"===n.msDoNotTrack||"1"===t.doNotTrack||"1"===e},readCookie:function(n){for(var t=n+"=",e=document.cookie.split(";"),o=0;o<e.length;o++){for(var a=e[o];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null},sendBeacon:function(){sovrn.auction.beaconConfig=sovrn.auction.getParams(sovrn.auction.getScriptTag());try{var n,t;if(beaconFlag)return!1;n="sovrn_beacon",t=sovrn.auction.createiFrame(n,1,1),t.src=sovrn.auction.getBeaconURL(),document.body.appendChild(t),beaconFlag=!0}catch(e){return!1}return!0},getParams:function(n){var t=n.getAttribute("id"),e=document.getElementById(t);if(null==e)return!1;currentTagSRC=e.src;var o,a;return a={},o=currentTagSRC.split("?")[1]||"",(o=o.split("#")[0]||"")?(o.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(n,t,e,o){try{a[t]=decodeURIComponent(o)}catch(r){sovrn.ads.dbg(r)}}),a.currentTag=t,a.location=e.parentNode.nodeName,a):{}},getScriptTag:function(){var n,t,e,o=/^(https?:)?\/\/.*\.lijit\.(com|dev)\/www\/sovrn_beacon_standalone\/sovrn_standalone_beacon(\.min)?\.js/i,a=o;if("currentScript"in document&&(e=document.currentScript,e&&a.test(e.src)))return e;for(n=document.getElementsByTagName("script"),t=n.length-1;t>=0;t--)if(a.test(n[t].src))return n[t];return null},createiFrame:function(n,t,e){var o,a,r,c,i,s;o=document.createElement("iframe"),a=o.style,i={id:n,margin:"0",padding:"0",frameborder:"0",width:t+"",height:e+"",scrolling:"no",src:"about:blank"},s={margin:"0px",padding:"0px",border:"0px none",width:t+"px",height:e+"px",overflow:"hidden"};for(r in i)i.hasOwnProperty(r)&&o.setAttribute(r,i[r]);for(c in s)if(s.hasOwnProperty(c))try{a[c]=s[c]}catch(u){}return o},getBeaconURL:function(){var n=sovrn.auction.beaconConfig.hasOwnProperty("iid")?sovrn.auction.beaconConfig.iid:"",t=sovrn.auction.gdprConsent||"",e=sovrn.auction.ccpaConsent||"";return"https://ap.lijit.com/beacon?informer="+n+"&gdpr_consent="+t+"&us_privacy="+e},sovrnReady:function(n){/in/.test(document.readyState)?setTimeout(function(){sovrn.auction.sovrnReady(n)},50):n()},configureGdpr:function(){var n=this;this.lookupIabConsent(function(t){sovrn.auction.gdprConsent=t.getConsentData.consentData,n.sendBeacon()},function(){})},configureCcpa:function(){var n=this;this.lookupCcpaConsent(function(t){sovrn.auction.ccpaConsent=t.uspData,n.sendBeacon()},function(){n.sendBeacon()})},callCmpFromSafeframe:function(n,t,e){var o=function(n,o){"cmpReturn"===n&&e(o[t])};window.$sf.ext.register(1,1,o),window.$sf.ext.cmp(n)},cmpCallbacks:{},callCmpWhileInIframe:function(n,t,e){var o=this,a=Math.random()+"",r={__cmp:{command:"registerIframeVendor",parameter:{id:window.frameElement.id},callId:a}};sovrn.auction.cmpCallbacks[a]=e,t.postMessage(r,"*");var c={__cmpCall:{command:n,parameter:null,callId:a}};t.postMessage(c,"*"),window.addEventListener("message",function(n){n.data&&n.data.__cmpReturn&&n.data.__cmpReturn.returnValue&&n.data.__cmpReturn.callId&&o.cmpCallbacks[n.data.__cmpReturn.callId](n.data.__cmpReturn.returnValue)},!1)},lookupIabConsent:function(n,t){function e(){a.getConsentData&&a.getVendorConsents&&n(a)}var o,a={},r=function(n){a.getConsentData=n,e()},c=function(n){a.getVendorConsents=n,e()};try{o=window.__cmp||window.top.__cmp}catch(i){t(i)}if("function"==typeof o)o("getConsentData",null,r),o("getVendorConsents",null,c);else if(window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp)this.callCmpFromSafeframe("getConsentData","vendorConsentData",r),this.callCmpFromSafeframe("getVendorConsents","vendorConsents",c);else{for(var s,u=window;!s;){try{u.frames.__cmpLocator&&(s=u)}catch(i){t(i)}if(u===window.top)return;u=u.parent}this.callCmpWhileInIframe("getConsentData",s,r),this.callCmpWhileInIframe("getVendorConsents",s,c)}},lookupCcpaConsent:function(n,t){var e,o="getUSPData",a=1,r={uspData:"",success:!1},c=function(e,o){r.uspData=e&&e.uspString||"",r.success=o,o?n(r):t()};try{e=window.__uspapi||window.top.__uspapi}catch(i){t(i)}if("function"==typeof e)e(o,a,c);else{for(var s,u=window,d=(new Date).getTime();!s;){try{u.frames.__uspapiLocator&&(s=u)}catch(i){return t(i),void 0}if(u===window.top)return t(),void 0;u=u.parent}var p={__uspapiCall:{command:o,version:a,parameter:null,callId:d}};s.postMessage(p,"*"),window.addEventListener("message",function(e){e.data&&e.data.__uspapiReturn&&e.data.__uspapiReturn.callId===d&&(e.data.__uspapiReturn.success?n(e.data.__uspapiReturn.returnValue):t())},!1)}}},sovrn.auction.sovrnReady(function(){dnt=sovrn.auction.doNotTrack(),dnt===!1&&(sovrn.auction.configureGdpr(),"undefined"==typeof sovrn.auction.gdprConsent&&sovrn.auction.configureCcpa())});