!function(e){function t(t){for(var n,a,c=t[0],l=t[1],s=t[2],u=0,m=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&m.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);m.length;)m.shift()();return r.push.apply(r,s||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,c=1;c<o.length;c++){var l=o[c];0!==i[l]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},i={7:0},r=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/opt/atlassian/pipelines/agent/build/src/flaticon/media/dist";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var d=l;r.push([67,0]),o()}([function(e,t,o){"use strict";o.r(t),o.d(t,"detailReportReceived",function(){return a}),o.d(t,"$_",function(){return c}),o.d(t,"Notifier",function(){return l}),o.d(t,"UserAlerts",function(){return s}),o.d(t,"filter_text",function(){return d}),o.d(t,"slug",function(){return u}),o.d(t,"sanitize_filename",function(){return m}),o.d(t,"detectBrowser",function(){return p}),o.d(t,"Cookie",function(){return f}),o.d(t,"closeModal",function(){return g}),o.d(t,"isValidColor",function(){return h}),o.d(t,"getTimestamp",function(){return v}),o.d(t,"capitalize",function(){return y}),o.d(t,"urlWithoutPag",function(){return b}),o.d(t,"getUrlNavigation",function(){return _}),o.d(t,"cleanQueryString",function(){return k}),o.d(t,"setUrlNavigator",function(){return w}),o.d(t,"parseQueryString",function(){return S}),o.d(t,"filterSpecialChars",function(){return I});var n=o(22),i=o(18);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){document.get("#modal-report")&&document.get("#modal-report").checked?(document.get("#report-form").reset(),document.get("#modal-report").checked=!1):(document.get("#report-form-collection").reset(),document.get("#modal-report-collection").checked=!1);var t=e.success?"success":"warning";s[t](e.title,e.message)}function c(e){return(e=document.querySelectorAll(e)).length>1?e:e[0]?e[0]:null}function l(){this.warning=function(e,o,n){t(e,o,n,"warning")},this.danger=function(e,o,n){t(e,o,n,"danger")},this.success=function(e,o,n){t(e,o,n,"success")};var e=8e3;function t(t,o,n,i){!function(t,o,n,i){var r=Date.now();t instanceof Object&&(o=t.body,t=t.title);var a=document.getElementById("user-alert-container");a||((a=document.createElement("div")).id="user-alert-container",a.className="user-alert-container",document.body.appendChild(a));a.insertAdjacentHTML("beforeend",Handlebars.tag("notification")({title:t,body:o,sticky:n,type:i,time:r})),n||setTimeout(function(){var e=document.getElementById("notify-"+r);e.parentElement.removeChild(e)},e)}(t,o,n,i)}}$(function(){for(var e,t=["assert","cd","clear","count","countReset","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","select","table","time","timeEnd","timeStamp","timeline","timelineEnd","trace","warn"],o=t.length,n=window.console=window.console||{},r=function(){};o--;)if(!n[e=t[o]])try{n[e]=r}catch(e){}try{localStorage.n_pageviews=void 0!==localStorage.n_pageviews?parseInt(localStorage.n_pageviews,10)+1:1}catch(e){}$("#report-form, #report-form-collection").submit(function(e){e.preventDefault();var t={},o=this.querySelector(".radio-holder");if(void 0!==o&&o.classList.remove("error"),1==$(this).serializeArray().length)return o.classList.add("error"),void s.warning("Oops!",messages.report.message);"report-form"==$(this).attr("id")&&(t.item=pack_items&&current?parseInt(pack_items[current].id,10):icon_id,t.format=c("#download-form #format").value,t.content=c("#download-form #icon_id").value),"report-form-collection"==$(this).attr("id")&&(t.item=c("#download-collection-form #downC_bookmark_id").value?c("#download-collection-form #downC_bookmark_id").value:Collection.getActive().bookmark_id,t.format=$("#download-collection-form #downC_format").val(),t.content=this.reason.value+": "+$("#download-collection-form #downC_icons").val()),$(this).serializeArray().forEach(function(e){e.name=e.name.replace("-collection",""),t[e.name]=e.value}),t.navigator="User-agent: "+navigator.userAgent+"\n",t.navigator+="Platform: "+navigator.platform+"\n",t.navigator+="Browser Language: "+navigator.language+"\n",t.navigator+="Cookies Enabled: "+navigator.cookieEnabled+"\n",t.navigator+="Browser Online: "+navigator.onLine+"\n",t.url=window.location.href,t.language=LANGUAGE_SHORT;var n=[];if(void 0!==navigator.plugins&&[].forEach.call(navigator.plugins,function(e){n.push(e.name)}),n=JSON.stringify(n),"function"==typeof document.querySelector)var i=document.querySelector("script[src*='dist/js']").src.split("/").pop();t.script=i,t.plugins=n,gr.request.post("valuations/user_report",t),ga("send","event","Detail View","Report this icon",$("#report-form :input:checked, #report-form-collection :input:checked ")[0].value)}),i.Premium.init()}),$(document).ajaxError(function(e,t,o){~o.url.indexOf("coupons/popup")||s.danger("Oops!",messages.errors.connectivity)}),String.prototype.format||(String.prototype.format=function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,o){return void 0!==e[o]?e[o]:t})}),document.get=function(e){return document.querySelector(e)},document.find=function(e){return document.querySelectorAll(e)},Element.prototype.get=function(e){return this.querySelector(e)},Element.prototype.find=function(e){return this.querySelectorAll(e)},Element.prototype.parents=function(e){var t=[],o=this;if(e)var n=e.charAt(0);for(var i=0;o&&o!==document&&!i;o=o.parentNode)e&&("."===n&&o.classList.contains(e.substr(1))&&(i=1),"#"===n&&o.id===e.substr(1)&&(i=1),"["===n&&o.hasAttribute(e.substr(1,e.length-1))&&(i=1),o.tagName.toLowerCase()===e&&(i=1)),t.push(o);return!t.length||"HTML"==t.reverse()[0].tagName&&e?[]:t},Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null},Element.prototype.outerWidth=function(){return this.clientWidth+(parseInt(getComputedStyle(this).marginLeft,10)+parseInt(getComputedStyle(this).marginRight,10))},Element.prototype.outerHeight=function(){return this.clientHeight+(parseInt(getComputedStyle(this).marginTop,10)+parseInt(getComputedStyle(this).marginBottom,10))},Handlebars.tag=function(e){return Handlebars.compile(document.getElementById("tpl-"+e).innerHTML)},Handlebars.registerHelper("isColor",function(e,t){return"XXXXXX"!=e?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("specialItem",function(e,t,o){return 1==e||1==t?o.fn(this):o.inverse(this)}),Handlebars.registerHelper("get_length",function(e){return"object"===r(e)?Object.keys(e).length:Array.isArray(e)?e.length:0}),Handlebars.registerHelper("retinaImage",function(){if(0!==Object.keys(this).length||this.constructor!==Object)return this.png.replace("png/128","png/512")}),Handlebars.registerHelper("isPersonalIcon",function(e){return 4==e}),Handlebars.registerHelper("numberFormat",function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Handlebars.registerHelper("isEqualTo",function(e,t,o){return e==t?o.fn(this):o.inverse(this)}),Handlebars.registerHelper("compare",function(e,t,o,n){var i;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===n&&(n=o,o=t,t="==="),!(i={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},typeof:function e(t,o){return e(t)==o}})[t])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t);return i[t](e,o)?n.fn(this):n.inverse(this)}),l.close=function(e){var t=document.getElementById("notify-"+e.dataset.time);t.parentElement.removeChild(t)};var s=new l;window.UserAlerts=s;try{sessionStorage.setItem("test","1"),sessionStorage.removeItem("test")}catch(e){s.danger("ERROR!","Your browser doesn't support Storage Feature or you are using private browsing. Please use a compatible browser",!0)}function d(e){if(void 0!==e){e=e.replace(/^\s+|\s+$|\(\)\'/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/,:;",o=0,n=t.length;o<n;o++)e=e.replace(new RegExp(t.charAt(o),"g"),"aaaaaeeeeeiiiiooooouuuunc-----".charAt(o));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}return e}function u(e){if("string"!=typeof e)return e;e=e.replace(/^\s+|\s+$/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",o=0,n=t.length;o<n;o++)e=e.replace(new RegExp(t.charAt(o),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(o));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function m(e){var t=(new Date).getTime(),o=u(e=e.split(".").join(t));return o=o.split(t).join(".")}function p(){if(-1!=navigator.userAgent.indexOf("Chrome"))return"Chrome";if(-1!=navigator.userAgent.indexOf("Opera"))return"Opera";if(-1!=navigator.userAgent.indexOf("Firefox"))return"Firefox";if(-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode)return"IE";if(-1!=navigator.userAgent.indexOf("Safari")){var e=navigator.userAgent;return null!==e?"Safari":(e=(e=(e=e.match(/Version\/\d./g))[0].split("/"))[1])>=13?"UpdatedSafari":"Safari"}return navigator.userAgent}var f={get:function(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){for(var i=o[n];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},set:function(e,t,o){var n=window.location.host.replace(/[^.]+\./,"");if(o){var i=new Date;i.setTime(i.getTime()+24*o*60*60*1e3);var r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/; domain=."+n},setH:function(e,t,o){var n=window.location.host.replace(/[^.]+\./,"");if(o){var i=new Date;i.setTime(i.getTime()+60*o*60*1e3);var r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/; domain=."+n},del:function(e){var t=window.location.host.replace(/[^.]+\./,"")||window.location.host;document.cookie=e+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; domain=."+t},expiry:function(e){return f.get(e)}};function g(e){e.parent(".fi-modal")&&(e.parent(".fi-modal").get(".modal-state").checked=!1)}function h(e){return/((^[0-9A-F]{6}$|XXXXXX))/i.test(e)}function v(e){if(void 0===e)return Math.floor(Date.now()/1e3);if(e instanceof Date)return o(e);var t=new Date(e);return t instanceof Date?o(t):Math.floor(Date.now()/1e3);function o(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return parseInt(Date.parse(t).toString().slice(0,10),10)}}function y(e){return""!=e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e}function b(e){var t=null;0!=function(e){var t=0,o=e.lastIndexOf("/"),n=e.length;return-1!=e.lastIndexOf("?")&&(n=e.lastIndexOf("?")),-1!=o&&(t=e.substring(o+1,n)),isNaN(t)?0:t}(e)?t=e.substring(0,e.lastIndexOf("/")):t=""!=window.location.search&&e==window.location.href?e.substring(0,e.lastIndexOf("?")):e;return t}function _(e,t,o){for(var n=0;e.length>n&&"/"==e[e.length-(n+1)];)n+=1;return n>0&&(e=e.slice(0,-n)),""!=t&&void 0!==t&&t>1&&(e=e+"/"+t),""!=o&&void 0!==o&&(o=k(o),e=(e=e.replace("///$/","/")).replace("#",""),e=-1==o.lastIndexOf("?")?e+"?"+o:e+o),e}function k(e){return""!=e&&void 0!==e&&(e=(e=e.replace(/pack_id=(\d)*/g,"")).replace("&&","&").replace(/[^=&]+=(&|$)/g,"").replace(/^&|&$/,"")),e}function w(e,t,o){var i=_(e,t,o);"history"in window&&"function"==typeof window.history.pushState&&(-1==i.indexOf("undefined")?n.ModalDetail.pushState({page:"other"},document.title,i):n.ModalDetail.pushState({page:"other"},document.title,APP_URL))}function S(e){if(""==(e=e.substr(1).split("&")))return{};for(var t={},o=0;o<e.length;++o){var n=e[o].split("=",2);1==n.length?t[n[0]]="":t[n[0]]=decodeURIComponent(n[1].replace(/\+/g," "))}return t}function I(e){return e.replace(/[\*\%\?\-\+\/\\\'\}\{_\:\,;\.<>\&\#\"@\+\=\~]+/g,"")}$(".slider__nav a").hover(function(e){e.preventDefault();var t=$(this).parent().index()+1;$(".slider__nav a, .slider__items li").removeClass("active"),$(this).addClass("active"),$(".slider__items li:nth-child("+t+")").addClass("active")}),Date.prototype.getWeekNumber=function(){var e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),t=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-t);var o=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-o)/864e5+1)/7)}},,function(e,t,o){"use strict";o.r(t),o.d(t,"db",function(){return n}),o.d(t,"download_collection",function(){return g}),o.d(t,"Collection",function(){return v}),o.d(t,"callback_handler",function(){return b}),o.d(t,"Widget",function(){return _}),o.d(t,"toggleDetailButton",function(){return w}),o.d(t,"toggleAxDetailButton",function(){return S});var n,i,r=o(5),a=o(15),c=o(0),l=o(22),s=o(14),d=o(44),u=o(45),m=o(33),p=o(38);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){$("#download-collection-form").submit(),Object(c.$_)("#modal-download").checked=!1,a.open_attribution_modal()}function h(e,t,o,i,r,a,l){if("number"!=typeof e)throw"Invalid icon id";if(!r)throw"Invalid bookmark_id";if("number"!=typeof o)throw"Invalid author";if(this.premium=parseInt(a)||0,this.id=parseInt(e,10),this.author=parseInt(o,10),this.bookmark_id=r,this.color=c.isValidColor(i)?i:"000000",this.sort=parseInt(l,10),this.name=void 0!==t&&t.toString().length?c.slug(t.toString()):"icon-"+this.id,!n.queryAll(this.bookmark_id,{query:{id:this.id}}).length){var s={},d=this;h.properties.forEach(function(e){s[e]=d[e]}),n.insertOrUpdate(this.bookmark_id,{id:s.id},s),n.commit(),_.updateToggle()}}function v(e,t,o){c.getTimestamp();this.bookmark_id=e.bookmark_id||(Math.random().toString(36)+"00000000000000000").slice(2,18),this.name=e.name||messages.collection.default_name,this.status=0!=e.status?1:0,this.color=e.color||"000000",this.created=e.created,this.updated=e.updated,this.source=e.source||"local",this.icons=e.icons||[],this.active=parseInt(e.active,10)||1,this.order=parseInt(e.order,10)||0,n.update("list",function(){return!0},function(e){return e.active=0,e.order++,e}),n.commit();var i=this;e={duplicate:!1},["bookmark_id","name","color","created","updated","active","order","source","status"].forEach(function(t){void 0!==i[t]&&(e[t]=i[t])});var r=n.queryAll("list").filter(function(t){return t.bookmark_id==e.bookmark_id});r.length&&(e.active=r[0].active,e.order=r[0].order),n.insertOrUpdate("list",{bookmark_id:this.bookmark_id},e),n.tableExists(this.bookmark_id)&&n.dropTable(this.bookmark_id),this.icons.length?(this.icons.forEach(function(e){for(var t in e)~h.properties.indexOf(t)||(e[t]=null);e.bookmark_id=i.bookmark_id}),n.createTableWithData(this.bookmark_id,this.icons)):n.createTable(this.bookmark_id,h.properties),n.commit(),o&&(e.duplicate=!0,e.icons=this.icons),t||"tour_demo_collection"==e.bookmark_id||v.emit("create",e),t||_.update(t);var a=document.querySelector("#collections-holder");a.classList.add("overflow"),a.classList.remove("scrollable"),document.querySelector("button.flaticon-share").disabled=!gr.auth.me.status}function y(){var e=document.querySelector(".popover-button.active"),t=document.querySelector(".popover-content.show-menu");e&&e.classList.remove("active"),t&&t.classList.remove("show-menu")}function b(e){if(e.namespace&&"Auth.error"!=e.namespace){var t=e.namespace.split(".");"function"==typeof window[t[0]][t[1]]&&(delete e.namespace,window[t[0]][t[1]](e))}window.loading=!1}function _(){}function k(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var o=e[t];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf("download_collection="))return}document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"),clearTimeout(i)}function w(){l.ModalDetail.id?S():"function"==typeof p.toggleSliderDetailButton&&Object(p.toggleSliderDetailButton)()}function S(){window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval);var e=document.querySelector("#download-form #icon_id").value,t=document.querySelector("#download-form #keyword").value,o=document.querySelector("#download-form #team").value,i=document.querySelector("#download-form #colored").value,r=document.querySelector("#download-form #premium").value;if(n instanceof Object){var a="addIcon",c=v.getActive();n.queryAll(c.bookmark_id,{query:{id:e}}).length&&(a="delIcon");var l,s=document.getElementById("detail-icon-button");"delIcon"===a?(s.addClass("btn-danger"),l=messages.collection.delete_icon):(s.removeClass("btn-danger"),l=messages.collection.add_icon),void 0!==s.querySelector("span")&&(s.querySelector("span").innerHTML=l),s.setAttribute("onclick","Widget."+a+"("+e+",'"+t+"',"+o+", "+i+", "+r+")"),s.get("i").classList.toggle("flaticon-collections_remove","delIcon"==a)}else window.toggleDetailBtnInterval=setInterval(w,1e3)}$(function(){$(".edit-icon-content").click(function(e){e.stopPropagation()}),$(".edit-icon-wrapper .close-button").click(function(e){e.stopPropagation(),_._openEditModal(!1,!1)}),$(document).on("click",".btn-edit-icon",function(){var e={id:document.querySelector("#download-form #icon_id").value,name:document.querySelector("#download-form #keyword").value,color:document.querySelector("#download-form #colored").value,premium:document.querySelector("#download-form #premium").value};_._openEditModal(!0,e,!0)}),$(document).on("click",".context_btn-edit-icon",function(e){e.preventDefault();var t=this.parents(".icon")[0],o={id:t.dataset.id,name:t.dataset.name,color:t.dataset.color,premium:t.dataset.premium};this.classList.contains("collection-context")?_._openEditModal(!0,o):_._openEditModal(!0,o,!1,!0)}),$(document).on("click",".only_registered .close-alert",function(){_.reset_widget()}),$(".edit-icon-content .right > header button").on("click",_._toggleEditPanel),$(".edit-icon-content .left #download_button").on("click",function(){_._toggleEditPanel(!0)}),$(".collection").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.color-mode .icons li .edit label input:checked');$("#edit-color").toggleClass("show",t.length>0)}),$(".collections").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.edit-mode:not(.color-mode) .icons li .edit label input:checked'),o=this.parent(".icon"),i=v.getActive().bookmark_id,r=n.queryAll(i,{query:{id:o.dataset.id}});_._openEditModal(t.length>0,r[0]),$(document).on("click",".collection_color_button",_.createCollectionCPicker)}),$(document).on("click",".edit-icon-content .right header button",function(){_._openEditModal(!1,!1),$("#edit-color").removeClass("show"),$('.collection[data-order="0"] .collection_icons_list .icon .edit input[type=checkbox]:checked').prop("checked",!1)}),window.addEventListener("dragstart",function(e){e=e||event},!1),window.addEventListener("dragenter",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragleave",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragover",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragend",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("drop",function(e){(e=e||event).preventDefault()},!1),$(document).on("dragstart",".collection-content.sort-mode .collectionIcon",function(e){e.originalEvent.dataTransfer.setData("text/plain","icon"),h.moveDragStart(e)}),$(document).on("dragleave",".collection-content.sort-mode .collectionIcon",function(e){h.moveDragLeave(e)}),$(document).on("drop",".collection-content.sort-mode .collectionIcon",function(e){h.moveDrop(e)}),$(document).on("dragend",".collection-content.sort-mode .collectionIcon",function(e){h.moveDragEnd(e)}),$(document).on("dragenter",".collection-content.sort-mode .collectionIcon",function(e){h.moveDragEnter(e)}),$("#btn-fetch-collection").click(v.fetch),$(document).on("click",".overlay-drop .register button",function(e){e.preventDefault(),this.parentNode.parentNode.style.display="none",this.parentNode.parentNode.classList.remove("register")}),$(document).on("click",".overlay-drop .upgrade button",function(e){e.preventDefault(),this.parentNode.parentNode.style.display="none",this.parentNode.parentNode.classList.remove("upgrade")}),$(document).on("click",".collection-content:not(.sort-mode) .icon-upload",function(e){e.preventDefault(),this.parentNode.parentNode.parentNode.parentNode.querySelector("input.fileCollection").click()}),$(document).on("change",".fileCollection",function(e){if(e.preventDefault(),!v.checkUploadLimits(e))return!1;if(e.target.files.length){for(var t=0;t<e.target.files.length;t++)e.target.files[t].id=Date.now().toString()+t,h.checkUploadSvg(e.target.files[t]);console.log("Collection.getActive()",v.getActive()),console.log("bookmark_id",v.getActive().bookmark_id),document.getElementById("fileCollection-"+v.getActive().bookmark_id).value=""}}),$(".icons .icon").attrchange({trackValues:!0,callback:function(e){"data-premium"==e.attributeName&&1==e.oldValue&&0==e.newValue&&e.target.setAttribute("data-premium",e.oldValue),"data-id"==e.attributeName&&e.newValue!=e.target.dataset.modified&&(e.target.dataset.modified=e.oldValue,e.target.setAttribute("data-id",e.oldValue))}}),setInterval(function(){[].forEach.call(document.getElementsByClassName("collectionIconImage"),function(e){_.renderSVG(e)})},5e3),$(".collections").on("click",".help_link",function(e){e.preventDefault(),window.open(this.href,"_blank").focus()}),$(".modal-download.modal-collection #download-free").on("click",function(e){e.stopPropagation(),$("#download-collection-form").submit(),Object(c.$_)("#modal-download").checked=!1,Object(c.$_)("#modal-credit").checked=a.open_attribution_modal()}),$("#modal-download").change(function(e){if(!this.checked){var t=document.querySelector(".collection.expanded .download-holder button");null!==t&&(t.classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"))}}),$(".modal-download .modal-fade-screen").on("click",function(e){document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading")}),$("#max-collections").on("click",".box:not(.keepDisabled)",function(e){e.stopPropagation();var t=this.parentNode.find(".box.keep-collection").length;if(t==v.limit.collections&&!this.classList.contains("keep-collection"))return!1;this.classList.toggle("keep-collection"),t=this.parentNode.find(".box.keep-collection").length;var o=v.limit.collections-t;this.parentNode.find(".box:not(.keep-collection)").forEach(function(e){e.classList.toggle("keepDisabled",0==o)}),Object(c.$_)(".max-collections-container .keepCounter").innerHTML=o;var n=document.get("#max-collections #button-confirm"),i=document.get("#max-collections p.choose");0==o?(n.classList.remove("hidden"),i.classList.add("hidden"),n.disabled=!1):(n.classList.add("hidden"),i.classList.remove("hidden"),n.disabled=!0)}),$("#max-collections").on("click","#button-confirm",function(){var e=[];Object(c.$_)(".keep-collection").forEach(function(t){e.push(parseInt(t.getAttribute("data-bookmark"),10))}),n.update("list",function(t){return!~e.indexOf(t.bookmark_id)},function(e){var t=Object(c.$_)(".collection[data-bookmark='"+e.bookmark_id+"']");t.classList.add("locked");var o=t.get(".popover .menu-options");o&&([].forEach.call(o.querySelectorAll("li button.collection-option"),function(e){e.classList.contains("delete-collection")||e.classList.add("hidden")}),o.querySelector(".locked-collection").classList.remove("hidden"));var n=t.get(".download-wrapper");n&&n.parentNode.removeChild(n);var i=t.get(".upgrade_btn");return i&&i.classList.remove("hidden"),e.status=0,v.emit("set",{bookmark_id:e.bookmark_id,status:0}),e}),n.commit(),Object(c.$_)("#max-collections").classList.remove("visible")}),$("#collections").on("click",".collection_share_button",function(e){var t;Array.from(e.target.parentNode.offsetParent.children).filter(function(e){e.classList.contains("selectInput")&&(t=e.value)}),v.share(this.dataset.type,t)}),$(document).on("click",".collection-header.hover",function(e){document.body.classList.add("notouch")}),$(document).on("click",".collection-icon-delete, .collectionIcon .flaticon-collections_remove",function(e){e.stopPropagation(),e.preventDefault(),_.delIcon(parseInt(this.parent(".icon").dataset.id,10))}),$(document).on("click",".icon .overlay button, a.collection_add-remove",function(e){e.stopPropagation(),e.preventDefault();var t=this.parent(".icon");_[t.classList.contains("selected")?"delIcon":"addIcon"](t.dataset.id,t.dataset.name,t.dataset.team,t.dataset.color,t.dataset.premium,t.dataset.custom_color)}),$(document).on("click",".collection .collection-header",function(e){e.stopPropagation(),window.launching=!0;var t=this.parent(".collection");t.classList.contains("expanded")?t.classList.contains("locked")||s.History_Collection.set_collection():(window.firstColorChange=!0,v.setActive(t.dataset.bookmark))}),$(document).on("click",".collection-header .edit-collection",function(e){e.stopPropagation(),window.launching=!0;var t=this.parent(".collection");if(t.classList.contains("expanded")){if(!t.classList.contains("locked")){var o=t.get(".edit-name");o.classList.add("active"),o.get("input").select(),s.History_Collection.set_collection()}}else window.firstColorChange=!0,v.setActive(t.dataset.bookmark)}),$(document).on("click",".collectionIcon .edit .popover-button",function(){_.createIconsCPicker(this)}),$(document).on("click",".collection .edit-name:not(.active), .edit-name.active .flaticon-disk",function(e){e.stopPropagation(),v.rename(this)}),$(document).on("click",".download-holder button",function(e){e.stopPropagation(),this.parent(".collection").get(".collection-download").classList.add("active")}),$(document).on("click","#collections ul.download li button.btn",function(e){e.stopPropagation(),e.preventDefault(),this.parent(".download-files").get(".customize").classList.add("active")}),$(document).on("click",".collection-download.active .download-button",function(e){e.stopPropagation();var t=this.parent(".collection");t.get(".collection-download .customize").classList.remove("active"),t.get(".collection-download").classList.remove("active"),v.download(t.dataset.bookmark,this.dataset.format,this.dataset.size)}),$(document).on("click",".collection-download.active .header-download button",function(e){e.stopPropagation();var t=this.parent(".collection");t.get(".collection-download .customize").classList.remove("active"),t.get(".collection-download").classList.remove("active")}),$(window).resize(function(){clearTimeout(window.resizeWindowInterval),window.resizeWindowInterval=setTimeout(function(){Object(c.$_)(".collection.expanded .collection-content");delete window.resizeWindowInterval},500)});$(document).on("keyup",".collection-name-input",function(e){e.preventDefault(),13==e.which&&v.rename(this),27==e.which&&(this.value=this.dataset.original,this.parentElement.classList.remove("active"),this.blur())}),$(document).on("click",".collection-icon-rename",function(e){e.stopPropagation(),this.select()}),$(document).on("keyup",".collection-icon-rename",function(e){e.preventDefault(),13==e.which&&h.rename(this),27==e.which&&(this.value=this.dataset.original)}),$(document).on("blur",".collection-icon-rename",h.rename),$(document).on("click","#collections-toggle",function(e){e.stopPropagation(),_.toggle()}),$(document).on("click",".collection-header button.edit-collection",function(e){e.stopPropagation();var t=this.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".edit-name");y(),[].forEach.call(document.find(".collection .collection-header .edit-name"),function(e){e.classList.remove("active")}),t.classList.add("active"),t.get("input").select()}),$(document).on("click",".collection-options .toggle-edit",v.openEditMode),$(document).on("click",".collection .collection-content .header-edit .btn-back",v.closeEditMode),$(document).on("click",".collection-options .toggle-sort",v.openSortMode),$(document).on("click",".collection .collection-content .header-sort .btn-back",v.closeSortMode),$(document).on("click",".collection-options .toggle-share",v.toggleShareLayer),$(document).on("click",".collection-share .close",v.toggleShareLayer),$(document).on("click",".collection-options .toggle-backup",v.toggleBackupLayer),$(document).on("click",".collection-backup .close",v.toggleBackupLayer),$(document).on("click",".collection-header button.flaticon-bin, .collection.locked .locked-options button",function(e){e.stopPropagation();var t=Object(c.$_)("#modal-delete-collection");t.parentNode.get(".modal-inner button.btn-danger").dataset.bookmark=this.dataset.bookmark,t.checked=!0}),$(".modal_delete_collection .modal_delete_collection_btn").click(function(e){e.stopPropagation();var t=this.getAttribute("data-bookmark");t&&v.del(t),c.closeModal(this)}),$(document).on("click",".collection .color-selector li button",function(e){$(this.parent(".color-selector").nextElementSibling).colpickSetColor(this.dataset.color)}),$(document).on("click",".collection_color_button",_.createCollectionCPicker),$(document).on("change",".upload-file-input",function(e){var t=this.files[0];if(t.type.match(/text.*/)){var o=new FileReader;o.onload=function(e){$.ajax({url:APP_URL+"Collections/restore_backup",type:"POST",data:JSON.stringify(o.result),success:function(e){v.restore_backup(e)}})},o.readAsText(t),this.value=""}else console.log("File not supported!")}),$(document).on("click","#paint_collection",function(){document.getElementById("collections").classList.contains("expanded")?(document.querySelector(".paint-popover").classList.remove("popover-left"),document.querySelector(".paint-popover").classList.add("popover-right")):(document.querySelector(".paint-popover").classList.remove("popover-right"),document.querySelector(".paint-popover").classList.add("popover-left")),_.createCollectionCPicker(),document.querySelector('section[data-bookmark="'+v.getActive().bookmark_id+'"] .trigger_popover').click()})}),$(document).on("click","#collections-holder .download-holder button",function(){var e=n.queryAll(v.getActive().bookmark_id).map(function(e){return e.id});$.ajax({url:APP_URL+"ajax/collections/license",type:"POST",data:{bookmarkIconIds:e},success:function(e){e=JSON.parse(e);var t=document.querySelector("div.modal-download"),o="";e.forEach(function(e){o+="<div>"+messages.attribution.icons_made_by+' <a href="'+APP_URL+messages.url.authors+"/"+e.slug+'" title="'+e.name+'">'+e.name+'</a> from <a href="'+APP_URL+'"     title="Flaticon">www.flaticon.com</a></div>'}),t.querySelector("#input_atributtion_text").setAttribute("value",o),t.querySelector(".copy-wrapper").classList.remove("hidden")}})}),h.properties=["id","name","author","color","premium","sort"],h.set=function(e,t,o,i){if(!e)return!1;if(!e)throw"Invalid icon id (Icon.set)";if(!o)throw"Invalid bookmark_id (Icon.set)";var r=["color","name","sort","id","premium"];for(var a in t)-1==r.indexOf(a)&&delete t[a];if(!n.tableExists(o))throw"Table "+o+" doesn't exists (Icon.set)";if(!Object.keys(t).length)throw t;var l=c.getTimestamp();n.update("list",{bookmark_id:o},function(e){return e.updated=l,e}),n.update(o,{id:e},function(e){for(var n in t)e[n]=t[n];return t={},h.properties.forEach(function(o){t[o]=e[o]}),t.bookmark_id=o,t.updated=l,i||v.emit("put_icon",t),e}),n.commit()},h.refreshSVG=function(e){var t=Object(c.$_)(".collection[data-bookmark='"+e.bookmark_id+"'] .icon[data-id='"+e.original+"']");t.dataset.color=e.color;var o=r.urlUserIcon(e.id);t.get("svg,img").outerHTML='<img src="{0}" data-premium="4"></img>'.format(o),"XXXXXX"!=t.dataset.color?(_.getSVGCode({id:e.original,bookmark:e.bookmark_id,src:o,premium:4,color:e.color}),h.set(e.original,{id:e.original,color:e.color},e.bookmark_id,!0),t.dataset.id=e.original):(_.getSVGCode({id:e.id,bookmark:e.bookmark_id,src:o,premium:4,color:e.color}),h.set(e.original,{id:e.id,premium:4,color:e.color},e.bookmark_id,!0),t.dataset.id=e.id),w()},h.toggle=function(e){w();var t,o,n=document.querySelectorAll(".icons .icon[data-id='"+e+"']:not(.collectionIcon)");n.length&&[].forEach.call(n,function(e){e.classList.toggle("selected"),t=e.get(".overlay .add-remove"),o=["add","remove"],e.classList.contains("selected")&&o.reverse(),t.classList[o[0]]("flaticon-collections_add"),t.classList[o[1]]("flaticon-collections_remove"),e.querySelector(".collection_add-remove i").classList[o[0]]("flaticon-collections_add"),e.querySelector(".collection_add-remove i").classList[o[1]]("flaticon-collections_remove"),"remove"===o[0]&&(e.querySelector(".collection_add-remove span").innerText="Remove from collection"),"add"===o[0]&&(e.querySelector(".collection_add-remove span").innerText="Add to collection")})},h.rename=function(e){var t=(e=e instanceof Element?e:e.currentTarget).value.length?c.slug(e.value):e.dataset.original;if(t!=e.dataset.original){var o=parseInt(e.parent(".icon").dataset.id,10),n=Object(c.$_)(".collection[data-order='0']").dataset.bookmark;h.set(o,{name:t},n),e.dataset.original=t,e.value=t,ga("send","event","Collection","Rename Icon")}},h.cleanSvgIcon=function(e){var t=document.createElement("div");t.innerHTML=e;for(var o=t.getElementsByTagName("*"),n=-1,i=o.length;++n<i;)void 0===o[n]&&o[n].hasAttribute("fill")&&"none"==o[n].getAttribute("fill")&&(!o[n].hasAttribute("stroke")||o[n].hasAttribute("stroke")&&"none"==o[n].getAttribute("stroke"))&&o[n].parentNode.removeChild(o[n]);return t.innerHTML},h.equal_colors=function(e){if(!Array.isArray(e)||1==e.length||0==e.length)return null;for(var t=0;t<e.length;t++)if(t>0&&e[t]!=e[t-1])return e;return null},h.checkSvgColor=function(e){var t=e.match(/#(?:[a-f\d]{3}){1,2}\b|rgb\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){2}\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)|\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%(?:\s*,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%){2})\s*\)|hsl\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2}\)|(?:rgba\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){3}|(?:\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*,){3})|hsla\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2},)\s*0*(?:1|0(?:\.\d+)?)\s*\)/gi);return null!=(t=h.equal_colors(t))?1:0},h.checkXmlFormat=function(e){var t=new DOMParser;try{var o=t.parseFromString(e,"text/xml")}catch(e){return!1}return"svg"==(/script/i.test(e)?"ERROR while parsing":"parsererror"==o.documentElement.nodeName?"error while parsing":o.documentElement.nodeName)},h.checkUploadSvg=function(e){var t=new FileReader,o=sanitize_filename(e.name),i=new File([e],o,{type:e.type});if(e.size>15e4)return ga("send","event","Collection","Upload Icon","Error: Exceeded size."),c.UserAlerts.danger("ERROR",messages.limit.max_size+" (Max. 150Kb.)",!1),!1;t.filename=o,t.filetype=e.type,t.file=i,t.onloadend=function(e){var t=0;window.webkitURL||window.URL||window;if("image/svg+xml"!=e.target.filetype)return ga("send","event","Collection","Upload Icon","Error: File not SVG"),void c.UserAlerts.danger("ERROR",messages.collection.only_svg,!1);if(!h.checkXmlFormat(e.target.result))return ga("send","event","Collection","Upload Icon","Error: Malformed SVG"),c.UserAlerts.danger("ERROR",messages.collection.svg_incorrect,!1),!1;t=h.checkSvgColor(e.target.result),e.target.filetype;var o=v.getActive(),i=n.query(o.bookmark_id).length+1;v.upload_icon(this.file,t,i)},t.onerror=function(e){console.log("ERROR",e)},t.readAsText(e),delete window.reader},h.moveDragStart=function(e){var t=e.originalEvent.dataTransfer;t.effectAllowed="move",t.dropEffect="move",_.dragged_icon="LI"==e.target.nodeName?e.target:e.target.parentNode.parentNode,_.dragged_icon.classList.add("dragHover"),_.dragged_position=parseInt(_.dragged_icon.dataset.sort,10)},h.moveDragEnter=function(e){var t,o="LI"==e.target.nodeName?e.target:e.target.parentNode.parentNode;if(o.dataset.id==_.dragged_icon.dataset.id)return!1;t=_.dragged_icon.dataset.sort==o.dataset.sort+1?e.currentTarget:_.dragged_icon.dataset.sort<=o.dataset.sort?e.currentTarget:e.currentTarget.nextElementSibling,_.moveIcon(_.dragged_icon,t),_.scroll(e.clientX,e.clientY)},h.moveDragLeave=function(e){},h.moveDragEnd=function(e){e.preventDefault(),e.stopPropagation(),h.moveDrop(e)},h.moveDrop=function(e){e.preventDefault();var t=v.getActive(),o=document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"]');if(_.reorderIcons(o,!1),_.dragged_icon.classList.contains("dragHover")){_.dragged_icon.classList.remove("dragHover");var n=parseInt(_.dragged_icon.dataset.id,10),i=parseInt(o.querySelector('li[data-id="'+n+'"]').dataset.sort,10);h.updateReorder(t.bookmark_id,n,_.dragged_position,i)}},h.updateReorder=function(e,t,o,n){v.emit("reorder_item",{bookmark_id:e,icon_id:t,old_order:o,new_order:n})},v.fetch=function(e){if(r.collectionHeaderHover(),!0===e){var t=!1,o=document.getElementById("btn-fetch-collection");return!!o&&(Array.isArray(collection_icons)&&(collection_icons.every(function(e){return 0!=e.premium})&&(t=!0),v.limit.collections&&n.rowCount("list")>=v.limit.collections&&(t=!0)),void(o.disabled=t))}if("undefined"==typeof collection_icons)return!1;if(!Array.isArray(collection_icons)||!gr.auth.logged||v.limit.collections&&n.rowCount("list")>=v.limit.collections)return console.warn("No se puede realizar fetch",!Array.isArray(collection_icons),!gr.auth.logged,v.limit.collections&&n.rowCount("list")>=v.limit.collections),!1;var i={personal:!1,premium:!1},a={color:"000000"};a.name=document.getElementsByTagName("h1")[0].innerText,a.source="fetch",a.icons=collection_icons.filter(function(e){return 4==e.premium&&e.author!=gr.auth.me.id?(i.personal=!0,!1):!(1==e.premium&&!gr.auth.me.premium)||(i.premium=!0,!1)}),i.premium&&c.UserAlerts.warning("Ooops!",messages.collection.fetch_premium),i.personal&&c.UserAlerts.warning("Ooops!",messages.collection.fetch_personal),new v(a,!1,!0)},v.init=function(){if(!n){v.limit={};var e={icons:{value:50},collections:{value:1}};if(gr.auth.logged){var t=Object(c.$_)(".dropdown-upgrade.register");e={icons:{value:256},collections:{value:3}}}else t=Object(c.$_)(".dropdown-upgrade.upgrade");t&&t.parentNode.removeChild(t),gr.auth.me.premium&&(e.collections.value=0),Object.defineProperties(v.limit,e),Object.freeze(v);var o=gr.auth.me.id||0;if((n=new localStorageDB(o)).tableExists("list")?n.columnExists("list","status")||n.alterTable("list","status",1):(n.createTable("list",["name","bookmark_id","created","updated","active","source","order","color","status"]),ga("send","event","Collection","Create First")),n.queryAll("list").forEach(function(e){n.columnExists(e.bookmark_id,"premium")||n.alterTable(e.bookmark_id,"premium",0),n.columnExists(e.bookmark_id,"sort")||n.alterTable(e.bookmark_id,"sort",0)}),n.tableExists("tour_demo_collection")&&(n.dropTable("tour_demo_collection"),n.deleteRows("list",{bookmark_id:"tour_demo_collection"})),n.commit(),localStorage.getItem("widget_state_user")!=gr.auth.me.id&&null!==Object(c.$_)("#collections-holder")&&(Object(c.$_)("#collections-holder").innerHTML=""),null!==document.getElementById("collections-holder")&&document.getElementById("collections-holder").childElementCount){_.update(!0);var i=!0}gr.auth.logged?v.push():i||_.update(),v.fetch(!0)}},v.pull=function(){v.emit("pull")},v.openEditMode=function(){v._toggleEditMode("add")},v.closeEditMode=function(){v._toggleEditMode("remove")},v._toggleEditMode=function(e){var t=Object(c.$_)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("edit-mode"),t.get(".header-sort").classList[e]("hidden"),t.get(".header-edit").classList[e]("visible"),t.get(".download-wrapper").classList[e]("hidden"),y()},v.openSortMode=function(){ga("send","event","Collection","Sort"),v._toggleSortMode("add"),v.FirstIconOrder("add"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_disabled})},v.closeSortMode=function(){v._toggleSortMode("remove"),v.FirstIconOrder("remove"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_enabled})},v._toggleSortMode=function(e){var t=Object(c.$_)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("sort-mode"),t.get(".header-sort").classList[e]("visible"),y()},v.toggleShareLayer=function(e){Object(c.$_)('.collection[data-order="0"]').get(".collection-share").classList.toggle("visible"),y()},v.toggleBackupLayer=function(e){Object(c.$_)('.collection[data-order="0"]').get(".collection-backup").classList.toggle("visible"),y()},v.merge=function(){var e=new localStorageDB(0);e.queryAll("list").forEach(function(t){if(t.icons=e.queryAll(t.bookmark_id),t.icons.length){var o=c.getTimestamp();t.created||(t.created=o),t.updated||(t.updated=o),new v(t,!1,!0)}}),e.drop()},v.set_id=function(e){n.renameTable(e.old_id,e.bookmark_id),n.update("list",{bookmark_id:e.old_id},function(t){return t.bookmark_id=e.bookmark_id,t.source="local",t}),n.commit(),n.rowCount(e.bookmark_id)&&(n.update(e.bookmark_id,function(e){return!0},function(t){return t.bookmark_id=e.bookmark_id,t}),n.commit()),_.limitsCollection(e.bookmark_id);var t=Object(c.$_)(".collection[data-bookmark='"+e.old_id+"']");t&&(t.dataset.bookmark=e.bookmark_id);var o=t.querySelector(".header-options button.flaticon-bin");o&&(o.dataset.bookmark=e.bookmark_id);var i=t.querySelector(".collection-share input");if(i){var r=i.value.split("/");r.pop(),r.push(e.bookmark_id),i.value=r.join("/")}var a=Object(c.$_)(".box[data-bookmark='"+e.old_id+"']");a&&(a.dataset.bookmark=e.bookmark_id)},v.emit=function(e,t){if(gr.auth.me.id){if("tour_demo_collection"==(t=t instanceof Object?t:{}).bookmark_id)return;gr.request.post("/collections/"+e,t)}},v.limitReached=function(){var e=Object(c.$_)(".max-collections-content"),t=Handlebars.tag("collection-limit-box"),o=n.queryAll("list",{query:{status:1}});if(!((v.limit.collections?o.length-v.limit.collections:0)<1)){Object(c.$_)("#max-collections").classList.add("visible"),e.innerHTML="",o.forEach(function(o){o.icons=n.queryAll(o.bookmark_id,{limit:10,sort:[["created","DESC"]]}),o.count=n.rowCount(o.bookmark_id),e.insertAdjacentHTML("beforeend",t(o))});for(var i=0;i<5;i++)e.insertAdjacentHTML("beforeend",'<article class="box box--fake"></article>')}},v.set=function(e,t){var o=Object(c.$_)(".collection[data-bookmark='"+e+"']"),i=t.force,r=t.old_color;for(var a in t)-1==["name","bookmark_id","source","color"].indexOf(a)&&delete t[a];Object.keys(t).length&&(t.updated=c.getTimestamp(),n.update("list",{bookmark_id:e},function(n){"name"in t&&(o.get(".collection-name").innerHTML=t.name),"bookmark_id"in t&&(o.dataset.bookmark=t.bookmark_id);var a={bookmark_id:e,force:i,old_color:r};for(var c in t)n[c]=t[c],a[c]=t[c];return v.emit("set",a),n}),n.commit())},v.editName=function(){var e=Object(c.$_)(".collections [data-order='0'] .collection-header .edit-name");e.classList.add("active"),e.get("input").select()},v.list=function(){var e=Object(c.$_)("#collections-holder");[].forEach.call(document.find("#collections .collection"),function(e){0==e.getAttribute("data-order")&&e.classList.contains("expanded")?(e.classList.remove("expanded"),ga("send","event","Collection","List","Hide")):(0==e.getAttribute("data-order")&&e.classList.add("expanded"),ga("send","event","Collection","List","Show"))}),e.classList.toggle("overflow"),e.classList.toggle("scrollable")},v.expandCollapse=function(){var e=Object(c.$_)("#collections"),t=Object(c.$_)("#viewport");e.classList.toggle("expanded"),t.classList.toggle("collections-expanded")},v.setActive=function(e,t){e||(e=v.getActive().bookmark_id);var o=n.queryAll("list",{sort:[["order","ASC"]]}),i=[e];if(!t){var r=Object(c.$_)("#collections-holder");r&&(r.scrollTop=0,r.classList.add("overflow"),r.classList.remove("scrollable"))}var a=o.length>1?o.length>2?"collection-height-2":"collection-height-1":"";o.forEach(function(o){o.bookmark_id!=e&&i.push(o.bookmark_id);var r=Object(c.$_)('.collection[data-bookmark="'+o.bookmark_id+'"]');if(r){if(r.length>1)for(var l=1,s=r.length;l<s.length;l++)r[l].parentNode.removeChild(l);o.order=i.indexOf(o.bookmark_id),r.dataset.order=o.order,o.bookmark_id==e&&(o.active=1,r.classList.remove("collection-height-1","collection-height-2"),t||r.classList.add("expanded"),a.length&&r.classList.add(a)),n.update("list",{bookmark_id:o.bookmark_id},function(e){return e.order=o.order,e.active=o.active,e}),n.commit(),gr.auth.me.status&&Object(u.show_feedback_collection)(o.bookmark_id)}}),void 0!==s.History_Collection&&s.History_Collection.set_collection(),_.limitsCollection(e),_.update(null,t)},_.limitsCollection=function(e){if(!e)return!1;var t=Object(c.$_)("#collections-toggle"),o=n.rowCount(e),i=Object(c.$_)(".collection[data-bookmark='"+e+"']");if(i){var r=i.querySelector(".max-icons-collection");if(o>=v.limit.icons)gr.auth.me.id?r&&(r.style.display="block",c.UserAlerts.danger("Ooop!",messages.limit.collection)):(i.get(".icons-collection-noregister").style.display="block",c.UserAlerts.danger("Ooop!",messages.limit.guest)),t.classList.add("limit-reached"),i.classList.add("limit-reached");else{r&&(r.style.display="none");var a=i.querySelector(".icons-collection-noregister");a&&(a.style.display="none"),t.classList.remove("limit-reached"),i.classList.remove("limit-reached")}}},v.getActive=function(){if(n){if(!n.rowCount("list"))throw"No collections stored";var e=n.queryAll("list",{query:{active:1}});return e=e.length?e[0]:n.queryAll("list")[0]}},v.clear=function(e){n.truncate(e),_.clear(),v.emit("clear",{bookmark_id:e}),void 0!==s.History_Collection&&s.History_Collection.collection_delete(e);var t=document.get(".collection[data-order='0'] .collection-header .edit-name input");t&&(t.value=messages.collection.default_name,t.classList.remove("limit-reached"),v.rename()),_.updateToggle(),_.markSelectedIcons(),ga("send","event","Collection","Clear")},v.duplicate=function(){ga("send","event","Collection","Duplicate");var e=v.getActive(),t={},o=c.getTimestamp(),i=!1;t.name=e.name+" 2",t.status=1,t.color=e.color,t.created=o,t.updated=o,t.source="local",t.icons=n.queryAll(e.bookmark_id),t.icons.length&&t.icons.forEach(function(e){4==e.premium&&(i=!0)}),i?this.duplicate_files(t):new v(t,!1,!0)},v.duplicate_files=function(e){var t=new FormData;t.append("collection",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/duplicate",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){new v((e=JSON.parse(e)).data.data,!1,!0)}})},v.del=function(e,t){e instanceof Object&&(t=!0,e=e.id),e||(e=Object(c.$_)(".collection[data-order='0']").dataset.bookmark);var o=n.queryAll("list",{query:{bookmark_id:e}});if(!o.length)return n.tableExists(e)&&n.dropTable(e),n.commit(),!1;if(o=o[0],1!=n.rowCount("list")||"tour_demo_collection"==o.bookmark_id){n.deleteRows("list",{bookmark_id:o.bookmark_id}),n.commit(),n.tableExists(o.bookmark_id)&&n.dropTable(o.bookmark_id),void 0!==s.History_Collection&&s.History_Collection.collection_delete(o.bookmark_id),n.update("list",function(e){return e.order>o.order},function(e){e.order=parseInt(e.order,10)-1}),n.commit();var i=Object(c.$_)(".collection[data-bookmark='"+o.bookmark_id+"']");if(!i)return!1;i.parentElement.removeChild(i),Object(c.$_)("#new_collection_btn").disabled=v.limit.collections&&n.rowCount("list")>=v.limit.collections,n.rowCount("list")||v.new(),t||(v.emit("del",{bookmark_id:o.bookmark_id}),ga("send","event","Collection","Delete")),v.setActive(null,n.rowCount("list")>1)}else v.clear(o.bookmark_id)},v.new=function(e){if(!(v.limit.collections&&n.rowCount("list")>=v.limit.collections)&&(void 0!==e&&e instanceof Object||(e={}),EventTracker.send("all","event","collection","create"),e.name=void 0!==e.name&&e.name.length?e.name:messages.collection.default_name,new v(e),void 0!==s.History_Collection&&(s.History_Collection.set_collection(),s.History_Collection._toogle_cursors()),v.getActive())){var t=document.querySelector('section.collection[data-bookmark="'+v.getActive().bookmark_id+'"]');t.querySelector("div.edit-name").classList.add("active"),t.querySelector("div.edit-name input.collection-name-input").select()}},v.push=function(e){var t=e&&"number"==typeof e?{query:{bookmark_id:e}}:{sort:[["order","DESC"]]},o=n.queryAll("list",t);o.forEach(function(e){["ID","order","active"].forEach(function(t){delete e[t]}),e.icons=n.queryAll(e.bookmark_id,{sort:[["sort","DESC"]]})}),v.emit("push",{data:o})},v.enqueue=function(e){var t=Object.keys(e);if(t.length){!0;var o=0;for(var n in e)if(++o,"function"==typeof window[e[n].namespace][e[n].callback]){if(e[n].data)try{e[n].data.prevent=o!=t.length}catch(i){e[n].prevent=o!=t.length}window[e[n].namespace][e[n].callback](e[n].data)}}localStorage.getItem("fi_0")&&(!0,v.merge()),_.update(),v.setActive()},v.load=function(e){if(!Array.isArray(e)&&"object"==f(e))e=Object.keys(e).map(function(t){return e[t]});e.forEach(function(e){if(Object(c.$_)(".collection[data-bookmark='"+e.bookmark_id+"']"))return!1;e.source="remote",n.tableExists(e.bookmark_id)&&n.dropTable(e.bookmark_id),e.icons.length?n.createTableWithData(e.bookmark_id,e.icons):n.createTable(e.bookmark_id,h.properties),n.insertOrUpdate("list",{bookmark_id:e.bookmark_id},e)}),window.firstColorChange=!0},v.rename=function(e){e||(e=Object(c.$_)(".collection[data-order='0'] .collection-header .edit-name input"));var t=e.parent(".collection"),o=t.get(".collection-header .edit-name"),n=(n=o.get("input").value).length?n:messages.collection.default_name;o.classList.remove("active"),e.dataset.original!=n&&(t.get(".collection-name").innerHTML=n,e.dataset.original=n,v.set(t.dataset.bookmark,{name:n}),ga("send","event","Collection","Rename"))},v.getCollectionData=function(e){var t=n.queryAll("list",{query:{bookmark_id:e}});if(t.length&&((t=t[0]).icons=n.queryAll(e).map(function(e){return{id:e.id,team:e.author,name:e.name,color:"#"+e.color,premium:e.premium,sort:e.sort}}),t.icons.length))return t},v.download=function(e,t,o){var i=document.querySelector('.collection[data-bookmark="'+e+'"]');_.reorderIcons(i,!1);var l=v.getCollectionData(e);"iconfont"==t&&n.queryAll(e,{query:{color:"XXXXXX"}}).length&&c.UserAlerts.warning(messages.collection.aware,messages.collection.iconfont_colors),n.queryAll(e,{query:{premium:4}}).length&&c.UserAlerts.warning(messages.collection.aware,messages.collection.download_personal),o=o||512,$("#download-collection-form").attr("action","/download-collection"),document.getElementById("downC_format").value=t||"font",document.getElementById("downC_size").value=o||512,document.getElementById("downC_user_id").value=gr.auth.me.id||0,document.getElementById("downC_bookmark_id").value=l.bookmark_id,document.getElementById("downC_bookmark_name").value=l.name,document.getElementById("downC_icons").value=JSON.stringify(l.icons),document.getElementById("downC_backup").value=JSON.stringify(l),Object(c.$_)(".modal-collection .collection_name").innerHTML=l.name,r.update_download_counter(3e3),_.downloading(),gr.auth.me.premium?$("#download-collection-form").submit():a.check_modal_download("collection",null),EventTracker.send("all","event","collection","download",document.getElementById("downC_format").value.toUpperCase(),l.icons.length,{metric2:l.icons.length})},v.downloadBackup=function(e){e.preventDefault();var t=v.getCollectionData(v.getActive().bookmark_id),o={ID:t.ID,active:t.active,bookmark_id:t.bookmark_id,color:t.color,created:t.created,name:t.name,order:t.order,source:t.source,status:t.status,updated:t.updated},n=(t.ID,t.bookmark_id,{colId:o,colBookmarkId:t.icons}),i=encodeURIComponent(btoa(JSON.stringify(n))),r=t.name.split(" ").join("_")+"_backup.txt";if(window.navigator.msSaveOrOpenBlob&&window.Blob){console.log("Backup 1");var a=new Blob([i],{type:"text/plain"});navigator.msSaveOrOpenBlob(a,r)}else{console.log("Backup 2");var c=document.createElement("a");c.setAttribute("download",r),c.setAttribute("href","data:text/plain;charset=utf-8,"+i),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c),document.querySelector("div.collection-backup.visible").classList.remove("visible")}},v.ninja=function(e){_.delIcon(e.icon),c.UserAlerts.danger("Ninja!",e.message)},v.share=function(e,t){share.popup({network:e,url:t})},v.upload_icon=function(e,t,o,n,i,r,a){if(!e)return!1;var c=e.id;null==e.id&&(c=Date.now().toString());var l=new FormData;l.append("iconCollection",e),l.append("isColor",t),l.append("sort",o),l.append("bookmark_id",v.getActive().bookmark_id),l.append("iconId",c),l.append("update",!0===a),void 0!==r&&l.append("name",r),void 0!==i&&l.append("color",i),void 0!==n&&l.append("id",n),$.ajax({url:APP_URL+"Collections/upload_icon",type:"POST",data:l,cache:!1,processData:!1,contentType:!1,success:function(e){ga("send","event","Collection","Upload Icon","No Error"),b((e=JSON.parse(e)).data)}})},v.delete_files=function(e){if(!gr.auth.me.id)return!1;var t=new FormData;t.append("icons",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/delete_files",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){}})},v.dragOver=function(e){if(e.preventDefault(),"IE"==c.detectBrowser())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=v.getActive();document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="block"},v.dragEnd=function(e){if(e.preventDefault(),"IE"==c.detectBrowser())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=v.getActive();document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="none"},v.drop=function(e){if(e.stopPropagation(),e.preventDefault(),"IE"==c.detectBrowser())return!1;if(document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length)return!1;var t=v.getActive();if(document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="none",document.querySelector(".overlay-drop").classList.remove("show"),!this.checkUploadLimits(e))return!1;e.dataTransfer.dropEffect="copy";var o=e.dataTransfer.files;if(o.length){for(var n=0;n<o.length;n++)o[n].id=Date.now().toString()+n,h.checkUploadSvg(o[n]);document.getElementById("fileCollection-"+t.bookmark_id).value=""}return!1},v.checkUploadLimits=function(e){var t=gr.auth.me.premium?256:3,o=v.getActive(),i=n.queryAll(o.bookmark_id,{query:{premium:4}}).length,r=void 0!==e.dataTransfer?e.dataTransfer.files.length:e.target.files.length,a=t-(r+i),l=document.querySelector('.collection[data-bookmark="'+o.bookmark_id+'"]');if(!gr.auth.me.id)return l.querySelector(".overlay-drop").style.display="block",l.querySelector(".overlay-drop").classList.add("register"),!1;if(a<0){l.querySelector(".overlay-drop").style.display="block",l.querySelector(".overlay-drop").classList.add("upgrade");var s=messages.limit.personal_limit.replace("{0}",r).replace("{1}",t);return c.UserAlerts.danger("Ooops!",s),!1}return!0},v.updateReorder=function(e,t){v.emit("reorder",{bookmark_id:e,icons:t})},v.FirstIconOrder=function(e){var t=v.getActive();if("add"==e)document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .icon-fill').insertAdjacentHTML("beforebegin",'<li class="collectionIcon first-icon" data-id="0" data-sort="0"></li>');else{var o=document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .first-icon');o&&o.parentNode.removeChild(o)}},v.test=function(e){console.log("TEST ",e)},v.restore_backup=function(e){_.restoring=!0,e=JSON.parse(e);for(var t=0,o=0,i=[],r=[],a=n.query(v.getActive().bookmark_id),l=a.length-1;l>=0;l--)r.push(a[l].id);for(var s in e)Array.isArray(e[s])&&(i=e[s]);if(n.rowCount(v.getActive().bookmark_id)>=v.limit.icons)c.UserAlerts.danger("Ooops!",messages.limit.collection);else{if(n.rowCount(v.getActive().bookmark_id)+i.length>v.limit.icons){var d=v.limit.icons-n.rowCount(v.getActive().bookmark_id),u=!0;e:for(s=i.length-1;s>=0;s--){if(!(t<=d)){u=!1;break e}if(!(-1===r.indexOf(i[s].id)&&t<d)){u=!1;break e}t++}u?i.forEach(function(e){e.id<999999999?_.addIcon(e.id,c.slug(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#","")):c.UserAlerts.warning("Ooops!",messages.collection.fetch_personal)}):c.UserAlerts.warning("Ooops!",messages.limit.backup_max_size)}else i.forEach(function(e){e.id<999999999?-1===r.indexOf(e.id)?(t++,_.addIcon(e.id,c.slug(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#",""))):o++:c.UserAlerts.warning("Ooops!",messages.collection.fetch_personal)});if(o!=i.length){var m=messages.collection.success_restore.replace("{0}",t).replace("{1}",i.length);c.UserAlerts.success("Great!",m)}if(o>0){m=messages.collection.icons_skiped.replace("{0}",o).replace("{1}",i.length);c.UserAlerts.success("Ooops!",m)}}_.restoring=!1,_.updateButtons(),document.querySelector("div.collection-backup.visible").classList.remove("visible")},_._toggleEditPanel=function(e){return!0===e?($(".edit-icon-content .right .active").removeClass("active"),$(".edit-icon-content .right .download-settings").addClass("active"),void $(".edit-icon-content").removeClass("edit-color").removeClass("edit-settings").addClass("download-settings")):$(".edit-icon-content").hasClass("download-settings")?($(".edit-icon-content").removeClass("download-settings"),$(".edit-icon-content .right .download-settings").removeClass("active"),this.classList.add("active"),$(".edit-icon-content .right ."+this.dataset.panel).addClass("active"),void $(".edit-icon-content").addClass(this.dataset.panel)):void(this.classList.contains("active")?$(".edit-icon-content .right .download-settings").removeClass("active"):($(".edit-icon-content .right .customize").removeClass("active"),$(".edit-icon-content").toggleClass("edit-color").toggleClass("edit-settings"),$(".edit-icon-content .right header button").toggleClass("active"),$(".edit-icon-content .right div:not(.download-settings)").toggleClass("active"),$(".edit-icon-content .right .download-settings").removeClass("active")))},_._openEditModal=function(e,t,o,n){var i=document.querySelector('.icon[data-id="'+t.id+'"]');e?(document.querySelector(".only_registered .alert_no_user").classList.remove("zoomOut"),gr.auth.me.status?document.querySelector(".only_registered").classList.add("hidden"):document.querySelector(".only_registered").classList.remove("hidden"),-1!=["Safari","IE"].indexOf(c.detectBrowser())&&(document.querySelector('.edit-icon-content button[data-panel="edit-settings"]').classList.add("hidden"),document.querySelector('.edit-icon-content button[data-panel="edit-color"]').style.width="100%"),-1!=["UpdatedSafari"].indexOf(c.detectBrowser())&&(document.querySelector('.edit-icon-content button[data-panel="edit-settings"]').classList.remove("hidden"),document.querySelector('.edit-icon-content button[data-panel="edit-color"]').removeAttribute("style")),-1!=["IE"].indexOf(c.detectBrowser())&&document.querySelector(".grid-selector").classList.add("hidden"),o&&document.getElementById("detail-icon-button")&&!document.getElementById("detail-icon-button").classList.contains("btn-danger")?(document.getElementById("save_into_active").innerHTML=document.getElementById("detail-icon-button").innerHTML,document.getElementById("save_into_active").classList.add("btn-gray"),document.getElementById("save_into_active").disabled=!1,document.querySelector(".edit-icons-user-actions .free_user_warning").classList.add("hidden")):o||!n||i.classList.contains("selected")?(document.getElementById("save_into_active").innerHTML='<i class="flaticon-disk"></i> <span>Save</span>',document.getElementById("save_into_active").classList.remove("btn-gray")):(document.getElementById("save_into_active").innerHTML=i.querySelector(".popover .collection_add-remove").innerHTML,document.getElementById("save_into_active").classList.add("btn-gray"),document.getElementById("save_into_active").disabled=!1,document.querySelector(".edit-icons-user-actions .free_user_warning").classList.add("hidden")),document.body.classList.add("overflow"),document.querySelectorAll(".edit-icon-content .right > div").forEach(function(e,t){e.classList.toggle("active",!t)}),document.querySelectorAll(".edit-icon-content .right header button").forEach(function(e,t){e.classList.toggle("active",!t)}),document.querySelector(".edit-icon-content").className="edit-icon-content edit-color row mg-none",d._SVG_edit.load(t,o)):(_.reset_widget(),document.body.classList.remove("overflow"),document.querySelectorAll(".icon.collectionIcon .edit input[type=radio]:checked").forEach(function(e){e.checked=!1})),$(".edit-icon-overlay").toggleClass("loading ready",e)},_.restoring=!1,_.changeIconColor=function(e,t,o,n,i,r){var a=$(t).parents(".icon")[0],c=$(t).parents(".collection")[0];if(a&&([].forEach.call(a.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(t){if(t.hasAttribute("fill")&&"none"==t.getAttribute("fill")&&(!t.hasAttribute("stroke")||t.hasAttribute("stroke")&&"none"==t.getAttribute("stroke")))return t.parentNode.removeChild(t),!0;t.hasAttribute("stroke")&&"none"!=t.getAttribute("stroke")?t.setAttribute("stroke","#"+e):t.style.fill="#"+e}),i?a.classList.add("whitebg"):a.classList.remove("whitebg"),_.markSelectedColor(e,a),a.dataset.color!=e&&(a.dataset.color=e,!o))){var l=["icoChangeColor",a.dataset.id,c.dataset.bookmark].join("_");if("tour_demo_collection"==c.dataset.bookmark)return;clearTimeout(window[l]),window[l]=setTimeout(function(){h.set(a.dataset.id,{color:e},c.dataset.bookmark,n),ga("send","event","Collection","Change Icon Color",e,{dimension11:e}),delete window[l]},500)}},_.isLight=function(e){return 299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16)>=225e3},_.changeCollectionColor=function(e,t){var o,n=Object(c.$_)(".collection[data-order='0']"),i=n.dataset.color!=e,r=n.dataset.color;if(i){if(n.dataset.color=e,_.markSelectedColor(e,n),o=n.querySelectorAll('.icon:not([data-color="XXXXXX"]) svg')){var a=_.isLight(e);[].forEach.call(o,function(t){_.changeIconColor(e,t,!1,!0,a,!0)})}"tour_demo_collection"!=n.dataset.bookmark&&(clearTimeout(window.changeCollectionColorInterval),window.changeCollectionColorInterval=setTimeout(function(){window.firstColorChange||(v.set(n.dataset.bookmark,{color:e,force:!0,old_color:r}),ga("send","event","Collection","Change Color",e,{dimension11:e})),window.firstColorChange&&delete window.firstColorChange},500))}},_.updateButtons=function(){var e=n.queryAll("list",{query:{status:1}}).length;n.tableExists("tour_demo_collection")&&e--,e>v.limit.collections&&v.limitReached();var t=v.getActive(),o=n.rowCount(t.bookmark_id),i=Object(c.$_)(".collection[data-bookmark='"+t.bookmark_id+"']"),r=i.querySelector(".menu-options ul.collection-options");if(r&&(o>0?(r.querySelector(".flaticon-collection_sort").removeAttribute("disabled"),r.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),i.querySelector(".collection-backup-download").classList.remove("disabled")):(r.querySelector(".flaticon-collection_sort").setAttribute("disabled","disabled"),r.querySelector(".flaticon-edit_collection_icons").setAttribute("disabled","disabled"),i.querySelector(".collection-backup-download").classList.add("disabled"))),!gr.auth.me.premium){var a=e>=v.limit.collections,l=document.querySelectorAll(".collection-options .flaticon-duplicate");l&&[].forEach.call(l,function(e){e.disabled=a})}gr.auth.logged||[].forEach.call(document.querySelectorAll(".collection .flaticon-share"),function(e){e.parentNode.dataset.tooltip=messages.collection.share_disabled,e.disabled=!0}),e>1?Object(c.$_)("#list_collections_btn").removeAttribute("disabled"):Object(c.$_)("#list_collections_btn").setAttribute("disabled","disabled"),Object(c.$_)("#new_collection_btn").disabled=v.limit.collections&&n.queryAll("list").length>=v.limit.collections,v.fetch(!0)},_.updateToggle=function(){var e=Object(c.$_)("#collections-toggle"),t=v.getActive();if(t){var o=n.rowCount(t.bookmark_id),i=Object(c.$_)(".collection[data-bookmark='"+t.bookmark_id+"']");if(i){i.querySelector(".badge.badge-gray").innerHTML=o;var r=n.queryAll(t.bookmark_id,{query:{color:"XXXXXX"}}).length==o,a=n.queryAll(t.bookmark_id,{query:{premium:4}}).length==o;if(t.status){i.querySelector(".collection-content .download-holder button").disabled=!o;var l=i.querySelector(".collection-options .color_btn_holder");l&&(l.dataset.tooltip=!o||r?messages.collection.color_disabled:messages.filters.color),(d=i.querySelector(".collection-download .download-files .download button[data-format='iconfont']")).disabled=r,d.parentNode.dataset.tooltip=r?messages.collection.iconfont_disabled:messages.collection.iconfont_tooltip;var s=i.querySelector(".collection-download .download-files .download button[data-format='psd']"),d=(i.querySelector(".collection-download .download-files .download button[data-format='eps']"),i.querySelector('.collection-download .download-files .download a[data-format="png"]'),i.querySelector('.collection-download .download-files .download button[data-format="iconfont"]'));s.disabled=a,a?d.classList.add("disabled"):d.classList.remove("disabled")}if(null!==e){var u=e.querySelector(".badge");o?(u.classList.remove("hidden"),u.innerHTML=o):u.innerHTML=0,u.classList.add("animate");var m=setTimeout(function(){clearTimeout(m),u.classList.remove("animate"),_.updateIconsColorSvg(),e.classList.remove("loading"),Object(c.$_)("#collections").classList.remove("loading")},500)}var p=document.querySelector(".empty-collection-gtm");null!==p&&p.remove(),n.rowCount(t.bookmark_id)||_.clear()}_.updateColoringCollectionButton(r,t.bookmark_id)}},_.updateColoringCollectionButton=function(e,t){if(!document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint'))return!1;e?document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').setAttribute("disabled",!0):document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').removeAttribute("disabled")},_.renderIcons=function(e,t){if(window.loading_svg){if(window.loading_svg.hasOwnProperty(t.dataset.bookmark))return!1}else window.loading_svg={},window.loading_svg[t.dataset.bookmark]=!0;Object(c.$_)("#collections-toggle")&&Object(c.$_)("#collections-toggle").classList.add("loading");var o=t.get(".icons");if(!(o.childElementCount>1)){var n=!1,i=!1,r=[],a=!1;if(e.forEach(function(c){var l=t.get('.icons .collectionIcon[data-id="'+c.id+'"]');c.sort<=e.length&&0!=c.sort&&null!=c.sort&&-1==r.indexOf(parseInt(c.sort,10))?r.push(parseInt(c.sort,10)):a=!0,l||(n||(n=Handlebars.tag("collection-icon")),i=!0,4!=c.premium&&(c.not_personal=!0),o.querySelector(".icon-upload").insertAdjacentHTML("afterend",n(c)))}),a&&_.reorderIcons(t,!0),e.length){for(var l="",s=30;--s;)l+='<li class="icon-fill icon"></li>';o.insertAdjacentHTML("beforeend",l)}i&&[].forEach.call(Object(c.$_)(".collectionIconImage"),function(e){_.renderSVG(e)});var d=e.length;t.status&&(t.get("button.collection_color_button").disabled=!d,t.get("button.flaticon-edit_collection_icons").disabled=!d,t.get(".badge.badge-gray").innerHTML=d,t.classList.toggle("limit-reached",d>=v.limit.icons)),_.markSelectedColor(t.color,t)}},_.renderCollection=function(e){var t=n.rowCount("list"),o=Object(c.$_)(".collection[data-bookmark='"+e.bookmark_id+"']");if(!o){var i=Handlebars.tag("collection");document.getElementById("collections-holder").insertAdjacentHTML("beforeend",i(e)),o=Object(c.$_)(".collection[data-bookmark='"+e.bookmark_id+"']")}if(e.order)o.classList.remove("expanded","collection-height-2","collection-height-1");else{var r=t>1?t.length>2?"collection-height-2":"collection-height-1":"";r.length&&o.classList.add(r),o.classList.add("expanded"),e.icons.length&&_.renderIcons(e.icons,o)}o.get(".badge.badge-gray").innerHTML=e.icons.length},_.updateIconsColorSvg=function(){(function(e){return Array.prototype.slice.call(document.querySelectorAll(e))})('.icon.collectionIcon:not([data-color="XXXXXX"])').forEach(function(e){var t=_.isLight(e.dataset.color),o=e.getElementsByTagName("svg");_.changeIconColor(e.dataset.color,o,!1,!0,t,!0)})},_.update=function(e,t){if(null!==document.querySelector(".collection-section-header .collections-number")){var o=n.rowCount("list");if(!o)return void v.new();Object(c.$_)(".collection-section-header .collections-number").innerHTML=o;var i=["-webkit-box-ordinal-group","-moz-box-ordinal-group","box-ordinal-group","-webkit-order","-moz-order","order","-ms-flex-order",""];n.queryAll("list",{sort:[["order","ASC"]]}).forEach(function(o,r,a){!e&&(o.order!=r||r&&o.active)&&(n.update("list",{bookmark_id:o.bookmark_id},function(e){return e.order=r,e.active=r?0:1,e}),n.commit(),o.order=r,o.active=r?0:1);var l=Object(c.$_)(".collection[data-bookmark='"+o.bookmark_id+"']");if(o.icons=n.queryAll(o.bookmark_id,{sort:[["sort","ASC"]]}),l||(window.firstColorChange=!0,_.renderCollection(o),l=Object(c.$_)(".collection[data-bookmark='"+o.bookmark_id+"']")),(l=Object(c.$_)(".collection[data-bookmark='"+o.bookmark_id+"']")).style.cssText=i.join(":"+r+";"),l.dataset.order=r,r)l.classList.remove("expanded");else{var s=a.length>1?a.length>2?"collection-height-2":"collection-height-1":"collection-height";t||l.classList.add("expanded"),s.length&&l.classList.contains(s)&&l.classList.add(s),o.icons.length&&_.renderIcons(o.icons,l)}}),window.launching=null,_.markSelectedIcons(),_.updateToggle(),_.updateButtons()}},_.setLimits=function(e){if(!e)return!1;var t=Object(c.$_)(".collection[data-bookmark='"+e.bookmark_id+"']");t.get(".max-icons-collection").style.display="none",t.get(".icons-collection-noregister").style.display="none",e.icons.length&&t.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),e.icons.length>=v.limit.icons?gr.auth.me.id?gr.auth.me.premium?t.classList.add("limit-reached"):(t.get(".max-icons-collection").style.display="block",c.UserAlerts.danger("Ooop!",messages.limit.registered)):(t.get(".icons-collection-noregister").style.display="block",c.UserAlerts.danger("Ooop!",messages.limit.guest)):t.classList.remove("limit-reached")},_.markSelectedColor=function(e,t){var o=t.classList.contains("icon")?".color-selector button":".collection-options .color-selector button",n=t.find(o);n&&[].forEach.call(n,function(t){t.dataset.color==e?t.classList.add("selected"):t.classList.remove("selected")})},_.show=function(){Object(c.$_)("#collections").classList.add("visible"),Object(c.$_)("#viewport").classList.add("collections-visible"),localStorage.widget_active=1},_.toggle=function(){var e=Object(c.$_)("#collections"),t=Number(e.classList.toggle("visible")),o=t?"add":"remove";Object(c.$_)("#viewport").classList[o]("collections-visible"),r.checkHybriDevices(),e.classList[o]("visible"),localStorage.widget_active=t;var n=document.createEvent("HTMLEvents");n.initEvent("resize",!0,!1),document.dispatchEvent(n),ga("send","event","Collection","Toggle",t?"Show":"Hide")},_.createIconsCPicker=function(e,t){if(e instanceof Element)var o=e.parent(".collectionIcon").get(".icon-cpicker"),n=$(o);else n=$(void 0!==e?".collection[data-bookmark='"+t+"'] .icon[data-id='"+e+"'] .icon-cpicker":".collection .icon .icon-cpicker");n.each(function(){var e=this.parent(".icon").dataset.color.toUpperCase(),t=$(this);t.data().hasOwnProperty("colpickId")||(this.innerHTML="",t.colpick({flat:!0,layout:"hex",submit:0,color:e,onChange:function(e,t,o,n){_.changeIconColor(t.toUpperCase(),n,!1,!1,_.isLight(t))}})),_.changeIconColor(e,this,!0,!0,_.isLight(e))})},_.createCollectionCPicker=function(){var e;$(".collection[data-order='0'] .col-cpicker").each(function(){e=this.parent(".collection").dataset.color.toUpperCase();var t=$(this);if(!t.data().hasOwnProperty("colpickId")){this.innerHTML="",window.firstColorChange=!0;t.colpick({flat:!0,layout:"hex",submit:0,color:e,onChange:function(e,t,o,n){_.changeCollectionColor(t.toUpperCase(),n)}}),t.colpickSetColor(e),delete window.firstColorChange}})},_.markSelectedIcons=function(e){if(!e){var t=v.getActive();if(!t)return;e=t.bookmark_id}var o=Object(c.$_)(".viewport .icon:not(.collectionIcon):not(.icon-upload):not(.icon-fill)");o&&[].slice.call(o).forEach(function(e){e.classList.remove("selected");var t=e.get(".overlay .add-remove");null!==t&&(t.classList.add("flaticon-collections_add"),t.classList.remove("flaticon-collections_remove"))}),n.queryAll(e).forEach(function(e){h.toggle(e.id)})},_.addIcon=function(e,t,o,i,l,d){if(void 0===e)return!1;if(!parseInt(e)&&!parseInt(e.id))return!1;if(1==window.location.pathname.indexOf("search")&&Object(a.track_add_collection)(window.location.search,e,l),1==(l=1==e.premium?1:parseInt(l,10))&&!gr.auth.me.premium)return c.UserAlerts.warning("Ooops!",messages.collection.add_premium),!1;if(!(k=v.getActive()).status)return c.UserAlerts.warning("Ooops!",messages.collection.locked),!1;var u=Object(c.$_)(".collection[data-bookmark='"+k.bookmark_id+"']");u.classList.remove("empty");var p=u.get(".collection-content .premium-advise");if(p&&(p.style.display="none"),!window.launching&&n.rowCount(k.bookmark_id)>=v.limit.icons){gr.auth.me.id?(u.get(".max-icons-collection").style.display="block",gr.auth.me.premium?c.UserAlerts.danger("Ooop!",messages.limit.collection):c.UserAlerts.danger("Ooop!",messages.limit.registered)):(u.get(".icons-collection-noregister").style.display="block",c.UserAlerts.danger("Ooop!",messages.limit.guest));var f=Object(c.$_)("#collections-toggle .badge");f.classList.add("animate");var g=setTimeout(function(){clearTimeout(g),f.classList.remove("animate")},300)}else{var y,b=1;if(arguments.length>1){var k=v.getActive();if(b=parseInt(n.queryAll(k.bookmark_id).length,10)+1,e={id:parseInt(e,10),name:c.slug(t),color:"2"==i?"XXXXXX":d||k.color,premium:l||0,sort:b},Object(c.$_)("section #detail .customize.active")&&"1"==i)if(void 0!==localStorage.color)e.color=localStorage.color.replace("#","");else{var w=Object(c.$_)("section #detail #detail_picker .colpick_hex_field input");e.color=w?w.value:k.color}}if(Object(c.$_)("#detail")&&Object(m.saveColor)(localStorage.color),u.classList.contains("expanded")||window.launching||u.classList.add("expanded"),gr.auth.me.premium){var S=messages.external_icon.title,I=messages.external_icon.message,L=!1;void 0!==document.getElementById("detail")&&null!=document.getElementById("detail")&&Object(c.$_)("#download-form #icon_id").value==e.id&&(L=!0,0==Object(c.$_)("#download-form #selection").value&&c.UserAlerts.warning(S,I,0));var E=document.querySelector('ul.icons .icon[data-id="'+e.id+'"]');L||null===E||0==E.dataset.premium&&0==E.dataset.selection&&(_.restoring||c.UserAlerts.warning(S,I,0))}if(4==e.premium||"undefined"!=typeof src){var x=document.createElement("img");"undefined"!=typeof src?(x.id=e.id,x.dataset.premium=e.premium,x.dataset.src=src):(x.id=e.icon,x.dataset.premium=4,x.dataset.src=r.urlUserIcon(e.icon)),y=x,Object(c.$_)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(e))}else e.not_personal=!0,u.get(".icon.collectionIcon[data-id='"+e.id+"']")||(Object(c.$_)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload")||v.setActive(),Object(c.$_)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(e)),y=Object(c.$_)(".collection[data-order='0'] .icons .collectionIcon[data-id='"+e.id+"'] img"));if(y&&_.renderSVG(y),!n.queryAll(k.bookmark_id,{query:{id:e.id}}).length){var q=c.getTimestamp();o=e.author||0;new h(e.id,c.slug(e.name),o,e.color,k.bookmark_id,e.premium,e.sort),_.updateToggle(),_.updateButtons(),h.toggle(e.id);var C={};h.properties.forEach(function(t){C[t]=e[t]}),C.bookmark_id=k.bookmark_id,n.update("list",{bookmark_id:k.bookmark_id},function(e){return e.updated=q,e}),n.commit(),C.updated=q,C.created=q;var A=e;"number"==typeof A&&(A={id:e});var $={icon:A,name:t,author:o,color:i,premium:l,custom_color:d};void 0!==s.History_Collection&&s.History_Collection.icon_add(e.id,$),v.emit("put_icon",C),EventTracker.send("all","event","collection","add-icon",e.id)}}},_.delIcon=function(e){var t=c.getTimestamp(),o=Object(c.$_)(".collection[data-order='0'] .collectionIcon.selected[data-id='"+e+"']");if(o){var i=o.parent(".collection").dataset.bookmark,r=o.parentElement,a=o.dataset.premium,l=o.dataset.name,d=o.dataset.color,u=o.dataset.src,m=(d="XXXXXX")?2:1;r.removeChild(o),r.children.length||(r.innerHTML=""),v.emit("del_icon",{bookmark_id:i,id:e,updated:t,premium:a})}if(!i||!n.tableExists(i))return!1;var p={icon:{id:e},id:e,name:l,author:0,color:m,premium:a,custom_color:d,src:u};void 0!==s.History_Collection&&s.History_Collection.icon_del(e,p),n.deleteRows(i,{id:e}),n.update("list",{bookmark_id:i},function(e){return e.updated=t,e}),n.commit(),h.toggle(e),_.updateToggle(),_.limitsCollection(i),ga("send","event","Collection","Remove Icon",e),_.updateButtons()},_.replaceSvg=function(e){var t,o=window.requestedSVG.indexOf(e.id);o>-1&&window.requestedSVG.splice(o,1);var i=Object(c.$_)(".collection[data-bookmark='"+e.bookmark+"'] .icon[data-id='"+e.id+"']");if(!i){if(!(t=Object(c.$_)(".collection .icon[data-id='"+e.id+"'] img")))return;i=Object(c.$_)(".collection .icon[data-id='"+e.id+"']")}if(t||(t=i.get("img")),t){if(!e.svg){i.parentElement.removeChild(i);var r=c.getTimestamp();return v.emit("del_icon",{bookmark_id:e.bookmark,icon:e.id,updated:r}),n.deleteRows(e.bookmark,{id:e.id}),n.update("list",{bookmark_id:e.bookmark},function(e){return e.updated=r,e}),void n.commit()}var a=e.svg.getElementsByTagName("svg")[0];a.setAttribute("width",48),a.setAttribute("height",48),(a="undefined"!=typeof ie?function e(t,o){o||(o=document);var n=o.createElementNS(t.namespaceURI,t.nodeName);for(var i=0,r=t.attributes.length;i<r;++i){var a=t.attributes[i];/^xmlns\b/.test(a.nodeName)||n.setAttributeNS(a.namespaceURI,a.nodeName,a.nodeValue)}for(var i=0,r=t.childNodes.length;i<r;++i){var c=t.childNodes[i];n.insertBefore(1==c.nodeType?e(c,o):o.createTextNode(c.nodeValue),null)}return n}(a):a)&&t&&(t.parentElement.replaceChild(a,t),_.createIconsCPicker(e.id,e.bookmark))}},_.renderSVG=function(e){if(null===e)return!1;e.removeAttribute("onload");var t=e.parent(".collection");if(void 0===t)return!1;var o=v.getActive();if(!o.status)return e.src=e.dataset.src,!1;var n=t.querySelectorAll(".collection_icons_list.icons li.icon");if(n.length>0&&n.length<=2){for(var i="",a=30;a--;)i+='<li class="icon-fill icon"></li>';t.querySelector(".collection_icons_list.icons").insertAdjacentHTML("beforeend",i)}var c=e.parent(".icon");if(4==c.dataset.premium&&(e.src=c.dataset.id?r.urlUserIcon(c.dataset.id):e.src),"XXXXXX"==c.dataset.color||1==parseInt(e.dataset.premium,10)&&!gr.auth.me.premium){if(1==gr.auth.me.premium&&1==parseInt(e.dataset.premium,10))var l=e.dataset.src.replace("/static/","/premium-icon/").replace("image.flaticon.com/","www.flaticon.com/premium-icon/");else l=e.dataset.src;return e.classList.remove("collectionIconImage"),e.src=l,e.removeAttribute("data-src"),c.dataset.src=l,!1}if(null!==t&&null!==c){if(t.get('.collectionIcon[data-id="'+c.dataset.id+'"] svg'))return!1;_.getSVGCode({id:c.dataset.id,bookmark:o.bookmark_id,src:e.dataset.src,premium:e.dataset.premium})}},_.getSVGCode=function(e){if(e.id=parseInt(e.id,10)||0,window.requestedSVG||(window.requestedSVG=[]),-1===window.requestedSVG.indexOf(e.id)){window.requestedSVG.push(e.id);var t=new XMLHttpRequest;if(e.bookmark&&e.id&&e.src){t.onreadystatechange=function(){4==t.readyState&&200==t.status&&_.replaceSvg({svg:t.responseXML,id:e.id,bookmark:e.bookmark}),404!=t.status||_.delIcon(e.id)};var o=document.createElement("a");o.href=e.src.replace("/static",""),1==e.premium?t.open("GET","/premium-icon/"+o.pathname.substr(1),!0):t.open("GET",e.src,!0),t.send()}}},_.clear=function(){document.querySelectorAll(".collection[data-order='0']").length&&(document.querySelectorAll(".collection[data-order='0'] ul.icons li.icon").forEach(function(e){e.classList.contains("icon-upload")||e.parentElement.removeChild(e)}),Object(c.$_)(".collection[data-order='0']").classList.add("empty"))},_.scroll=function(e,t){var o=$("ul.collection_icons_list"),n=$("ul.collection_icons_list").offset().top,i=o.scrollTop();t>(o.outerHeight()||o.height())-80+n?setTimeout(function(){o.scrollTop(i+80)},100):i>0&&t<80+n&&setTimeout(function(){o.scrollTop(i-80)},100)},_.reorderIcons=function(e,t){var o=[],n=document.querySelectorAll('.collection[data-bookmark="'+e.dataset.bookmark+'"] ul.collection_icons_list li.collectionIcon.icon'),i=n.length;n.forEach(function(t){o.push({id:t.dataset.id,sort:i}),t.dataset.sort=i,h.set(t.dataset.id,{sort:i},e.dataset.bookmark,!0),i--}),t&&v.updateReorder(e.dataset.bookmark,o)},_.removeEmptyIcons_old=function(){document.querySelectorAll("ul.collection_icons_list .empty-icon").forEach(function(e){e.parentNode.removeChild(e)}),document.querySelectorAll("ul.collection_icons_list .dragHover").forEach(function(e){e.classList.remove("dragHover")})},_.addEmptyIcon_old=function(e,t){if(e.dataset.id==t.dataset.id)return!1;if(_.removeEmptyIcons(),e.classList.add("empty-icon"),"LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length){var o=v.getActive();document.querySelector('.collection[data-bookmark="'+o.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t)}},_.moveIcon=function(e,t){if(e.dataset.id==t.dataset.id)return!1;if("LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length){var o=v.getActive();document.querySelector('.collection[data-bookmark="'+o.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t),e.dataset.sort=parseInt(t.dataset.sort,10)+1}},_.downloading=function(){var e=new Date;e.setTime(e.getTime()+3e4);var t="; expires="+e.toGMTString();document.cookie="download_collection=1"+t+"; path=/",document.getElementById("collections").classList.add("loading"),document.querySelector(".collection.expanded .download-holder button").classList.add("disabled"),i=setInterval(k,1500)},_.reset_widget=function(e){document.querySelector(".only_registered").classList.add("hidden"),document.querySelector(".only_registered .alert_no_user").classList.remove("hidden"),document.querySelector(".only_registered .alert_icon_gradient").classList.add("hidden"),document.querySelector(".edit-icons-user-actions .free_user_warning").classList.add("hidden"),document.querySelector(".edit-icons-user-actions .collection_limit").classList.add("hidden"),document.querySelector(".edit-icon-content .edit-icons-user-actions #download_button").classList.remove("hidden"),document.querySelector(".edit-icons-user-actions .collection_locked").classList.add("hidden"),document.getElementById("save_into_active").classList.remove("hidden"),document.getElementById("save_into_active").disabled="",document.getElementById("duplicate_icon").disabled=""},Handlebars.registerHelper("maxCollectionIcons",function(){return v.limit.icons}),Handlebars.registerHelper("iconLocked",function(){return 1!=this.premium||gr.auth.me.premium?4==this.premium?" personal-icon":"":" locked"}),Handlebars.registerHelper("icoImg",function(){var e=Math.floor(this.id/1e3);return 4==this.premium?r.urlUserIcon(this.id):"XXXXXX"!=this.color&&(1!=this.premium||gr.auth.me.premium)?STATIC_URL+["icons/svg",e,this.id].join("/")+".svg":STATIC_URL+["icons/png/128",e,this.id].join("/")+".png"}),Handlebars.registerHelper("collectionLimitIcons",function(){var e,t,o="";return this.icons.forEach(function(n){4==n.content_type?e=r.urlUserIcon(n.id):(t=Math.floor(n.id/1e3),e=STATIC_URL+["icons/png/128",t,n.id].join("/")+".png"),o+='<img src="'+e+'" name="'+n.name+'">'}),o}),Handlebars.registerHelper("loadImg",function(e,t){if("src"in this)return this.src;if(4==this.premium)return r.urlUserIcon(this.id);var o=Math.floor(this.id/1e3);return STATIC_URL+["icons/png/128",o,this.id].join("/")+".png"}),Handlebars.registerHelper("dataSearch",function(){var e=Object(c.$_)("#words");if(e)return["?term=",e=e.value,"&page=",page,"&position=",this.position].join("")}),Handlebars.registerHelper("shareUrl",function(){return btoa(this.bookmark_id)}),Handlebars.registerHelper("setHeight",function(){if(n)return n.rowCount("list")>1?n.rowCount("list")>2?"collection-height-2":"collection-height-1":""}),void 0==window.btoa&&(window.btoa=function(e){for(var t,o,n=String(e),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=0,a="";n.charAt(0|r)||(i="=",r%1);a+=i.charAt(63&t>>8-r%1*8)){if((o=n.charCodeAt(r+=.75))>255)throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|o}return a});document.querySelectorAll(".collection_icons_list .popover-button").forEach(function(e){var t=e.closest(".collection_icons_list"),o=e.nextElementSibling;e.addEventListener("click",function(e){o&&t&&setTimeout(function(){var e=t.getBoundingClientRect(),n=o.getBoundingClientRect();if(n.left<=e.left){var i=e.left-n.left+"24";o.style.transform="translateX("+i+"px)"}},200)})})},,,function(e,t,o){"use strict";o.r(t),o.d(t,"get_locale",function(){return m}),o.d(t,"getDetailScrollPosition",function(){return f}),o.d(t,"search_log",function(){return g}),o.d(t,"collectionHeaderHover",function(){return w}),o.d(t,"urlUserIcon",function(){return S}),o.d(t,"update_download_counter",function(){return I}),o.d(t,"checkHybriDevices",function(){return q}),o.d(t,"copyLinkInInput",function(){return C}),o.d(t,"closePopup",function(){return A}),o.d(t,"hiddenIconsLeftOverFromList",function(){return T}),o.d(t,"getUrlParameter",function(){return O});var n,i=o(0),r=o(15),a=o(11),c=o(1),l=null,s=null,d=0,u=!1;function m(){var e="DOLLAR",t="US",o=["EURO","DOLLAR"];i.Cookie.get("currency")&&i.Cookie.get("country")?(e=i.Cookie.get("currency"),t=i.Cookie.get("country")):$.ajax({cache:!1,type:"post",dataType:"json",url:APP_URL+"usercur",success:function(n){e=n.cur&&-1!=o.indexOf(n.cur)?n.cur:e,t=n.code?n.code:t,i.Cookie.set("currency",e,2),i.Cookie.set("country",t,2),p(e)}}),p(e)}function p(e){var t=document.querySelectorAll(".js-currency");t.length&&(t.forEach(function(t){var o=t.dataset.pricing;if(null!==o){var n;switch(o){case"annualPerMonth":n="EURO"==e?ANNUAL_SUBSCRIPTION_PRICE_PER_MONTH:USA_ANNUAL_SUBSCRIPTION_PRICE_PER_MONTH;break;case"annual":n="EURO"==e?ANNUAL_SUBSCRIPTION_PRICE:USA_ANNUAL_SUBSCRIPTION_PRICE;break;case"monthly":n="EURO"==e?MONTHLY_SUBSCRIPTION_PRICE:USA_MONTHLY_SUBSCRIPTION_PRICE}t.innerHTML=n}else if("EURO"==e){var i=t.innerHTML.replace("$","").replace("€","");t.innerHTML=i+"€"}}),"EURO"==e?($("body").removeClass("price-dollar"),$("body").addClass("price-euro")):($("body").removeClass("price-euro"),$("body").addClass("price-dollar")))}function f(e,t){return e?e.pageYOffset||e.scrollTop||e.scrollTop:t?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:void 0}function g(e,t,o,n){var i,r=[],a=1;if(e&&r.push("word="+e),t){for(var c=t.elements,l=0;l<c.length;l++)"radio"==c[l].type?c[l].selected&&r.push(c[l].name+"="+c[l].value):c[l].value&&r.push(c[l].name+"="+c[l].value);r.length&&(i=r.join("&"))}else i=o;n&&(a=n),$.ajax({cache:!1,type:"post",url:APP_URL+"logs/search/"+a,data:i,success:function(e){console.log(APP_URL+"logs/search/"+a+"?"+i)},error:function(e,t,o){console.log("ERROR")}})}function h(e){"touchstart"==e.type&&this.touchstart&&!document.body.classList.contains("notouch")||("touchstart"==e.type&&(this.touchstart=!0),"mousemove"==e.type&&!this.touchstart&&document.body.classList.contains("notouch")||(this.touchstart?document.body.classList.remove("notouch"):document.body.classList.add("notouch"),"mousemove"==e.type&&(this.touchstart=!1)))}function v(e,t){t.classList.contains("home_search_input")&&(!0,document.querySelector(".search-holder .type-selector input[name=search-type][data-type='icons']").click());var o=document.querySelectorAll(".search-holder form input"),n=[],i="";if(void 0!==o&&o.forEach(function(e){void 0!==e.name&&void 0!==e.value&&""!=e.name&&""!=e.value&&-1==e.name.indexOf("-")&&n.push(e.name+"="+e.value)}),n.length&&(i="?"+n.join("&")),document.querySelector("form #main-search-current_section")&&document.querySelector("form #main-search-current_section").value)window.location.href=document.querySelector(".main_search_bar").action+i;else{var r=document.querySelector(".search-holder .type-selector input[name=search-type]:checked");window.location.href=r.getAttribute("data-url")+i}}$(function(){var e=navigator.userAgent.toLowerCase(),t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e),o=window.innerWidth<=768&&window.innerHeight<=600,c=t||o;l=document.getElementById("detail-overlay").classList.contains("hidden")?null:document.getElementById("detail-wrapper"),s=document.getElementById("detail"),u=!1,d=f(l,s);var p=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(){return 0}).bind(window);!function e(){var t=f(l,s);d!==t&&(!function(e){u||e>=document.body.clientHeight&&(ga("send","event","Detail View","Scroll","Down"),u=!0)}(t),d=t),p(e)}(),$(document).on("mouseleave",".icon",function(e){var t=this.querySelector(".popover");t&&t.querySelector("button.popover-button.active")&&(t.classList.remove("popover-left"),t.classList.remove("popover-right"),t.querySelector("button.popover-button.active").classList.remove("active"),t.querySelector("div.popover-content.show-menu").classList.remove("show-menu"))}),$(document).on("click","#share-btn button",function(){this.parentNode.querySelector("input.input-share-url").value=document.location.href}),$("#didyoumean a").on("click",function(e){ga("send","event","Search","Icon","Did you mean",{dimension9:this.dataset.word,dimension16:this.dataset.suggested})}),$(".grid_selector input[name=grid]").change(function(){var e=document.querySelector(".search-result .icons");if(e){localStorage.setItem("grid_size",this.value),e.classList.toggle("big","big"==this.value),$(window).trigger("resize");var t="big"==this.value?128:64;[].forEach.call(e.querySelectorAll(".icon img"),function(e){e.width=t,e.height=t})}});var _=void 0!==messages.url.packs_search?messages.url.packs_search:"search/packs",S=void 0!==messages.url.search?messages.url.search:"/search";if($("#header").on("change","input[type=radio][name=search-type]",function(e){var t=this.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector(".popover-button");if(document.querySelector("form #main-search-current_section")&&document.querySelector("form #main-search-current_section").value)return E(e,t),!0;localStorage.setItem("search-type",this.value),"packs"==this.value?document.querySelector(".search-holder form.main_search_bar").action=window.location.protocol+"//"+window.location.host+"/"+_:document.querySelector(".search-holder form.main_search_bar").action=window.location.protocol+"//"+window.location.host+S,t.innerHTML=i.capitalize(messages.common[this.value])}),localStorage.getItem("search-type")){var L=document.querySelector("input[type=radio][name=search-type][value="+localStorage.getItem("search-type")+"]");if(L)if(L.checked=!0,"packs"==this.value)document.querySelector(".search-holder form.main_search_bar").action=window.location.protocol+"//"+window.location.host+"/"+_;else if(null!=document.getElementById("main-search-current_section")){if(document.getElementById("main-search-current_section").value){var q="/"+document.getElementById("main-search-current_section").value;document.querySelector(".search-holder form.main_search_bar").action=window.location.protocol+"//"+window.location.host+q+S}}else document.querySelector(".search-holder form.main_search_bar").action=window.location.protocol+"//"+window.location.host+S}("/packs"==window.location.pathname&&!c||-1!=window.location.pathname.search(messages.url.packs_search))&&(document.querySelector(".search-holder .type-selector .popover-button").innerHTML=i.capitalize(messages.common.packs),document.querySelector(".search-holder .type-selector input[name=search-type][value='packs']").checked=!0),"IE"==i.detectBrowser()&&$("body").addClass("isIE"),$("body").addClass("price-dollar"),(n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)?($(window).on("touchstart mousemove",h),$(document).on("click",".icons .icon",k),w()):document.body.classList.add("notouch"),function(){var e=document.querySelector(".detail-footer .license");e&&(gr.auth.me.premium&&1==document.querySelector("#download-form #selection").value?e.classList.add("hidden"):e.classList.remove("hidden"))}(),$(document).on("click",".icon .overlay a",function(e){void 0!==gr.sponsor&&null!=gr.sponsor&&(!document.querySelector("#detail.loaded")&&this.classList.contains("link-icon-detail")&&"IE"!=i.detectBrowser()||(window.location.href=this.href),e.preventDefault(),e.stopPropagation())}),/Android [4-6]\.[0-9]/.test(navigator.appVersion)&&window.addEventListener("resize",function(){"INPUT"==document.activeElement.tagName&&document.activeElement.scrollIntoViewIfNeeded()}),$(document).on("click",".modal-trigger",function(e){document.getElementById(this.dataset.modal).checked=!0,e.preventDefault()}),$(document).on("click",".modal-close",function(e){void 0!==$(this)&&void 0!==$(this).parents("div.modal")[0]&&($(this).parents("div.modal")[0].get(".modal-state").checked=!1,e.preventDefault())}),$(".modal-inner").on("click",function(e){e.stopPropagation()}),$(".modal-fade-screen").on("click",function(){[].forEach.call(document.find(".modal-state"),function(e){i.closeModal(e)})}),$(document).on("contextmenu",".icon:not(.icon-upload)",function(e){var t=this.querySelector("div.popover");t.querySelector("button.popover-button").classList.add("active"),t.querySelector("div.popover-content").classList.add("show-menu");x(t,230),e.preventDefault()}),$(document).on("click",".icon .popover .popover-content li",function(e){!function(e){if(-1===function(e,t){for(var o=0;o<t.length;o++)if(t[o].match(e))return o;return-1}("GA_CM_",e.classList))return!1;var t=e.dataset.ga_params.split(",");ga("send","event",t[0],t[1],t[2])}(this)}),$(document).on("click",".alert .close-alert",function(e){$(this).parent().removeClass("zoomIn").addClass("zoomOut").slideUp(300),e.preventDefault()}),$(document).mouseup(function(e){var t=e.target;t.parentNode&&2!==e.button&&(0===t.classList.length||t.classList.contains("active")||t.parentNode.classList.contains("active")||t.classList.contains("popover-container")||[].some.call(t.parents(),function(e){return e.classList.contains("popover-container")})||([].forEach.call(document.find(".popover-content"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("show-menu")}),[].forEach.call(document.find(".popover-button"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("active")})))}),$(document).on("click",".popover-button",function(e){E(e,this)}),$(".track_download_pack").on("click",function(e){if(this.dataset.pack&&void 0!==gr.auth.logged){if(!gr.auth.me.premium&&1==this.dataset.premium)return void(location.href=ACCOUNTS_BASE_URL+"premium/"+this.dataset.pack);document.querySelector("#form-download-pack #user_id").value=gr.auth.me.id,document.querySelector("#form-download-pack #pack_id").value=this.dataset.pack,I(3e3),gr.auth.me.premium?document.getElementById("form-download-pack").submit():r.check_modal_download("pack",null)}});var C,A,T,O,B,N,H,P=$("#video"),j=$("#fullscreenvid");P.length&&j.on("click",function(){var e=P[0];e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}),function(){var e=$(".fullscreen"),t=window.innerWidth,o=window.innerHeight;if(0===e.length)return;if(t<=768)return;function n(n){var i="resize"!==n.type||t!==window.innerWidth&&o!==window.innerHeight,r=e.data("fullscreen"),r=r||8640,a=e.find("> *").outerHeight(!0);window.innerWidth<=r&&window.innerHeight>a?!i&&_touch||e.css("height",window.innerHeight-56):e.removeAttr("style"),t=window.innerWidth,o=window.innerHeight}$(document).on("ready load",n),$(window).on("resize",n)}(),$("#msform").submit(function(e){if(e.preventDefault(),b("1")&&b("2")){var t={};$(this).serializeArray().forEach(function(e){t[e.name]=e.value}),$.post("/ajax/join-the-team",t,function(){Object(i.$_)("#msform fieldset")[2].style.display="none",Object(i.$_)("#msform .resul").style.display="block",setTimeout(function(){Object(i.$_)("#modal-form").checked=!1,Object(i.$_)("#msform fieldset")[0].style.display="block",Object(i.$_)("#msform .resul").style.display="none"},3e3)})}}),document.body.click(),$(window).scroll(function(){var e=document.getElementById("header"),t=document.getElementById("toTop");if(null!==e){window.scrollY>=50?t.classList.add("show"):t.classList.remove("show");var o=document.body.scrollTop;if(document.body.classList.contains("home")&&null!=document.querySelector("#hero .search-holder")){var n=document.querySelector("#hero .search-holder").offsetTop;window.scrollY>=n?e.classList.add("fixed","show"):e.classList.remove("fixed","show")}else o>e.clientHeight?e.classList.add("slim-version"):e.classList.remove("slim-version")}}),a.a.add(function(){var e=document.querySelector(".list-options"),t=document.querySelector(".search-data"),o=$("#header").outerHeight(!0);if(null!=e&&null==t)if(null==document.querySelector("#pack-header")){if(0===(e=$(".list-options")).length)return;var n=$(window).scrollTop(),i=document.querySelector(".search-result");n<e.outerHeight(!0)+o&&e.hasClass("fixed")?(e.removeClass("fixed"),null!=i&&i.classList.remove("mg-top")):n>=e.offset().top-o&&(e.addClass("fixed"),null!=i&&i.classList.add("mg-top"))}else{var r=document.querySelector("#pack-header").getBoundingClientRect().height,a=(n=$(window).scrollTop(),document.querySelector(".pack-view")),c=document.querySelector("#detail-pack-aside > .row"),l=c.getBoundingClientRect().height,s=document.getElementById("pack-view__inner"),d=null!==document.querySelector("section .similar-packs")?document.querySelector("section .similar-packs").getBoundingClientRect().top:document.getElementById("footer").getBoundingClientRect().top;n<r&&e.classList.contains("fixed")?(e.classList.remove("fixed"),c.classList.remove("fixed"),a.classList.remove("mg-top")):n>=r&&(e.classList.add("fixed"),a.classList.add("mg-top"),l>s.getBoundingClientRect().height?(c.classList.remove("fixed"),c.classList.remove("fixed-bottom")):d<=l+o+e.outerHeight(!0)?(c.classList.remove("fixed"),c.classList.add("fixed-bottom")):(c.classList.remove("fixed-bottom"),c.classList.add("fixed")))}}),$("#toTop").on("click",function(e){$("html, body").animate({scrollTop:0},250),e.preventDefault()});try{var M=parseInt(localStorage.time_valuation);M&&!isNaN(M)||(M=0);var D=Object(i.$_)("#form_valuation");D&&(parseInt(localStorage.time_valuation,10)%70==0?(D.style.left="",Object(i.$_)("#form_valuation #button_panel").innerHTML="-"):(D.style.left="-200px",Object(i.$_)("#form_valuation #button_panel").innerHTML="+")),localStorage.time_valuation=++M}catch(e){}function U(){Object(i.$_)("#valuation_text").value="",Object(i.$_)("#id_last_valuation").value="",Object(i.$_)("#valuation_comment_panel").style.display="none",Object(i.$_)("#form_valuation").style.left="-200px",Object(i.$_)("#form_valuation #button_panel").innerHTML="+",Object(i.$_)("#valuation_congrat").style.display="none",Object(i.$_)("#valuation_panel").style.display="block"}if($("#open_panel").click(function(){var e=this.parent("#form_valuation"),t=parseInt(e.style.left);isNaN(t)?(e.style.left="-200px",this.get("#button_panel").innerHTML="+"):(e.style.left="",this.get("#button_panel").innerHTML="-")}),$("#form_valuation").submit(function(e){e.preventDefault();var t=Object(i.$_)("#id_last_valuation"),o=Object(i.$_)("#valuation_text");o.value.trim().length&&gr.request.post("valuations/send_user_comment",{id:t.value,comment:o.value}),Object(i.$_)("#valuation_comment_panel").style.display="none",Object(i.$_)("#valuation_congrat").style.display="block",setTimeout(function(){U()},3e3)}),$("#no_thanks").click(U),$(".valuation_response").click(function(e){navigator.appName;var t,o=navigator.userAgent,n=[],r=o.match(/(opera|chrome|safari|firefox|msie|maxthon|lunascape)\/?\s*(\.?\d+(\.\d+)*)/i);r&&null!==(t=o.match(/version\/([\.\d]+)/i))&&(r[2]=t[1]),n.name=r[1],n.version=r[2],gr.request.post("valuations/send_valuation",{value:this.dataset.value,question:Object(i.$_)("#valuation_question_id").value,browser:n.name,browser_version:n.version,language:LANGUAGE_SHORT})}),$(document).on("keyup focus","#msform #dribbble",function(){0!=this.value.trim().indexOf("https://dribbble.com/")&&(this.value="https://dribbble.com/")}),$(document).on("keyup focus","#msform #behance",function(){0!=this.value.trim().indexOf("https://behance.net/")&&(this.value="https://behance.net/")}),$(document).on("keyup focus","#msform #other-portfolio, #msform #personal-portfolio",function(){var e=this.value.trim();0!=e.indexOf("https")&&0!=e.indexOf("http")&&(this.value="http://")}),$(".modal-form .next").click(function(){if(b(this.dataset.fieldset)){if(H)return!1;H=!0,C=$(this).parent(),A=$(this).parent().next(),$(".modal-form #progressbar li").eq($("fieldset").index(A)).addClass("active"),A.show();var e=$(this).parent().next().height();$(".modal-form #msform").animate({height:e+80}),C.animate({opacity:0},{step:function(e,t){N=1-.2*(1-e),O=50*e+"%",B=1-e,C.css({transform:"scale("+N+")"}),A.css({left:O,opacity:B})},duration:400,complete:function(){C.hide(),H=!1}})}}),$(".modal-form .previous").click(function(){if(b(this.dataset.fieldset)){if(H)return!1;H=!0,C=$(this).parent(),T=$(this).parent().prev(),$(".modal-form #progressbar li").eq($("fieldset").index(C)).removeClass("active"),T.show();var e=$(this).parent().prev().height();$(".modal-form #msform").animate({height:e+80}),C.animate({opacity:0},{step:function(e,t){N=.8+.2*(1-e),O=50*(1-e)+"%",B=1-e,C.css({left:O}),T.css({transform:"scale("+N+")",opacity:B})},duration:400,complete:function(){C.hide(),H=!1}})}}),$("#designs-number").length){!function e(){var t=1402155,o=(t+=Math.floor((Date.now()-148720600)*(1e3/7/24/60/60/1e3))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Object(i.$_)("#designsCreated .number").innerText=o,setTimeout(e,12500*Math.random())}(),function e(){var t=422972,o=(t+=Math.floor((Date.now()-1426033809133)*(4850/7/24/60/60/1e3))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Object(i.$_)("#usersCreated .number").innerText=o,setTimeout(e,6500*Math.random())}(),function e(){var t=617705841,o=(t+=Math.floor(.00496031746031746*(Date.now()-1446017641500))).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");Object(i.$_)("#downloadsCreated .number").innerText=o,setTimeout(e,1500*Math.random())}()}$("#designs-number").on("keyup change",function(){var e=(1*this.value).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),t=(7*this.value).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");document.getElementById("earnings").innerHTML="$"+e+" ~ $"+t});var R=$("#mac-app"),F=!1;(R.length&&R.waypoints({view:50,viewOut:!0,oneTime:!1,inView:function(){F||R[0].classList.add("animate"),F||(F=setInterval(function(){R[0].classList.remove("animate"),setTimeout(function(){R[0].classList.add("animate")},300)},22700))},outView:function(){R[0].classList.remove("animate"),clearInterval(F),F=!1}}),$(document).on("keyup",function(e){e.preventDefault(),27==e.which&&[].forEach.call(document.find(".popover-content"),function(e){e.classList.remove("show-menu")})}),$(".reset-input").unbind(),$(document).on("click",".reset-input",function(){return""!==$(this).siblings("input").val()?$(this).siblings("input").val("").focus():"username"!=$(this).siblings("input").attr("id")&&"email"!=$(this).siblings("input").attr("id")&&$(this).siblings("input").attr("placeholder",""),$(this).siblings("input").removeClass("error").parent().next("span.error").remove(),!1}),$(document).on("click",".reset-textarea",function(){return""!==$(this).siblings("textarea").val()&&$(this).siblings("textarea").val("").focus(),$(this).siblings("textarea").removeClass("error").parent().next("span.error").remove(),!1}),$(".input-group input, .textarea-group textarea").unbind(),$(".input-group input, .textarea-group textarea").on("blur",function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),$(".input-group input, .textarea-group textarea").on("keyup",function(){$(this).removeClass("error").parent().next("span.error").remove(),"password"!=$(this).attr("id")&&"repeat_password"!=$(this).attr("id")||($("#password").removeClass("error").parent().next("span.error").remove(),$("#repeat_password").removeClass("error").parent().next("span.error").remove())}),$(".input-group input, .textarea-group textarea").each(function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),Object(i.$_)(".tabs")&&y(),$(".flaticon-magnifier").on("click",function(e){if(void 0!==gr.sponsor&&null!=gr.sponsor)try{n||"function"!=typeof gr.sponsor.popup.launch||~~gr.auth.me.premium||gr.sponsor.popup.launch()}catch(e){}}),document.querySelector(".home_search_input"))&&z(".home_search_input");document.querySelector(".search-holder form")&&z(".search-holder form");function z(e){document.querySelector(e).addEventListener("submit",function(e){e.preventDefault();var t=e.target.querySelector('input[name="word"]');if(null!==t){var o=t.value.trim(),r=i.filterSpecialChars(o);t.value=r;var a=!1;if(e.target.querySelectorAll('input[type="hidden"]').forEach(function(e){a=a||e.value.length>0}),r.length<2&&!a)return i.UserAlerts.warning(messages.search.search,messages.search.minimal_characters,0),!1;!function(e,t){void 0!==gr.sponsor&&null!=gr.sponsor&&(n||"function"!=typeof gr.sponsor.popup.launch||~~gr.auth.me.premium||gr.sponsor.popup.launch());e.length&&""!==i.filter_text(e)?(g(e,t),$.ajax({cache:!1,type:"post",url:APP_URL+"stats/search/"+e,success:function(o){v(e,t)},error:function(o,n,i){v(e,t)}})):v(e,t)}(r,e.target)}})}$(".reset-textarea").on("click",function(){return""!==$(this).siblings("textarea").val()&&$(this).siblings("textarea").val("").focus(),$(this).siblings("textarea").removeClass("error").parent().next("span.error").remove(),!1}),$(document).on("click",".selectInput",function(){this.select()}),$("#home_more_packs").click(function(){var e=parseInt(this.getAttribute("data-page"),10)+1;window.packs_new||(window.packs_new=[].map.call(document.querySelectorAll(".packs-new article"),function(e){return parseInt(e.getAttribute("data-id"),10)}));var t=Handlebars.tag("pack-box");$.getJSON("/ajax/popular_packs/"+e,{not:window.packs_new},function(e){html="",e.forEach(function(e){html+=t(e)}),document.querySelector(".packs-popular .box-container .box.emptybox").insertAdjacentHTML("beforebegin",html)}),this.setAttribute("data-page",e)}),m(),function(e){e||(e=window.location.href);var t=!0;if(["downloads-abuse","downloads-limit","limite-descargas","abuso-descargas","user/follow/author/list"].forEach(function(o){-1!=e.indexOf(o)&&(t=!1)}),t){var o=new Date;o.setTime(o.getTime()+36e5);var n="; expires="+o.toGMTString(),i="CB_URL="+e+n+";path=/;domain="+window.location.host.replace(/[^.]+\./,"");document.cookie=i}}(),document.addEventListener("click",function(e){var t=e.target;for(Logs.dataKey;t;){if(void 0!=t.dataset&&t.dataset[Logs.dataKey]){Logs.pushLog(t.dataset[Logs.dataKey]);break}t=t.parentNode}},!1)}),c.e.valuation_request_comment=function(e){Object(i.$_)("#id_last_valuation").value=e.id,Object(i.$_)("#valuation_panel").style.display="none",Object(i.$_)("#valuation_comment_panel").style.display="block"};var y=function(){var e=$(".tabs");e.find(".tabs-nav a, .tabs-panel a.tab-heading").click(function(e){$this=$($(this).attr("href")),$this.parents(".tabs").find(".tabs-panel").removeClass("active"),$this.addClass("active"),e.preventDefault()}),$(window).bind("ready load resize",function(){for(var t=0;t<e.length;t++){if(0===e.eq(t).find(".tabs-nav").length)return;var o=e.eq(t).find("a:first").outerHeight(!0);e.eq(t).find(".tabs-nav").height()>o?(e.eq(t).addClass("tabs-accordion").find(".tabs-nav"),0===$(".tabs-nav-wrapper").length&&e.eq(t).find(".tabs-nav").wrap('<div class="tabs-nav-wrapper"></div>')):e.eq(t).removeClass("tabs-accordion")}}),1==gr.auth.me.premium&&($(".body-header").addClass("fixed"),$(body).addClass("home--premium"))};function b(e){var t=0;if("1"==e){var o=Object(i.$_)("#msform #fullname");o.value.trim().length?o.classList.remove("error"):(o.classList.add("error"),t++);var n=Object(i.$_)("#msform #email");!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(n.value)?(n.classList.add("error"),t++):n.classList.remove("error");var r=Object(i.$_)("#msform #contact-method"),a=r[r.selectedIndex].value;a.length?r.classList.remove("error"):(r.classList.add("error"),t++);var c=Object(i.$_)("#msform #contact-user");c.value.trim().length||"email"==a?c.classList.remove("error"):(c.classList.add("error"),t++)}else{var l={dribbble:"https://dribbble.com/",behance:"https://behance.net/","personal-portfolio":[],"other-portfolio":[]},s=4;for(var d in l){var u=Object(i.$_)("#msform #"+d),m=u.value.trim();u.classList.contains("hascontent")?Array.isArray(l[d])?0!=m.indexOf("http://")&&0!=m.indexOf("https://")||!_(m)&&"http://"!=m?(t++,u.classList.add("error")):(u.classList.remove("error"),"http://"!=m&&"https://"!=m||s--):0==m.indexOf(l[d])&&_(m)?(u.classList.remove("error"),m.split(l[d])[1].length||s--):(u.classList.add("error"),t++):(u.classList.remove("error"),s--)}if(!s){for(var d in l)Object(i.$_)("#msform #"+d).classList.add("error");t++}}return!t}function _(e){return/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i.test(e)}function k(e){var t=document.querySelectorAll("ul.icons li.icon.hover");t&&[].forEach.call(t,function(e){e.classList.remove("hover")}),this.classList.add("hover"),e.preventDefault(),e.stopPropagation()}function w(){if(!(n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0))return!0;var e=document.querySelectorAll(".collection .collection-header");document.body.classList.add("notouch"),[].forEach.call(e,function(e){e.classList.add("hover")})}function S(e,t){if((t=t||gr.auth.me.id)&&e){var o=Math.floor(t/1e3);return STATIC_URL+"user_icons/"+o+"/"+t+"/"+e+".svg"}}function I(e){var t=document.getElementById("icons_downloaded_counters");null!==t&&setTimeout(function(){gr.auth.me.id&&$.ajax({cache:!1,dataType:"json",url:"/ajax/download/user-stats",success:function(e){if(void 0!==e){void 0!==t&&void 0!==e&&e.max&&(t.classList.remove("hidden"),t.innerHTML=L(e.now)+"/"+L(e.max));var o=gr.auth.me.premium?.8:.5;if(!~~i.Cookie.get("download_counter")&&e.now/e.max>=o){var n=messages.limit.downloaded_icons_perc.replace("{0}",100*o)+'. <a href="http://support.flaticon.com/hc/en-us/articles/213303205-How-many-resources-can-I-download-" target="_blank">'+messages.common.more_info+"</a>",r=window.location.host.replace(/[^.]+\./,"")||window.location.host;i.UserAlerts.warning(messages.common.download,n,1);var a="; expires="+new Date((new Date).getTime()+432e5).toGMTString();r=window.location.host.replace(/[^.]+\./,"");document.cookie="download_counter=1"+a+"; path=/; domain=."+r}}}})},e)}function L(e){return parseInt(e,10).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function E(e,t){var o=t.parentElement.parentElement.get(".popover-content"),n=o.parentElement.parentElement;t.classList.contains("active")?(o.classList.remove("show-menu"),t.classList.remove("active")):([].forEach.call(Object(i.$_)(".popover-content"),function(e){if(e==o)return!0;e.classList.remove("show-menu")}),[].forEach.call(Object(i.$_)(".popover-button"),function(e){e.classList.remove("active")}),[].forEach.call(Object(i.$_)(".popover"),function(e){if(e==o)return!0;e.classList.contains("hToggleRender")&&e.classList.remove("popover-right"),e.classList.contains("vToggleRender")&&(e.classList.remove("popover-top"),e.classList.remove("popover-button"))}),o.classList.add("show-menu"),t.classList.add("active")),n.classList.contains("hToggleRender")&&x(n,230),n.classList.contains("vToggleRender")&&function(e,t){e.querySelector("button.popover-button").getBoundingClientRect().bottom>window.innerHeight-t?e.classList.add("popover-top"):e.classList.add("popover-bottom")}(n,100),e.stopPropagation()}function x(e,t){if(document.querySelector(".detail--v2 .icons"))var o=e.querySelector("button.popover-button").getBoundingClientRect().left-document.querySelector(".detail--v2 .icons").getBoundingClientRect().left;else o=e.querySelector("button.popover-button").getBoundingClientRect().left;e.classList.contains("collectionIcon")&&(t=180+document.getElementById("collections-holder").getBoundingClientRect().left),o<t?e.classList.add("popover-right"):e.classList.add("popover-left")}function q(){(n="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0)&&document.body.classList.add("notouch")}function C(e,t,o){e.select(),document.execCommand("copy"),o?i.UserAlerts.success(messages.clipboard.copied,e.value,0):i.UserAlerts.success(messages.link.copied,messages.link.success,0),t&&A(e)}function A(e){for(;(e=e.parentElement)&&!e.classList.contains("popover-container"););e.querySelector(".popover-button").classList.remove("active"),e.querySelector(".popover-content").classList.remove("show-menu")}function T(e){for(var t=0,o=e.querySelectorAll("li.icon"),n=e.querySelectorAll("li.icon-fill"),i=o.length-n.length,r=1;r<i;r++)if(r>0){if(e.children[r].getBoundingClientRect().top!=e.children[r-1].getBoundingClientRect().top)break;t++}var a=Math.floor(t/2)-1,c=t*Math.floor(i/t),l=i-c>=a?0:c;if(l>0)for(r=l;r<i;r++)e.children[r].classList.add("hidden")}function O(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}},,,function(e,t,o){"use strict";o.r(t),o.d(t,"INFINITY",function(){return c});var n=o(0),i=o(18),r=o(5);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$(document).ready(function(){if(c.init(),document.getElementById("pagination-form")){c.currentPage=c.initPage;var e=Math.ceil(c.total/c.count,10);document.getElementById("pagination-total").innerHTML=e,document.getElementById("pagination-page").value=c.currentPage,c.check_pagination_buttons(),$("#pagination-form").on("submit",function(e){return e.preventDefault(),c.infinityLoaderBtn(c.axScript,"go"),!1}),$("a.pagination-next").on("click",function(e){e.preventDefault(),e.stopPropagation,document.getElementById("pagination-spinner").classList.remove("hidden"),c.infinityLoaderBtn(c.axScript,"next")}),$("a.pagination-prev").on("click",function(e){e.preventDefault(),e.stopPropagation,document.getElementById("pagination-spinner").classList.remove("hidden"),c.infinityLoaderBtn(c.axScript,"prev")})}$(".pagination a").on("click",function(){void 0!==gr.sponsor&&null!=gr.sponsor&&(void 0===gr.sponsor.popup||gr.auth.me.premium||gr.sponsor.popup.launch())}),$(".pagination-buttons a").on("click",function(){void 0!==gr.sponsor&&null!=gr.sponsor&&(void 0===gr.sponsor.popup||gr.auth.me.premium||gr.sponsor.popup.launch())});var t=Object(n.$_)(".empty-search");if(t&&(0==c.total?($(".edge-content-iframe").hide(),t.classList.toggle("hidden",c.total>0),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")):($(".edge-content-iframe").show(),t.classList.toggle("hidden",c.total>0),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.remove("hidden")),void 0!==document.querySelector(".main_search_bar input[name='word']"))){var o=document.querySelector(".main_search_bar input[name='word']").value;if(-1==document.querySelector(".empty-search").className.indexOf("hidden")&&o.length){var i=localStorage["search-type"];i=-1!=["icons","packs"].indexOf(i)?i:"icons",ga("send","event","search-no-results",language,{dimension9:o})}}null==document.getElementById("tags-page")&&(null==document.getElementById("pagination-total")||parseInt(document.getElementById("pagination-total").innerHTML,10)<=1)&&document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")});var c={infinityLoading:0,activatedInfinity:0,initPage:1,topPage:1,currentPage:1,bottomPage:1,count:0,total:0,total_icons:0,total_premium:0,axScript:"",css_selector:"",functionParser:"",cache_items:[],lastPage:self.currentPage,preLoad:!0,setUrl:!0,infinityCallback:"",fi_sponsor:{},total_found_packs:0,word:"",urlSendLog:["ajax/search"],init:function(){if("undefined"!=typeof INFINITY_CONFIG)for(var e in INFINITY_CONFIG)c[e]=INFINITY_CONFIG[e]},infinity:function(e,t){void 0!==t?this.axLoadItems(e,t,!0):(this.infinityLoading=1,this.bottomPage=this.bottomPage+1,this.axLoadItems(e,this.bottomPage,!0))},is_in_cache:function(e){this.cache_items.length>10&&this.cache_items.shift();for(var t=0;t<this.cache_items.length;t++)if(this.cache_items[t].page==e)return this.cache_items[t];return!1},pagination_update:function(){document.getElementById("pagination-total")&&(document.getElementById("pagination-total").innerHTML=Math.ceil(this.total/this.count,10),document.getElementById("pagination-page").value=this.currentPage),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.toggle("hidden",this.currentPage==Math.ceil(this.total/this.count,10));var e=document.getElementById("total_icon_badge"),t=messages.common.icons;e&&(e.classList.contains("total_icon_badge--packs")&&(t=messages.common.packs),e.innerHTML="("+this.total.toLocaleString("en-US")+") "+t);var o=document.querySelector(".pack-header .list-header-title .badge");if(o){var i="";-1!=o.innerHTML.indexOf("icon")&&(i=t),o.innerHTML=this.total.toLocaleString("en-US")+" "+i}var r=Object(n.$_)(".empty-search"),a=this.is_in_cache(this.currentPage);r&&a&&(r.classList.toggle("hidden",a.items.length>0),0==this.total&&$(".edge-content-iframe").hide());var c=1==this.currentPage,l=document.querySelector(".search-pack-result:not(.similar-packs)"),s=document.querySelector(".search-pack-result-text");l&&(l.style.display=c?"":"none"),s&&(s.style.display=c?"none":""),$(window).trigger("resize")},axLoadItems:function(e,t,o){var n=e;t>1&&(n=n+"/"+t);var i=window.location.href.lastIndexOf("?");if(-1!=i&&(n=n+"?"+window.location.href.substring(i+1,window.location.href.length)),-1!=n.indexOf("undefined"))return!1;var a=this.is_in_cache(t);if(a&&o&&(this.tplLoadItem(a.items,t),this.pagination_update()),!a&&void 0!==e&&""!=e){if(document.getElementById("group_id")){var c=parseInt(document.getElementById("group_id").value,10)||0;"/ajax/packs/search"==e&&c&&(n=addVarQueryString(n,"group_id",c))}var l=this;$.ajax({url:n,type:"get",dataType:"json",success:function(n){o&&l.urlSendLog.indexOf(e)&&r.search_log(null,null,location.search.replace("?",""),t);var i=n.items||[],a=parseInt(n.total,10)||0,c=n.pack_id,s=document.querySelector(".btn-pattern");if(s){var d=s.href.split("#");d.pop(),d.push("pack="+c),s.href=d.join("#")}l.cache_items.push({page:t,items:i,total:a}),o&&(l.currentPage=t,l.total=a,l.tplLoadItem(i,t),l.pagination_update(),l.check_pagination_buttons())},error:function(e,t,o){document.getElementById("pagination-spinner").classList.add("hidden"),l.infinityLoading=0}})}var s=document.getElementById("sponsor-partner");if(null!==s){var d={premium:!0,element:s,term:s.dataset.term,page:t};SponsorBanner.insert(d)}},infinityLoaderBtn:function(e,t){var o=document.querySelectorAll(".a-wrapper");if([].forEach.call(o,function(e){e.style.display="none"}),this.lastPage=this.currentPage,"go"==t){var n=parseInt(document.getElementById("pagination-page").value,10);this.infinityLoading=1,this.currentPage=!isNaN(n)&&n>0&&n<=Math.ceil(this.total/this.count)?n:1,this.bottomPage=this.currentPage,this.initPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.total>this.currentPage*this.count&&this.axLoadItems(e,this.currentPage+1,!1)}"clear"==t&&(this.infinityLoading=1,this.currentPage=1,this.initPage=this.currentPage,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.total>this.currentPage*this.count&&this.axLoadItems(e,this.currentPage+1,!1)),"next"==t&&(this.currentPage++,this.total>(this.currentPage-1)*this.count?(this.infinityLoading=1,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.total>this.currentPage*this.count&&this.axLoadItems(e,this.currentPage+1,!1)):(this.infinityLoading=0,this.currentPage--)),"prev"==t&&(this.currentPage--,this.currentPage>=1?(this.topPage=this.currentPage,this.infinityLoading=1,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage>1&&this.axLoadItems(e,this.currentPage-1,!1)):(this.infinityLoading=0,this.currentPage=1)),this.check_pagination_buttons(),window.scrollTo(0,0)},check_pagination_buttons:function(){var e=document.getElementById("pagination-more"),t=document.getElementById("pagination-less"),o=0,n=this;document.getElementById("pagination-total")&&(o=parseInt(document.getElementById("pagination-total").innerHTML,10)),document.querySelector(".list-options .pagination-simple")&&document.querySelector(".list-options .pagination-simple").classList.toggle("hidden",1==o),document.querySelectorAll(".pagination-prev").forEach(function(e){e.classList.toggle("disabled",1==n.currentPage),t&&t.classList.toggle("hidden",1==n.currentPage)}),document.querySelectorAll(".pagination-next").forEach(function(e){e.classList.toggle("disabled",n.currentPage==o||0==o)});var i=document.querySelectorAll(".pagination-next").length,r=document.querySelectorAll(".pagination-prev").length;document.get("#pagination-form .pagination-next")&&document.get("#pagination-form .pagination-prev")&&document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")&&(document.querySelector(".pagination-next").classList.contains("disabled")?e&&(e.classList.add("hidden"),t.classList.remove("hidden")):e&&(e.classList.remove("hidden"),t.classList.add("hidden"))),i&&r&&(document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")?(document.get("#pagination-form").style.display="none",e&&(e.classList.add("hidden"),t.classList.remove("hidden"))):document.get("#pagination-form").style.display="block"),document.getElementById("didyoumean")&&document.getElementById("didyoumean").classList.toggle("hidden",n.currentPage>1)},tplLoadItem:function(e,t){this.css_selector=""==this.css_selector||void 0===a(this.css_selector)?"ul.icons:not(.collection_icons_list)":this.css_selector,$(this.css_selector).empty();var o=document.get(this.css_selector);if(-1!==this.axScript.indexOf("pack")&&!~~gr.auth.me.premium&&window.matchMedia("(min-width: 740px)").matches&&((r=document.createElement("li")).id="banner-icon-list",r.className="a-wrapper edge-content edge-content-icon-list edge-content-first",r.style.display="none",r.setAttribute("data-order","1"),r.setAttribute("data-row","2"),r.setAttribute("data-min","45"),(c=document.createElement("div")).id="carbon728x90_search",c.className="edge-content-iframe",c.innerHTML="\x3c!-- /9837927/FLATICON_PACK_HEADER_NEW --\x3e             <div id='div-gpt-ad-1554802417299-0' class='fi-not-premium'>                 <script>                     googletag.cmd.push(function() { googletag.display('div-gpt-ad-1554802417299-0'); });                 <\/script>             </div>",r.appendChild(c),s=document.querySelector("section.search-result ul.icons"))){try{googletag.pubads().refresh()}catch(e){}s.appendChild(r)}if(void 0!==this.fi_sponsor.freepik&&!~~gr.auth.me.premium&&(window.matchMedia("(min-width: 740px)").matches||-1!==document.cookie.indexOf("mobile_ads"))){var r,c,l=t%14;if(t>=14&&l++,this.fi_sponsor.freepik.page=l,this.fi_sponsor.partner.page=l,r=document.createElement("li"))r.id="banner-icon-list",r.className="a-wrapper edge-content edge-content-icon-list edge-content-first",r.style.display="none",r.setAttribute("data-order","1"),r.setAttribute("data-row","2"),r.setAttribute("data-min","80"),(c=document.createElement("div")).id="carbon728x90_search",c.className="edge-content-iframe",c.innerHTML="\x3c!-- /9837927/FLATICON_SEARCH --\x3e \t\t\t\t<div id='div-gpt-ad-1547629514781-0' class='fi-not-premium'> \t\t\t\t\t<script> \t\t\t\t\t\tgoogletag.cmd.push(function() { googletag.display('div-gpt-ad-1547629514781-0'); }); \t\t\t\t\t<\/script> \t\t\t\t</div>",r.appendChild(c);var s,d=document.createElement("li");if(d){d.id="banner-icon-list-second",d.className="a-wrapper edge-content edge-content-icon-list edge-content-first edge-content-icon-list-second",d.style.display="none",d.setAttribute("data-order","2"),d.setAttribute("data-row","6"),d.setAttribute("data-min","105");var u=document.createElement("div");u.id="carbon728x90_search_2",u.className="edge-content-iframe ads-slidesgo",u.innerHTML="\x3c!-- /9837927/FLATICON_SEARCH_2 --\x3e \t\t\t\t<div id='div-gpt-ad-1550131834126-0' class='fi-not-premium'> \t\t\t\t\t<script> \t\t\t\t\t\tgoogletag.cmd.push(function() { googletag.display('div-gpt-ad-1550131834126-0'); }); \t\t\t\t\t<\/script> \t\t\t\t</div>",d.appendChild(u)}if(s=document.querySelector("section.search-result ul.icons")){try{googletag.pubads().refresh()}catch(e){}s.appendChild(r),s.appendChild(d)}var m=document.createElement("div");m&&(m.className="edge-content edge-content-first show last-edge-content",m.innerHTML=this.fi_sponsor.partner.url.replace("---PAGE---",this.fi_sponsor.partner.page));var p=document.querySelector(".last-edge-content");p&&(p.innerHTML="",p.appendChild(m))}if(document.getElementById("pagination-spinner")&&document.getElementById("pagination-spinner").classList.add("hidden"),document.getElementById("filters-spinner")&&document.getElementById("filters-spinner").classList.add("hidden"),o&&!isNaN(this.topPage)&&!isNaN(this.bottomPage)&&e.length>0){t=this.currentPage;var f=Handlebars.tag(this.templateTag),g=$(".total-items");if(void 0!==g&&null!=g&&$(".total-items").html(this.total.toLocaleString("en-US")),e.forEach(function(e,n){if(e.selection=Boolean(Number(e.selection)),1==n&&(e.page=t),o.insertAdjacentHTML("beforeend",f(e)),100==n)return!1}),this.setUrl){var h=n.getUrlNavigation(n.urlWithoutPag(window.location.href),this.currentPage,window.location.search);"object"==a(window.history)?window.history.pushState({page:"pagination"},document.title,h):History.pushState({page:"pagination"},document.title,h),store_url(h);var v=n.urlWithoutPag(window.location.href);window.url=v;var y=n.getUrlNavigation(v,t).replace(APP_URL,"");ga("send","pageview","/"+y),ga("send","pageview",y,{metric1:t,dimension9:n.parseQueryString(decodeURIComponent(window.location.search)).word})}this.setUrl=!0,"undefined"!=typeof Widget&&null!=Widget&&Widget.markSelectedIcons(),setTimeout(function(){return window.Lazyload.run()},50),$(window).resize()}if(void 0!==this.infinityCallback){var b;if("string"==typeof this.infinityCallback&&(this.infinityCallback=this.infinityCallback.split(".")),void 0!==this.infinityCallback)if(this.infinityCallback instanceof Array)this.infinityCallback.forEach(function(e){"function"==typeof(b=b?b[e]:window[e])&&(b(),b=null)});this.infinityLoading=0}i.Premium.init(),this.addFakeItemsToList(this.css_selector)},serialize:function(e){var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")},addFakeItemsToList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null===t)var t=document.querySelector("section.search-result ul.icons");else t=document.querySelector(e);if(t&&t.hasClass("icons"))for(var o=20;o>=0;o--)t.insertAdjacentHTML("beforeend",'<li class="icon icon-fill"></li>');var n=document.querySelector("section.search-result section.box-container");if(n){var i='<article class="box emptybox"></article>';for(o=20;o>=0;o--)n.insertAdjacentHTML("beforeend",i)}var r=document.querySelector(".following__list.bookmarks__list.box-container");if(r)for(i='<article class="box emptybox"></article>',o=4;o>=0;o--)r.insertAdjacentHTML("beforeend",i)}}},,,,,,function(e,t,o){"use strict";o.r(t),o.d(t,"History_Collection",function(){return n}),$(function(){n.set_collection(),$(document).on("click",".collection-content button.flaticon-redo",function(){void 0!==n&&n.next()}),$(document).on("click",".collection-content button.flaticon-undo",function(){void 0!==n&&n.prev()})});var n={user_id:gr.auth.me.id||0,collection:{},actions:[],pointer:0,key_actions:"",key_pointer:"",executing:!1,set_collection:function(){if("undefined"==typeof Collection)return!1;if(this.collection=Collection.getActive(),this.actions=[],this.pointer=0,void 0!==this.collection&&Object.keys(this.collection).length){this.key_actions="History_Collection_Actions_"+this.collection.bookmark_id,this.key_pointer="History_Collection_Pointer_"+this.collection.bookmark_id;var e=JSON.parse(sessionStorage.getItem(this.key_actions))||new Array;this.actions=e;var t=JSON.parse(sessionStorage.getItem(this.key_pointer))||0;this.pointer=t}this.collection&&this._toogle_cursors(),this._purgue()},middleware:function(){return!this.executing&&(this.set_collection(),void 0!==this.collection.bookmark_id)},collection_delete:function(e){this.middleware()&&(Collection.getActive().bookmark_id==e&&(sessionStorage.removeItem(this.key_actions),sessionStorage.removeItem(this.key_pointer),this.pointer=0,this.actions=new Array,this._toogle_cursors()))},icon_color:function(e,t,o){if(this.middleware()){var n={id:e,next:"color",next_value:new_value,prev:"color",prev_value:o};this._save(n)}},icon_name:function(e,t,o){if(this.middleware()){var n={id:e,next:"name",next_value:t,prev:"name",prev_value:o};this._save(n)}},icon_add:function(e,t){if(this.middleware()){var o={id:e,next:"add",next_value:t,prev:"del",prev_value:e};this._save(o)}},icon_del:function(e,t){if(this.middleware()){var o={id:e,next:"del",next_value:e,prev:"add",prev_value:t};this._save(o)}},collection_name:function(e,t,o){if(this.middleware()){var n={id:e,next:"collection_name",next_value:t,prev:"collection_name",prev_value:o};this._save(n)}},collection_color:function(e,t){if(this.middleware()){var o={id:icon_id,next:"collection_color",next_value:e,prev:"collection_color",prev_value:t};this._save(o)}},_save:function(e){this.actions=JSON.parse(sessionStorage.getItem(this.key_actions))||new Array,this.actions.length&&(this.actions=this.actions.slice(0,this.pointer)),this.actions.push(e),this.pointer++,sessionStorage.setItem(this.key_actions,JSON.stringify(this.actions)),this._save_pointer()},_save_pointer:function(){sessionStorage.setItem(this.key_pointer,JSON.stringify(this.pointer))},_toogle_cursors:function(){var e=document.querySelector(".collection.expanded .collection-content .collection-options");if(!e)return!1;e.querySelector("button.flaticon-redo").classList.toggle("disabled",this.pointer>=this.actions.length),e.querySelector("button.flaticon-undo").classList.toggle("disabled",this.pointer<=0)},_get:function(e){e>this.pointer&&(e=this.pointer);var t=e||this.pointer;return this.actions.slice(t-1,t)[0]},prev:function(){if(this.middleware()){if(!(this.pointer>0))return!1;var e=this._get();this.pointer--,this._execute(e,"prev"),this._toogle_cursors()}},next:function(){if(this.middleware()){if(!(this.pointer<this.actions.length))return!1;this.pointer++;var e=this._get();this._execute(e,"next"),this._toogle_cursors()}},_execute:function(e,t){if(void 0===t&&(t="prev"),void 0===e[t])return!1;var o=e[t],n=e[t+"_value"];switch(this.executing=!0,this._save_pointer(),o){case"add":if(n.icon.id>999999999){var i=n.color?n.color:n.icon.color,r=n.name?n.name:n.icon.name,a=gr.auth.me.id,c="XXXXXX"==n.icon.color?"2":"1";c="2"==i?i:c,Widget.addIcon(n.icon.id,r,a,c,"4")}else Widget.addIcon(n.icon.id,n.name,n.author,n.color,n.premium,n.custom_color);break;case"del":Widget.delIcon(e.id)}this.executing=!1},_purgue:function(){var e=this.actions.length;if(e){for(var t=0;t<e&&void 0!==this.actions[t];t++);(e=this.actions.length)>20&&this.actions.splice(0,e-20),sessionStorage.setItem(this.key_actions,JSON.stringify(this.actions)),this.pointer>e&&(this.pointer=e,this._save_pointer())}},_debug:function(e){console.log("|====================== DEBUG ====>",e,"|== POINTER =>",this.pointer,"|== ACTIONS =>",this.actions)}}},function(e,t,o){"use strict";o.r(t),o.d(t,"download_final",function(){return c}),o.d(t,"track_download",function(){return d}),o.d(t,"fillBase64Form",function(){return u}),o.d(t,"direct_download_icon_post",function(){return m}),o.d(t,"track_add_collection",function(){return h}),o.d(t,"download_pack",function(){return v}),o.d(t,"check_modal_download",function(){return S}),o.d(t,"open_attribution_modal",function(){return x});var n=o(5),i=o(33),r=o(2);function a(){gr.auth.me.premium?c():S("icon")}function c(){Object(i.saveColor)(localStorage.color);var e=n.getUrlParameter("term")?n.getUrlParameter("term"):n.getUrlParameter("word")?n.getUrlParameter("word"):void 0;"base64"!=$("#download-form #format").val()?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;l();var t=document.getElementById("download-form");document.getElementById("modal-base64")&&(document.getElementById("modal-base64").checked=!1);document.getElementById("modal-download")&&(document.getElementById("modal-download").checked=!1);if(setTimeout(p,2e3),void 0!==e){var o=document.createElement("input");o.type="hidden",o.name="search",o.value=e,t.appendChild(o)}t.submit(),s()}(e):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=($(this).serializeArray(),{});$("#download-form").serializeArray().forEach(function(e){t[e.name]=e.value}),void 0!==e&&(t.search=e);$.post(APP_URL+"download-icon",t,u),s()}(e),document.getElementById("modal-download")&&(document.getElementById("modal-download").checked=!1,x())}function l(){document.getElementById("author").value=document.getElementById("author").value||"0",document.getElementById("team").value=document.getElementById("team").value||"0",document.getElementById("pack").value=document.getElementById("pack").value||"0",document.getElementById("icon_id").value=document.getElementById("icon_id").value||"0",document.getElementById("format").value=document.getElementById("format").value||"png",document.getElementById("color").value=document.getElementById("color").value||"#000000",document.getElementById("colored").value=document.getElementById("colored").value||"1",document.getElementById("size").value=document.getElementById("size").value||"512",document.getElementById("style").value=document.getElementById("style").value||"Unknown",document.getElementById("keyword").value=document.getElementById("keyword").value||"icon"}function s(){d(),n.update_download_counter(3e3),l(),EventTracker.send("all","event","download","icon",document.getElementById("format").value.toUpperCase(),1,{dimension8:document.getElementById("author").value,dimension2:document.getElementById("team").value,dimension10:document.getElementById("pack").value,dimension3:document.getElementById("icon_id").value,dimension4:document.getElementById("format").value,dimension5:document.getElementById("color").value,dimension6:document.getElementById("size").value,dimension12:document.getElementById("style").value,dimension7:document.getElementById("keyword").value})}function d(){if("english"==LANGUAGE){var e,t=document.getElementById("icon_id").value,o=document.getElementById("premium").value;e=decodeURIComponent(q("word")),void 0!==t&&"undefined"!=e&&Logs.pushLog("download|search,".concat(e,"|url,").concat(window.location.href,"|item_id,").concat(t,"|item_premium,").concat(o,"}"),!0)}}function u(e){var t='<img src="'+e.data+'" />';$("#b64Image").val(t);var o='<style type="text/css">';o+="div.image {",o+="max-width: 256px;",o+="max-height: 256px;",o+="background-image: url("+e.data+")",o+="}",o+="</style>",$("#b64css").val(o),document.getElementById("modal-base64").checked=!0}function m(e,t){e.preventDefault();var o=e.target.parents(".icon")[0];!function(e,t){g()?function(e,t){document.getElementById("download-form").setAttribute("id","detail-download-form"),f(e,t)}(e,t):f(e,t)}(o,t),function(e){gr.auth.me.premium?c():(e.classList.add("direct-download"),S("icon",e))}(o)}function p(){document.querySelector(".icon.direct-download")&&document.querySelector(".icon.direct-download").classList.remove("direct-download"),document.getElementById("detail-download-form")&&document.getElementById("detail-download-form").setAttribute("id","download-form")}function f(e,t){var o={icon_id:e.dataset.id,author:e.dataset.author,team:e.dataset.author,keyword:e.dataset.name,pack:e.dataset.pack,style:e.dataset.style,format:t,color:"",colored:e.dataset.color,size:"512",selection:e.dataset.selection,premium:e.dataset.premium},n=document.createElement("form");n.setAttribute("id","download-form"),n.setAttribute("method","POST"),n.setAttribute("action",APP_URL+"download-icon"),Object.keys(o).map(function(e,t){var i=o[e],r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",e),r.setAttribute("id",e),r.setAttribute("value",i),n.appendChild(r)}),"0"==o.premium&&"0"==o.selection&&document.querySelector(".modal-download section.modal-body").classList.add("nopremium"),e.appendChild(n)}function g(){return!!document.getElementById("download-form")}function h(e,t,o){var n;"english"==LANGUAGE&&(n="string"==typeof e?decodeURIComponent(q("word")):"",void 0!==t&&Logs.pushLog("download|search,".concat(n,"|url,").concat(window.location.href,"|item_id,").concat(t,"|item_premium,").concat(o,"}"),!0))}function v(){$("#form-download-pack").submit(),document.querySelector("#modal-download").checked=!1,x()}$(function(){$(document).on("click","#download-premium",function(){document.getElementById("modal-download").checked=!1}),$(document).on("click","#detail .download li a",function(e){e.preventDefault(),document.getElementById("modal-base64").checked=!1;var t=$(this).attr("data-format");$("#format").val(t);var o=document.getElementById("colored").value;"psd"!=t&&"eps"!=t&&("svg"!=t&&"base64"!=t||2!=o)||a()}),$(document).on("click","#detail ul.size button",function(){var e=$("#format").val(),t=$(this).attr("data-size");$("#size").val(t),"png"!=e&&"svg"!=e&&"base64"!=e||a()}),$(document).on("click","#detail #download .btn",function(e){e.preventDefault();var t=$(this).attr("data-format");$("#format").val(t),"png"!=t&&"svg"!=t&&"base64"!=t||a()}),$(document).on("click","#detail ul.size a",function(){var e=$(this).attr("data-size"),t=document.getElementById("select-size");t.querySelector("span").innerHTML=e+"px",t.querySelector(".popover-button").classList.remove("active"),t.querySelector(".popover-content").classList.remove("show-menu"),$("#download-form #size").val(e),document.querySelector("#detail #download .btn").click()}),$(document).on("change","#modal-download",function(){0==document.getElementById("modal-download").checked&&p()}),$(".track_download_pack").on("click",function(e){if(this.dataset.pack&&void 0!==gr.auth.logged){if(!gr.auth.me.premium&&1==this.dataset.premium)return void(location.href=ACCOUNTS_BASE_URL+"premium/"+this.dataset.pack);document.querySelector("#form-download-pack #user_id").value=gr.auth.me.id,document.querySelector("#form-download-pack #pack_id").value=this.dataset.pack,n.update_download_counter(3e3),gr.auth.me.premium?document.getElementById("form-download-pack").submit():S("pack",null)}})});var y,b,_,k,w=["icon","pack","collection"];function S(e,t){if(-1!=w.indexOf(e)){var o=document.querySelector("div.modal-download");return o?(function(e,t){e.classList.add("modal-"+t),e.querySelector("#download-premium").classList.add("modal-"+t),e.querySelector("#download-free").classList.add("modal-"+t),e.querySelector(".modal-body").classList.remove("nopremium"),[].forEach.call(e.querySelectorAll(".hidden"),function(e){e&&e.classList.contains("hidden")&&e.classList.remove("hidden")}),w.forEach(function(o){o!=t&&(e.classList.remove("modal-"+o),e.querySelector("#download-premium").classList.remove("modal-"+o),e.querySelector("#download-free").classList.remove("modal-"+o),[].forEach.call(e.querySelectorAll(".modal-"+o),function(e){e.classList.add("hidden")}))})}(o,e),"icon"==e&&function(e,t){y=["send","event","Detail View","Premium Download"],{source:"not-premium-detail","download-type":"single",website:"flaticon"},b=["send","event","Detail View","Select Attribution Link"],_=["send","event","Detail View","Select Credit Attribution Link"],document.querySelector(".fi-modal #download-free").addEventListener("click",Downloads.download_final),document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",I),document.querySelector(".fi-modal #download-premium").addEventListener("click",E);var o=document.getElementById("download-form");if(t)e.querySelector("p.filename img").setAttribute("src",t.querySelector("img").getAttribute("src")),e.querySelector("p.filename span.description").innerHTML=t.dataset.name,e.querySelector("p.author span.description").innerHTML="By "+t.dataset.author_name,e.querySelector("p.author img").setAttribute("src",t.dataset.author_avatar),0==t.dataset.selection?(e.querySelector(".modal-body").classList.add("nopremium"),e.querySelector(".column-premium").style.display="none"):e.querySelector(".column-premium").style.display="block",k="<div>"+messages.attribution.icons_made_by+' <a href="'+t.dataset.author_website+'" title="'+t.dataset.author_name+'">'+t.dataset.author_name+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>";else if(o){var n=document.querySelector("#detail")?document.getElementById("detail"):document.getElementById("detail-content"),i=n.querySelector("h1 .title").innerHTML;e.querySelector(".filename .description").innerHTML=i,e.querySelector(".filename img").alt=i;var r=n.querySelector(".main-icon img");r||(r=n.querySelector(".main-icon-without-slide img")),e.querySelector(".filename img").src=r.src;var a=n.querySelector(".author a"),c=n.querySelector(".author .username").title,l=n.querySelector(".author .avatar img");e.querySelector(".author img").src=l.src,e.querySelector(".author .description").innerHTML="By "+c,0==o.selection.value?(e.querySelector(".modal-body").classList.add("nopremium"),e.querySelector(".column-premium").style.display="none"):e.querySelector(".column-premium").style.display="block",k="<div>"+messages.attribution.icons_made_by+' <a href="'+a.href+'" title="'+c+'">'+c+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>"}e.querySelector("#input_atributtion_text").setAttribute("value",k)}(o,t),"collection"==e&&function(e){y=["send","event","Collection","Premium Download"],{source:"not-premium-detail","download-type":"collection",website:"flaticon"},b=null,_=null,document.querySelector(".fi-modal #download-free").addEventListener("click",r.download_collection),document.querySelector(".fi-modal #download-premium").addEventListener("click",E),e.querySelector(".author").classList.add("hidden")}(o),"pack"==e&&function(e){y=["send","event","Pack","Premium Download"],{source:"not-premium-detail","download-type":"pack",website:"flaticon"},b=["send","event","Pack","Select Attribution Link"],_=["send","event","Pack","Select Credit Attribution Link"],document.querySelector(".fi-modal #download-free").addEventListener("click",Downloads.download_pack),document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",I),document.querySelector(".fi-modal #download-premium").addEventListener("click",E);var t=document.querySelector("#detail-pack-aside")?document.getElementById("detail-pack-aside"):document.getElementById("detail-content"),o=t.querySelector(".author a"),n=t.querySelector(".author .username").title,i=t.querySelector(".author .avatar img");e.querySelector(".author img").src=i.src,e.querySelector(".author .description").innerHTML="By "+n,k="<div>"+messages.attribution.icons_made_by+' <a href="'+o.href+'" title="'+n+'">'+n+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>",e.querySelector("#input_atributtion_text").setAttribute("value",k),e.querySelector(".pack_name").innerHTML=document.querySelector("h1 .title").innerHTML;document.querySelector('meta[property="og:image"]')}(o),void(document.getElementById("modal-download").checked=!0)):void 0}}function I(){document.querySelector(".fi-modal #input_atributtion_text").select(),document.execCommand("copy"),b&&ga(b[0],b[1],b[2],b[3])}function L(){document.querySelector(".copy__text input").select(),document.execCommand("copy"),_&&ga(_[0],_[1],_[2],_[3])}function E(){ga(y[0],y[1],y[2],y[3])}function x(){return window.Attribution.show(),(!gr.auth.me||0===gr.auth.me.premium)&&(window.Attribution.initialize(),window.Attribution.show(),document.querySelector(".copy__trigger").addEventListener("click",L),!0)}function q(e){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,o,n){t[o]=n});return t[e]}},,,function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.r(t),o.d(t,"Premium",function(){return i}),$(function(){$("#license-premium").on("change",function(){i.bannerSearch()}),i.imgDetailIcon()});var i={premium:0,selector_show:".fi-premium",selector_hide:".fi-not-premium",selector_show_icon:".fi-premium-icon",selector_hide_icon:".fi-not-premium-icon",original_banner:"",premium_banner:"",init:function(){this.premium=void 0!==gr.auth.me.premium?parseInt(gr.auth.me.premium,10):0,this.activatePremium(),this.packLink()},is:function(){return this.premium},activatePremium:function(){var e=document.querySelector("#download-form #premium");e&&(1==e.value?this.premium?(this.showElements(this.selector_show_icon),this.hideElements(this.selector_hide_icon)):(this.showElements(this.selector_hide_icon),this.hideElements(this.selector_show_icon)):(this.showElements(this.selector_show_icon),this.hideElements(this.selector_hide_icon))),this.premium?(this.showElements(this.selector_show),this.hideElements(this.selector_hide)):(this.showElements(this.selector_hide),this.hideElements(this.selector_show)),document.getElementById("edge-content-icon-list")&&this.bannerSearch()},bannerSearch:function(){var e=document.getElementById("banner-icon-list");if(e){var t=document.querySelector("input#license-premium");if(!this.premium&&t){""==i.original_banner&&e&&(i.original_banner=e.innerHTML);var o=document.getElementById("fi-premium-edge-content-premium");""==i.premium_banner&&o&&(i.premium_banner=o.innerHTML),i.original_banner&&i.premium_banner&&t.checked&&(e.innerHTML=i.premium_banner,e.classList.add("fi-premium-edge-content-first"))}}},check:function(){this.premium=void 0!==gr.auth.me.premium?gr.auth.me.premium:0,this.checkElements(),this.activatePremium()},showElements:function(e){[].forEach.call(document.querySelectorAll(e),function(e){e.classList.remove("hidden")})},hideElements:function(e){[].forEach.call(document.querySelectorAll(e),function(e){e.classList.add("hidden")})},deleteElements:function(e){document.querySelectorAll(e).forEach(function(e){document.getElementById(e.id).parentNode.removeChild(e)})},imgDetailIcon:function(){if("object"==("undefined"==typeof pack_items?"undefined":n(pack_items))&&null!=pack_items){var e=this;pack_items.forEach(function(t,o){if("1"==o.premium&&!e.premium){var n=document.querySelector('.detail-content .main-icon[data-type="img"] img');n&&(n.src=o.png),o.src=o.png}})}},checkElements:function(){document.querySelectorAll(this.selector_show+", "+this.selector_show_icon).forEach(function(e){e.classList.toggle("hidden",!~~gr.auth.me.premium)}),document.querySelectorAll(this.selector_hide+", "+this.selector_hide_icon).forEach(function(e){e.classList.toggle("hidden",~~gr.auth.me.premium)})},packLink:function(){var e=document.querySelector("section.list-top > a");e&&"1"==e.dataset.premium&&!this.premium&&(e.href=ACCOUNTS_BASE_URL+"premium/"+e.dataset.pack)}};i.init()},,,,function(e,t,o){"use strict";o.r(t),o.d(t,"ModalDetail",function(){return u});var n=o(0),i=o(5),r=o(37),a=o(18),c=o(32),l=o(2),s=o(1);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$(function(){"IE"!=Object(n.detectBrowser)()&&($("#detail-overlay").click(function(e){e.target.parentNode.classList.contains("loading")&&(u.close(),u.pushState({page:"pagination"},document.title,u.prev_url))}),$("#detail-close").on("click",function(e){e.preventDefault(),u.pushState({page:"pagination"},document.title,u.prev_url),u.close()}),$(document).on("click","#detail-overlay #detail-prev",function(e){e.preventDefault(),u.goPrev()}),$(document).on("click","#detail-overlay #detail-next",function(e){e.preventDefault(),u.goNext()}),$(document).on("click",".collectionIcon .link-icon-detail",function(e){e.preventDefault(),e.stopPropagation(),document.location=this.href}),$(document).on("click",".link-icon-detail",function(e){if(!document.querySelector("#detail.loaded")){e.preventDefault();var t=this.href,o=this.dataset.id;if(u.id||(u.prev_url=document.location.href,u.saveOGData()),o&&t){var n=document.getElementById("detail-overlay");if(n.classList.remove("hidden"),n.classList.add("loading"),document.getElementById("detail-spinner").classList.remove("hidden"),u.id&&u.hideNavigation(),u.id=o,e.currentTarget.classList.contains("related-icon")||e.currentTarget.classList.contains("old-modal-detail")||e.currentTarget.closest("section.related"))u.getDetail(t),u.pushState({page:"icon"},document.title,t),$("#detail-wrapper").animate({scrollTop:0},"slow");else{var i=e.target.closest("li.icon");Detail.getDetail(i).then(function(){a.Premium.check(),"function"==typeof l.toggleDetailButton&&Object(l.toggleDetailButton)(),u.updateOGData(i.dataset.premium);var e=u.getNext(u.id);u.checkNavigation("next",e.url);var o=u.getPrev(u.id);u.checkNavigation("prev",o.url),u.pushState({page:"icon"},document.title,t),$("#detail-wrapper").animate({scrollTop:0},"slow"),Detail.firstView||(u.rendered=!0)})}return}}}))});var u={id:0,navigation:1,prev_url:document.location.href,icons_view:0,og_keys:["twitter:title","twitter:description","twitter:image","og:title","og:url","og:description","og:image","pinterest:title","pinterest:description","pinterest:image"],og_data:{},rendered:!1,checkNavigation:function(e,t){"next"==e&&document.getElementById("detail-next").classList.toggle("hidden",!t),"prev"==e&&document.getElementById("detail-prev").classList.toggle("hidden",!t)},hideNavigation:function(){document.getElementById("detail-next").classList.add("hidden"),document.getElementById("detail-prev").classList.add("hidden"),this.navigation=0},showNavigation:function(){document.getElementById("detail-next").classList.remove("hidden"),document.getElementById("detail-prev").classList.remove("hidden"),this.navigation=1},getPrev:function(e){if(e){var t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return{id:null,url:null};var o=t.previousElementSibling;if(o){var n=o.dataset.id,i=o.querySelector("a");if(i&&e)return{id:n,url:i.href}}}return{id:null,url:null}},getNext:function(e){if(e){var t=document.querySelector('.search-result li[data-id="'+e+'"]');if(!t)return{id:null,url:null};var o=t.nextElementSibling;if(o){var n=o.dataset.id,i=o.querySelector("a");if(i&&e)return{id:n,url:i.href}}}return{id:null,url:null}},goNext:function(){ga("send","event","Detail View","Move","Next"),this.go_to("next")},goPrev:function(){ga("send","event","Detail View","Move","Previous"),this.go_to("prev")},go_to:function(e){var t="prev"==e?this.getPrev(this.id):this.getNext(this.id),o=t.url||null,n=t.id||null;o&&n&&(this.prev_url||(this.prev_url=document.location.href),this.pushState({page:"icon"},document.title,o),this.id=n,this.getDetail(o))},go:function(e){if(e)if(document.querySelector("#detail.loaded"))document.location.href=e;else{var t=this.getId(e);if(t)return this.prev_url||(this.prev_url=document.location.href),this.pushState({page:"icon"},document.title,e),this.id=t,void this.getDetail(e)}this.close()},close:function(){document.querySelector("body").classList.remove("unscrollable");var e=document.getElementById("detail-overlay");e.classList.remove("loading","ready"),e.classList.remove("hidden"),e.querySelector(".content").innerHTML="",this.restoreOGData(),this.icons_view=0,this.id=0},getDetail:function(e){if(""!=e){var t=this;$.ajax({type:"GET",url:e,data:{ax:1},success:function(o){var n=document.getElementById("detail-wrapper");i.getDetailScrollPosition(n,null);gr.auth.me.premium&&document.querySelector("body").classList.add("user-premium");var m=e.replace(APP_URL,"");ga("send","pageview","/"+m),(h=document.getElementById("detail-overlay")).classList.remove("hidden"),h.classList.add("loading","ready"),document.querySelector("body").classList.add("unscrollable"),h.querySelector(".content").innerHTML=o,document.getElementById("detail-spinner").classList.add("hidden"),(gr.auth.me.premium||window.matchMedia("(max-width: 740px)").matches)&&Object(r.checkPremiumBanners)();var p=document.querySelector(".grid_selector input[name=grid]:checked");p&&"big"==p.value&&[].forEach.call(document.querySelectorAll("#detail-content .icons"),function(e){e.classList.add("big")}),a.Premium.check(),u.icons_view++;var f=u.getNext(u.id);u.checkNavigation("next",f.url);var g=u.getPrev(u.id);u.checkNavigation("prev",g.url);var h,v=~~document.querySelector("#download-form #premium").value,y=document.getElementById("detail-overlay");if(y&&(v&&!gr.auth.me.premium?y.classList.add("premium-lock"):y.classList.remove("premium-lock")),t.updateOGData(v),$("#detail_picker").colpick({layout:"hex",submit:0,flat:!0,onChange:function(e,t,o,n,i){$(n).css("border-color","#"+t),i||$(n).val(t),ls.color="#"+t,changeSVGcolor()}}),"function"==typeof l.toggleDetailButton&&Object(l.toggleDetailButton)(),"function"==typeof checkLicense&&checkLicense(),"object"==d(a.Premium)&&a.Premium.check(),(h=document.getElementById("detail-overlay")).classList.remove("hidden"),h.classList.add("ready"),document.getElementById("detail-spinner").classList.add("hidden"),"CC 3.0 BY"==document.querySelector("#icon-lincense a").title&&document.getElementById("icon-lincense").classList.remove("hidden"),i.get_locale(),googletag.cmd.push(function(){googletag.display("div-gpt-ad-1547629421790-0")}),u.rendered)try{googletag.pubads().refresh()}catch(e){}document.querySelectorAll("ul.icons").forEach(function(e){i.hiddenIconsLeftOverFromList(e)});var b=h.querySelector("#sponsor-partner");if(null!==b){var _={premium:!0,element:b,term:b.dataset.term};SponsorBanner.insert(_)}document.querySelectorAll("form[name='search-style-form']").forEach(function(e){e.addEventListener("submit",function(e){e.preventDefault(),function(e){ga("send","event","detail-view","search-style-bar",e),null!==document.querySelector('form[name="search-style-form"] .remove')&&(document.getElementById("main-search-style_id").value=document.getElementById("download-form").querySelector("input#style_id").value);document.querySelector('input[name="word"]').value=e,document.querySelector('form[name="search-form"]').submit()}(e.target.querySelector("#search-style").value)})}),new c.Follows("#detail"),u.rendered=!0,setTimeout(function(){return s.e.Lazyload.run(n)},50),n.addEventListener("scroll",function(){return setTimeout(function(){return s.e.Lazyload.run(n)},50)})},error:function(){u.close()}})}},getId:function(e){var t=document.querySelector('a[href="'+e+'"]');return t?parseInt(t.parentNode.parentNode.dataset.id,10):null},pushState:function(e,t,o){var n=new CustomEvent("pushstate",{state:e,title:t,url:o});"object"==d(window.history)?window.history.pushState(e,t,o):History.pushState(e,t,o),window.dispatchEvent(n)},replaceState:function(e,t,o){History.replaceState(e,t,o)},saveOGData:function(){this.og_data.title=document.title;var e=this.og_data;this.og_keys.forEach(function(t){var o=-1!=t.indexOf("twitter")||-1!=t.indexOf("pinterest")?"name":"property";null!==document.querySelector("meta["+o+'="'+t+'"]')&&(e[t]=document.querySelector("meta["+o+'="'+t+'"]').content)}),this.og_data=e},restoreOGData:function(){var e;for(var t in this.og_data)if(e=this.og_data[t],"title"!=t){var o=-1!==t.indexOf("twitter")||-1!=t.indexOf("pinterest")?"name":"property";null!==document.querySelector("meta["+o+'="'+t+'"]')&&(document.querySelector("meta["+o+'="'+t+'"]').content=e)}else document.title=e},updateOGData:function(e){var t=1==e,o=t?messages.common.free+" ":"premium ",n=t?"premium ":messages.common.free+" ",i=document.querySelector("#download-form #team").value,r=parseInt(document.querySelector("#download-form #icon_id").value,10);this.og_keys.forEach(function(e){var t=e.split(":"),i=e.split(":")[1],r="twitter"==t[0]||"pinterest"==t[0]?"name":"property";if(null!==document.querySelector("meta["+r+'="'+e+'"]'))switch(i){case"description":messages.og.desc;document.querySelector("meta["+r+'="'+e+'"]').content=messages.og.desc.replace(new RegExp("("+o+")","gi"),n);break;case"title":var a=document.querySelector(".detail__sidebar .title").innerHTML,c=document.querySelector(".author .username").innerHTML;document.querySelector("meta["+r+'="'+e+'"]').content=messages.og.title.format(a,c).replace(new RegExp("("+o+")","gi"),n);break;case"url":document.querySelector("meta["+r+'="'+e+'"]').content=document.location.href}});var a=document.querySelector('meta[name="keywords"]');a&&(a.content=a.content.replace(new RegExp("("+o+")","gi"),n));var c="https://image.flaticon.com/{0}/png/512/{1}/{2}.png?size=1200x630f&pad=10,10,10,10&ext=png&bg=FFFFFFFF".format(i,Math.floor(r/1e3),r);document.querySelector('meta[property="og:image"]').content=c,document.querySelector('meta[name="twitter:image"]').content=c,null!==document.querySelector('meta[name="pinterest:image"]')&&(document.querySelector('meta[name="pinterest:image"]').content=c)}}},,,,,,,,,,function(e,t,o){"use strict";o.r(t),o.d(t,"Follows",function(){return r});o(0);var n=o(8),i=o(1);window.INFINITY=n.INFINITY,$(document).ready(function(){new r});var r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";gr.auth.me.status?(e.initFollowsLib(t),e.initFollowButtonListener()):e.noLoggedButtonListener()};r.initFollowsLib=function(e){var t=r.getLocalStorageKey();$.ajax({url:APP_URL+"ajax/user/follow/list",success:function(o){localStorage.setItem(t,o),r.showFollowdItems(e)}})},r.noLoggedButtonListener=function(){$(document.querySelectorAll(".js_follow")).on("click",function(e){e.preventDefault(),window.location.href=gr.auth.base_url})},r.initFollowButtonListener=function(){$(document.querySelectorAll(".js_follow")).on("click",function(e){e.preventDefault(),this.classList.contains("active")?r.removeFollow(this):r.addFollow(this)})},r.addFollow=function(e){r.changeFollowButtonStatus(!0,e),r.saveFollowInLocalStorage(e.dataset.type,e.dataset.elementid),r.saveFollowInPersistenceStorage(e.dataset.type,e.dataset.elementid)},r.removeFollow=function(e){r.changeFollowButtonStatus(!1,e),r.removeFollowInLocalStorage(e.dataset.type,e.dataset.elementid),r.removeFollowInPersistenceStorage(e.dataset.type,e.dataset.elementid)},r.showFollowdItems=function(e){var t=JSON.parse(localStorage.getItem(r.getLocalStorageKey()));document.querySelectorAll(e+" .js_follow").forEach(function(e){t[e.dataset.type].includes(parseInt(e.dataset.elementid))?document.querySelectorAll('.js_follow[data-elementid="'+e.dataset.elementid+'"]').forEach(function(e){e.classList.add("active")}):document.querySelectorAll('.js_follow[data-elementid="'+e.dataset.elementid+'"]').forEach(function(e){e.classList.remove("active")})})},r.saveFollowInLocalStorage=function(e,t){var o=[],n=r.getLocalStorageKey();try{o=JSON.parse(localStorage.getItem(n))}catch(t){o[e]=[]}-1===o[e].indexOf(parseInt(t))&&(o[e].push(parseInt(t)),localStorage.setItem(n,JSON.stringify(o)))},r.saveFollowInPersistenceStorage=function(e,t){$.ajax({url:APP_URL+"ajax/follow/set/"+e,data:{id:t},type:"POST"})},r.removeFollowInLocalStorage=function(e,t){var o=r.getLocalStorageKey(),n=JSON.parse(localStorage.getItem(o)),i=n[e].indexOf(parseInt(t));i>-1&&n[e].splice(i,1),localStorage.setItem(o,JSON.stringify(n))},r.removeFollowInPersistenceStorage=function(e,t){$.ajax({url:APP_URL+"ajax/follow/unset/"+e,data:{id:t},type:"POST"})},r.changeFollowButtonStatus=function(e,t){document.querySelectorAll('.js_follow[data-elementid="'+t.dataset.elementid+'"][data-type="'+t.dataset.type+'"]').forEach(function(t){!0===e?t.classList.add("active"):t.classList.remove("active"),t.addEventListener("mouseleave",function(e){t.blur()})})},r.getLocalStorageKey=function(){return gr.auth.me.status?"fi_"+gr.auth.me.id+"_follows":"follows"},i.e.FollowsCallbackInit=function(){document.querySelectorAll(".following__block").length>0?(new r,document.getElementById("following-top").classList.remove("hidden"),document.querySelector("#following-top span.success").innerHTML=n.INFINITY.total,document.getElementById("following-bottom").classList.add("hidden")):document.querySelector(".following__list").style.minHeight="0px"},i.e.BookmarkCallbackInit=function(){document.querySelectorAll(".box--bookmark").length>0?n.INFINITY.total>0&&(new r,document.getElementById("bookmarks-top").classList.remove("hidden"),document.querySelector("#bookmarks-top span.success").innerHTML=n.INFINITY.total,document.getElementById("bookmarks-bottom").classList.add("hidden")):document.querySelector(".following__list").style.minHeight="0px"}},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}o.r(t),o.d(t,"saveColor",function(){return l});var i=localStorage,r=5;function a(){for(var e=$("#detail .svg-version div"),t=$("#detail .img-version img"),o=[],i=0;i<t.length;i++)o.push($.get(t[i].getAttribute("src")));$.when(o).done(function(){o.forEach(function(o,i){o.success(function(o){if("object"==n(o)){var r=$(o).find("svg");r.removeAttr("xmlns:a"),e.eq(i).html(r)}else e.eq(i).html(t[i])})})})}function c(){var e=i.color;if(e){$("#download-form #color").val(e);var t=document.querySelectorAll("#detail .svg-version svg");[].forEach.call(t,function(t){[].forEach.call(t.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(t){t.style.fill=e})});var o=$("#detail .svg-version");!function(e){var t=parseInt(e.substr(0,2),16),o=parseInt(e.substr(2,2),16),n=parseInt(e.substr(4,2),16);return 299*t+587*o+114*n>=225e3}(e.substring(1))?o.removeClass("light-icons"):o.addClass("light-icons")}}function l(e){if(void 0!==e){var t=new Array,o=0;if("#"!=e.charAt(0)&&(e="#"+e),!$('#detail .color-selector button[data-color="'+e+'"]').length&&(void 0!==i.customColors&&""!=i.customColors&&(o=(t=JSON.parse(i.customColors)).length),-1==t.indexOf(e))){if(o>=r){var n=Object.keys(t)[0],a=t[n];t.splice(n,1),$('#detail ul.color-selector .custom-color[data-color="'+a+'"]').parent().remove()}t.push(e),s(e),i.customColors=JSON.stringify(t)}}}function s(e){var t=$("#detail ul.color-selector"),o=document.createElement("li"),n=document.createElement("button");n.dataset.color=e,n.className="custom-color",n.style.backgroundColor=e,n.addEventListener("click",c),o.appendChild(n),t.append(o)}$(document).ready(function(){!function(){if(void 0!==i.customColors&&""!=i.customColors)for(var e=JSON.parse(i.customColors),t=e.length,o=0;o<t;o++)s(e[o])}(),"undefined"!=typeof colpick&&$("#detail_picker").colpick({layout:"hex",submit:0,flat:!0,onChange:function(e,t,o,n,r){$(n).css("border-color","#"+t),r||$(n).val(t),i.color="#"+t,c()}}),$(document).on("click","#detail .color-selector li button",function(){var e=$(this).data("color");e&&($(this).parents("ul").find("li button").removeClass("selected"),$(this).addClass("selected"),$("#detail_picker").colpickSetColor(e),i.color=e,c())}),$(document).on("click","#detail ul.size button",function(){var e=$(this).attr("data-size");$("#download-form #size").val(e),$("#colored").length>0&&$("#colored").is(":checked")&&$("#download-form #svg_content").val($("svg#img-main-icon").html())}),$(document).on("click",".detail-footer .download li a",function(e){var t=$(".detail-footer .download li a"),o=$(this),n=o.hasClass("active"),i=o.data("format"),r=parseInt(document.getElementById("colored").value,10),c=$.inArray(i,["png","svg","base64"])>=0&&1==r||2==r&&"png"==i,l=$("#detail .svg-version"),s=$("#detail .customize"),d=s.hasClass("active"),u=d?300:0;return t.removeClass("active"),l.removeClass("active"),s.removeClass("active"),c&&(n||(o.addClass("active"),1==r?l.addClass("active"):(document.querySelector("section.customize ul.color-selector").previousElementSibling.classList.add("hidden"),document.querySelector("section.customize ul.color-selector").classList.add("hidden")),setTimeout(function(){s.addClass("active")},u)),d||1!=r||a()),$("#id").val(icon_id),$("#format").val(i),"svg"==i&&(document.querySelector("section.customize ul.size .btn-big").classList.remove("hidden"),document.querySelector("section.customize ul.size").previousElementSibling.classList.add("hidden"),[].forEach.call(document.querySelectorAll("section.customize ul.size .btn-small"),function(e){e.classList.add("hidden")})),"png"==i&&(document.querySelector("section.customize ul.size .btn-big").classList.add("hidden"),document.querySelector("section.customize ul.size").previousElementSibling.classList.remove("hidden"),[].forEach.call(document.querySelectorAll("section.customize ul.size .btn-small"),function(e){e.classList.remove("hidden")})),!1})})},,,,function(e,t,o){"use strict";o.r(t),o.d(t,"checkPremiumBanners",function(){return c});var n=o(1);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var o,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this;document.querySelectorAll(".search-result .icons .icon-fill").length;function r(){o={wrapper:document.querySelector(".search-result .icons"),children:e,item:t[0]}}function a(e){if(e){var t=o.children.length>parseInt(e.getAttribute("data-min")),r=function(){for(var e=1,t=o.children.length,n=1;n<t;n++)if(n>0){if(o.children[n].getBoundingClientRect().top!=o.children[n-1].getBoundingClientRect().top)break;e++}return e}(),a=0,c=parseInt(e.getAttribute("data-row"));if(i.values.children.ideal=c*r,i.current=o.children[--i.values.children.ideal],i.current&&t&&!i.current.classList.contains("icon-fill")){i.current.bound=i.current.getBoundingClientRect();var l=parseInt(getComputedStyle(i.current).marginBottom,10);i.current.classList.add("iconWithMargin"),n||(a=document.getElementById("banner-icon-list").outerHeight(!0),i.current.classList.add("secondIconWithMargin")),i.current.style.marginBottom=e.outerHeight(!0)+i.values.children.margin+2*l+"px",e.style.top=i.current.bound.height*c+l+a+"px",e.style.visibility="visible",e.style.display="block"}else e.style.display="none"}}this.set=function(){i.timer&&clearTimeout(i.timer),o.children[0]&&(i.timer=setTimeout(function(){i.values={children:{}},i.values.children.width=o.children[0].outerWidth(!0),i.values.children.height=o.children[0].outerHeight(!0),i.values.children.margin=parseInt(getComputedStyle(o.children[0]).marginBottom),i.values.children.max=Math.floor(o.wrapper.outerWidth(!0)/i.values.children.width),function(){var e=document.querySelectorAll(".iconWithMargin");[].forEach.call(e,function(e){e.classList.contains("iconWithMargin")&&n&&(e.removeAttribute("style"),e.classList.remove("iconWithMargin"))}),o.item&&o.item.removeAttribute("style")}(),a(o.item)},100))},this.start=function(){r(),window.addEventListener("load",function(e){s(o,i)})},this.reload=function(){r(),setTimeout(function(){s(o,i)},1e3)}}if(~~gr.auth.me.premium||!window.matchMedia("(min-width: 740px)").matches&&-1===document.cookie.indexOf("mobile_ads"))c();else if(document.querySelector(".edge-content-icon-list")){var a=document.querySelector(".search-result .icons");n.e.sponsorPosition=new r(a.getElementsByClassName("icon"),document.getElementsByClassName("edge-content-icon-list")),$(window).on("resize",sponsorPosition.set),$(document).on("ready",sponsorPosition.start),n.e.sponsorPositionTwo=new r(a.getElementsByClassName("icon"),document.getElementsByClassName("edge-content-icon-list-second"),!1),$(window).on("resize",sponsorPositionTwo.set),$(document).on("ready",sponsorPositionTwo.start)}function c(){[].forEach.call(document.querySelectorAll("div.edge-content, li.edge-content, iframe.edge-content-iframe"),function(e){e.parentNode.removeChild(e)})}function l(){var e=Math.floor(2*Math.random()),t=document.querySelector('li[data-order="2"]');t&&(1==e?(t.classList.add("sponsor-slidesgo-container"),ga("send","event","campaign","view-banner-web","autopromo-slides-go",{nonInteraction:!0}),slidesGo.getBanner(t)):t.innerHTML=function(){var e={sp:"freepik",searchText:"icon",utm:"flaticon",cache:SPONSOR_CACHE,page:1,body_class:"flaticon_v2_it",show_header:1,preload_size:110,img_size:"img_small",min_size:110,max_size:112,min_margin:5,top_margin:7,num_rows:1,utm_source:"web",utm_campaign:"related-freepik",utm_medium:"flaticon"};return'<section id="sponsor-freepik"><iframe class="edge-content-iframe" width="100%" height="182" scrolling="no" frameborder="0" marginwidth="0" src="'+(SPONSOR_FREEPIK+function(e){var t=new URLSearchParams;return Object.keys(e).forEach(function(o){t.append(o,e[o])}),t.toString()}(e))+'"style="box-sizing: inherit;"></iframe></section>'}())}function s(e,t){"object"==("undefined"==typeof Premium?"undefined":i(Premium))&&Premium.bannerSearch();var o=checkAllowAd();if(null!=e.item){var n=e.item.querySelector(".edge-content-iframe");if(!o)1==n.parentElement.getAttribute("data-order")?function(){var e=document.querySelector('li[data-order="1"]');if(e){var t=document.getElementById("fi-premium-edge-content-premium");t&&(e.innerHTML=t.innerHTML)}}():l();t.set()}}},function(e,t,o){"use strict";o.r(t),o.d(t,"toggleSliderDetailButton",function(){return c});var n=o(0),i=o(18),r=o(2);$(document).ready(function(){if(null!==document.querySelector("#detail")){if(parseFloat(total_pack.replace(",","."),10)>0&&null!=pack_items){current<total_pack&&current,current>0?current:total_pack;var e=!0;"IE"==n.detectBrowser()&&($("a.next").attr("href",$(".next-icon-1").attr("data-slug")),$("a.prev").attr("href",$(".prev-icon-1").attr("data-slug")),e=!1),e&&function(e,t){if("undefined"!=typeof ie&&ie)return void $("#detail").addClass("loaded ie9");if(!(pack_items instanceof Array&&pack_items.length))return;var o=new a(500);a.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons"),a.icon_equivalent_wrapper&&(a.icon_equivalent_tpl=Handlebars.tag("detail-icon-equivalent"),a.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons")),$("#detail a.prev, #detail a.next").fadeIn(250),$("#detail a.next").on("click",function(e){e.preventDefault(),o.navigation("next")}),$("#detail a.prev").on("click",function(e){e.preventDefault(),o.navigation("prev")}),$(document).on("keydown",function(e){if(!document.querySelector(".fi-modal input[type=checkbox]:checked")){var t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input"),n=[].some.call(t,function(e){return e==document.activeElement});n||(39==e.keyCode&&o.navigation("next"),37==e.keyCode&&o.navigation("prev"))}})}(pack,icon_id)}else $(".next").html(""),$(".prev").html(""),$(".prev-icon").hide(),$(".next-icon").hide();$("#detail").addClass("loaded"),"function"==typeof r.toggleDetailButton&&Object(r.toggleDetailButton)()}});var a=function(e){var t,o,c,l,s=this,d=!1,u=!1,m=pack_items.length-1,p=$(".prev-icon-2"),f=$(".prev-icon-1"),g=$(".main-icon"),h=$(".next-icon-1"),v=$(".next-icon-2"),y=$(".detail-header h1");function b(){t=current-1<0?m:current-1,o=t-1<0?m:t-1,c=current+1>m?0:current+1,l=c+1>m?0:c+1,[pack_items[o].src,pack_items[t].src,pack_items[current].src,pack_items[c].src,pack_items[l].src]}b(),this.setImages=function(e){"next"===e&&(p.removeAttr("class").addClass("next-icon next-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[l].src),f.removeAttr("class").addClass("prev-icon prev-icon-2"),g.removeAttr("class").addClass("prev-icon prev-icon-1"),h.removeAttr("class").addClass("main-icon"),v.removeAttr("class").addClass("next-icon next-icon-1")),"prev"===e&&(p.removeAttr("class").addClass("prev-icon prev-icon-1"),f.removeAttr("class").addClass("main-icon"),g.removeAttr("class").addClass("next-icon next-icon-1"),h.removeAttr("class").addClass("next-icon next-icon-2"),v.removeAttr("class").addClass("prev-icon prev-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[o].src)),p=$(".prev-icon-2"),f=$(".prev-icon-1"),g=$(".main-icon"),h=$(".next-icon-1"),v=$(".next-icon-2"),u&&("next"===e&&(1==pack_items[l].color&&0==pack_items[l].premium||1==pack_items[l].premium&&gr.auth.me.premium?getSVG(v.not('[data-type="img"]'),pack_items[l].src):v.not('[data-type="img"]').html('<img src="'+pack_items[l].src+'" />')),"prev"===e&&(1==pack_items[l].color&&0==pack_items[l].premium||1==pack_items[l].premium&&gr.auth.me.premium?getSVG(p.not('[data-type="img"]'),pack_items[o].src):p.not('[data-type="img"]').html('<img src="'+pack_items[o].src+'" />')))},this.navigation=function(t){var o=document.querySelectorAll(".gallery div.main-icon img");if([].forEach.call(o,function(e){var t=e.src.slice(-3);e.src="png"==t?pack_items[current].png:pack_items[current].src}),!d){d=!0,u=$("#detail .svg-version").hasClass("active"),y.addClass("out"),"next"===t&&(current++,p.addClass("nextPos"),f.addClass("prevOut"),g.addClass("mainPrev"),h.addClass("nextMain"),v.addClass("nextIn"),ga("send","event","Detail View","Move","Next")),"prev"===t&&(current--,p.addClass("prevIn"),f.addClass("prevMain"),g.addClass("mainNext"),h.addClass("nextOut"),v.addClass("prevPos"),ga("send","event","Detail View","Move","Previous")),current>m&&(current=0),current<0&&(current=m),b(),function(){if($(".main-icon-without-slide").find("img").attr("src",pack_items[current].src),function(e){!!e&&(!!a.icon_equivalent_wrapper&&$.ajax({url:"/ajax/get_equivalents/"+e,type:"GET",async:!0,dataType:"json",success:function(t){for(var o in a.icon_equivalent_wrapper.innerHTML="",t)t[o].active=e==o?" active":"",t[o].id=o,a.icon_equivalent_wrapper.insertAdjacentHTML("beforeend",a.icon_equivalent_tpl(t[o]))},error:function(e,t,o){a.icon_equivalent_wrapper.innerHTML="",console.log("AX ERROR["+o+"]: "+t)}}))}(pack_items[current].id),pack_items[current].tags.length){var e=document.querySelector("ul.tags");e.innerHTML="";for(var t=0;t<pack_items[current].tags.length;t++){var o=document.createElement("li"),c=document.createElement("a");c.innerHTML=pack_items[current].tags[t].tag,c.href=pack_items[current].tags[t].slug,o.appendChild(c),e.appendChild(o)}}var l=1==pack_items[current].selection?"flaticon-selection":"hidden";l=1==pack_items[current].premium?"flaticon-premium":l;var s=document.querySelector("#detail h1 span i");null!==s&&(s.className="",s.classList.add(l));document.querySelector("#detail h1 span").classList.toggle("premium",1==pack_items[current].premium);var d=pack_items[current].premium?messages.common.free:"premium",u=pack_items[current].premium?"premium":messages.common.free;$("h1 span.title").html(pack_items[current].description);var m=document.querySelector("h1"),p=m.lastChild.nodeValue;m.lastChild.nodeValue=p.replace(d,u),Object(n.$_)(".modal-download p.filename .description").innerHTML=pack_items[current].description,Object(n.$_)("meta[property='og:title']").content=pack_items[current].metaTwitterTitle,Object(n.$_)("meta[name='twitter:title']").content=pack_items[current].metaTwitterTitle;var f=pack_items[current].src.replace("www.flaticon","imageog.flaticon").replace("svg/","png/512/").replace(".svg",".png")+"?size=1200x630f&pad=10,10,10,10&ext=png&bg=FFFFFFFF";Object(n.$_)(".modal-download p.filename img").src=pack_items[current].src,Object(n.$_)("meta[property='og:image']").content=f,Object(n.$_)("meta[name='twitter:image']").content=f;var g=Object(n.$_)("meta[name='twitter:description']").content.split(".");g[0]=g[0].replace(d,u),Object(n.$_)("meta[name='twitter:description']").content=g.join("."),Object(n.$_)("meta[property='og:url']").content=pack_items[current].slug,Object(n.$_)("meta[property='og:description']").content=g.join("."),Object(n.$_)(".modal-download .modal-body").classList.toggle("nopremium",!pack_items[current].selection),Object(n.$_)("#detail .publish_date").innerText=pack_items[current].published;var h=pack_items[current].slug,v=document.querySelector(".category-icon");document.title=pack_items[current].description+" -"+document.title.split("-")[1].replace(n.capitalize(v.innerHTML),n.capitalize(pack_items[current].category)).replace(new RegExp("("+d+")","gi"),n.capitalize(u)),pack_items[current].category?document.querySelector(".category-in-icon").classList.remove("hidden"):document.querySelector(".category-in-icon").classList.add("hidden");v.href=pack_items[current].category_url,v.innerHTML=pack_items[current].category;var y=Object(n.$_)("#fi-premium-upgrade-button .btn-upgrade");y&&(y.href=ACCOUNTS_BASE_URL+"premium/"+pack_items[current].pack_id);"history"in window&&window.history.pushState({flaticon:"icon"},pack_items[current].description,h);var b=h.replace(APP_URL,"");ga("send","pageview","/"+b),Object(n.$_)("#stats-downloads").innerHTML=pack_items[current].downloads.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+messages.common.downloads,Object(n.$_)("#download-form #icon_id").value=pack_items[current].id,Object(n.$_)("#download-form #author").value=pack_items[current].team_id,Object(n.$_)("#download-form #selection").value=pack_items[current].selection,Object(n.$_)("#download-form #colored").value=pack_items[current].color,Object(n.$_)("#download-form #premium").value=pack_items[current].premium,Object(n.$_)("#download-form #keyword").value=pack_items[current].description,function(){var e=pack_items[current].tags.map(function(e){return e.tag_id}).join();$.ajax({url:"/ajax/search/tags",data:{tags:e,pack:pack},type:"POST",async:!0,dataType:"json",success:function(e){var t=e.items,o=e.total,i=e.tag;if($(INFINITY.css_selector).html(""),$("section .tags a span").html(o),parseInt(o)>0){var r=$("section.related-tags a.badge:last-child");r.attr({href:"/"+i.slug,title:i.name}),r.html(messages.common.view_all+" - <span>"+n.capitalize(i.name)+"</span> "+messages.common.icons),document.querySelector(".related-header p").innerHTML="".concat(messages.common.more,' \n                <a class="text-link" href="/').concat(i.slug,'" title="').concat(messages.common.more," ").concat(n.capitalize(i.name)," ").concat(messages.common.icons,'">\n                ').concat(n.capitalize(i.name)," </a> ").concat(messages.common.icons),$(".related-header a.badge span").html(i.total),INFINITY.setUrl=!1,INFINITY.css_selector="section.related-tags ul.icons",INFINITY.tplLoadItem(t,!1)}},error:function(e,t,o){console.log("AX ERROR["+o+"]: "+t)}})}(),"function"==typeof r.toggleDetailButton&&Object(r.toggleDetailButton)();i.Premium.check(),window.innerWidth>480&&$("html,body").animate({scrollTop:0},"slow");var _=document.getElementById("sponsor-partner");if(null!==_){_.dataset.term=pack_items[current].keyword;var k={premium:!0,element:_,term:_.dataset.term};SponsorBanner.insert(k)}}(),setTimeout(function(){y.removeClass("out")},300),setTimeout(function(){s.setImages(t),d=!1},e);try{googletag.pubads().refresh()}catch(e){}}}};function c(){if(null!==document.querySelector("#detail")){if(window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval),"undefined"!=typeof pack_items&&null!==pack_items&&pack_items instanceof Array&&(current==parseInt(current,10)||0==current))var e=parseInt(pack_items[current].id,10),t=pack_items[current].keyword,o=parseInt(pack_items[current].team_id,10),n=parseInt(pack_items[current].color,10),i=parseInt(pack_items[current].premium,10);else e=parseInt(document.getElementById("icon_id").value,10),t=document.querySelector("ul.tags li a.title"),o=parseInt(document.getElementById("team").value,10),n=parseInt(document.getElementById("colored").value,10),i=parseInt(document.getElementById("premium").value,10);if(r.db instanceof Object){var a="addIcon",c=Collection.getActive();r.db.queryAll(c.bookmark_id,{query:{id:e}}).length&&(a="delIcon");var l,s=document.getElementById("detail-icon-button");"delIcon"===a?(s.addClass("btn-danger"),l=messages.collection.delete_icon):(s.removeClass("btn-danger"),l=messages.collection.add_icon),void 0!==s.querySelector("span")&&(s.querySelector("span").innerHTML=l),s.setAttribute("onclick","Widget."+a+"("+e+",'"+t+"',"+o+", "+n+", "+i+")"),s.get("i").classList.toggle("flaticon-collections_remove","delIcon"==a)}else window.toggleDetailBtnInterval=setInterval(r.toggleDetailButton,1e3)}}},,,,,,function(e,t,o){"use strict";o.r(t),o.d(t,"_SVG_edit",function(){return c});var n=o(0),i=o(2),r=o(15),c=function(){function e(e){return document.getElementById(e)}function t(e){return document.querySelector(e)}function o(e){return document.querySelectorAll(e)}Node.prototype.addClass=function(e){this.classList.add(e)},Node.prototype._one=function(e){return this.querySelector(e)},Node.prototype._all=function(e){return this.querySelectorAll(e)},NodeList.prototype.addClass=function(e){this.forEach(function(t){t.classList.add(e)})},Node.prototype.removeClass=function(e){this.classList.remove(e)},NodeList.prototype.removeClass=function(e){this.forEach(function(t){t.classList.remove(e)})},Node.prototype.toggleClass=function(e,t){this.classList.toggle(e,t)},NodeList.prototype.toggleClass=function(e,t){this.forEach(function(o){o.classList.toggle(e,t)})};var l,s,d,u,m,p="#icons-holder svg g:not(#grid-wrapper)",f=t(".edit-icon-content #icons-holder .icon-holder"),g=t(".edit-icon-content .edit-name input"),h=(e("icon-edit-color-picker"),t(".pickers-wrapper"),0),v=!1,y=!1,_=null,k=0,w=!1,S=!1,I=!1,L=!1,E=e("override_icon"),x=e("duplicate_icon"),q=o(".edit-icon-content .right button"),C=e("_svg_editor_undoBtn"),A=e("_svg_editor_redoBtn"),T=e("_svg_editor_resetBtn"),O=t(".edit-icon-content .icon-edit-grid");if(null!==document.querySelector(".color-picker-wrapper")){var B=Pickr.create({el:".color-picker-wrapper",showAlways:!0,inline:!0,comparison:!1,useAsButton:!1,defaultRepresentation:"HEX",default:"000",components:{preview:!1,opacity:!1,hue:!0,interaction:{hex:!1,rgba:!1,hsla:!1,hsva:!1,cmyk:!1,input:!0,clear:!1,save:!1}}});B.on("init",function(){setTimeout(function(){o(p+" .active-path").forEach(function(e){if(e.getAttribute("style")){var t=e.getAttribute("style").replace("fill:","").replace(";","");"undefined"!=typeof color&&t!=color&&(I||e.setAttribute("data-old_color",t))}e.style.fill="",e.setAttribute("style",""),e.setAttribute("style",(e.getAttribute("style")||"")+"fill:"+e.getAttribute("data-original").toUpperCase())}),null!==document.querySelector("#svg-icon-colors button.active")&&B.setColor(document.querySelector("#svg-icon-colors button.active").style.backgroundColor),document.querySelector(".pcr-result").value=B.getColor().toHEXA().toString()},1e3)}),B.on("change",function(e,o){S=!0;t(p+" .active-path")}),o(".download-settings a").forEach(function(e){e.addEventListener("click",function(){var e=this.getAttribute("data-size")?this.getAttribute("data-size"):"512",o=this.getAttribute("data-format");s.setAttribute("width",e),s.setAttribute("height",e);var n=document.querySelector("#icons-holder .icon-holder").innerHTML;if(this.classList.contains("png_dropper"))this.parentNode.parentNode.querySelector(".customize").classList.add("active");else{switch(o){case"base64":var i="data:image/svg+xml;base64,\n"+btoa(n);"svg"==o?function(e,t){var o=document.createElement("a");o.setAttribute("download",l.name+"."+t),o.setAttribute("href",e),o.setAttribute("target","_blank"),o.click(),w&&Object(r.track_download)()}(i,"svg"):Object(r.fillBase64Form)({data:i});break;case"svg":case"eps":case"png":case"jpeg":!function(e,t,o){var n=e,i=document.createElement("form");for(var r in i.method="POST",i.action=APP_URL+"downloads/edited-single-icon",i.style.display="none",l)i.insertAdjacentHTML("beforeend",'<input type="text" name="{0}" value="{1}">'.format(r,l[r]));i.insertAdjacentHTML("beforeend",'<input type="text" name="format" value="'+t+'">'),i.insertAdjacentHTML("beforeend",'<input type="text" name="size" value="'+o+'">'),i.insertAdjacentHTML("beforeend",'<input type="text" name="code" value="'+btoa(n)+'">'),document.body.appendChild(i),i.submit(),i.parentNode.removeChild(i)}(n,o,e);break;default:return}!function(e,o){var n=new FormData;if(w){Object(r.track_download)();var i=t("#download-form #team").value;n.append("team",i)}else var i=~gr.auth.me.id;n.append("id",l.id),n.append("format",e),n.append("size",o),n.append("color","#"+l.color);var a=new XMLHttpRequest;a.open("POST","/downloads/track-download"),a.send(n),EventTracker.send("all","event","editor","download",e.toUpperCase(),1,{dimension8:i,dimension2:i,dimension3:l.id,dimension4:e.toUpperCase(),dimension5:"#"+l.color,dimension6:o,dimension7:l.name})}(o,e)}})}),t("#override_icon").addEventListener("click",function(){EventTracker.send("all","event","editor","add-to-collection",l.id)}),t("#duplicate_icon").addEventListener("click",function(){EventTracker.send("all","event","editor","add-to-collection",l.id)}),t(".edit-icon-content").addEventListener("mouseup",function(e){if(!S&&(e.stopPropagation(),e.target)){if(e.target.matches(".edit-color .right .colors:not(#svg-icon-colors) li.color button")){document.querySelector("#svg-icon-colors button.active")&&P(document.querySelector("#svg-icon-colors button.active").getAttribute("data-original"));var o=t(p+" .active-path");return!!o&&(X(o.getAttribute("data-original"),e.target.getAttribute("data-original")),B.setColor(e.target.getAttribute("data-original")),document.querySelector(".pcr-result").value=B.getColor().toHEXA().toString(),!1)}if(e.target.matches(".edit-color .right #svg-icon-colors li.color button, "+p+" .hovered-path")&&document.querySelector(".edit-icon-content .right button[data-panel='edit-color']").classList.contains("active")){if(!e.target.classList.contains("active")){P(e.target.getAttribute("data-original"));var i=document.querySelector("#svg-icon-colors button.active").style.backgroundColor;B.setColor(ie(i)),document.querySelector(".pcr-result").value=B.getColor().toHEXA().toString()}return!1}try{if(e.target.parent("#icon-edit-color-picker")||e.target.matches("li.color button"))return!1}catch(e){}var r=t(".edit-icon-content.edit-color .left .icon-holder svg:not(#grid-wrapper)");if(function(e,t){if(t.classList.contains("popover-content")||t.parentNode.classList.contains("popover-content")||t.parentNode.parentNode.classList.contains("popover-content"))return!0;var o="SMALL"===t.tagName?t.parentElement.parentElement.parentElement.get(".popover-content"):t.parentElement.parentElement.get(".popover-content"),i=document.querySelector(".edit-icon-wrapper .popover-button");[].forEach.call(Object(n.$_)(".edit-icon-wrapper .popover-content"),function(e){if(e==o)return!0;e.classList.remove("show-menu")}),[].forEach.call(Object(n.$_)(".edit-icon-wrapper .popover-button"),function(e){e.classList.remove("active")}),t.matches(".popover-button")&&!i.classList.contains("active")?(o.classList.add("show-menu"),i.classList.add("active")):(document.querySelector(".edit-icon-wrapper .popover-content").classList.remove("show-menu"),document.querySelector(".edit-icon-wrapper .popover-button").classList.remove("active"));e.stopPropagation()}(e,e.target),!r)return!1}}),["mouseover","mouseout"].forEach(function(e){t(".edit-icon-content").addEventListener(e,function(e){S||(document.querySelector("#svg-icon-colors button.active")&&P(document.querySelector("#svg-icon-colors button.active").getAttribute("data-original")),e.target&&(e.target.matches("path, circle, ellipse, rect, polygon, line, polyline")||e.target.matches("#svg-icon-colors li.color button"))&&(e.stopPropagation(),e.target.parentNode.parentNode.matches(".picker")||(o(p+" *.hovered-path").removeClass("hovered-path"),o(".edit-icon-content.edit-color .left .icon-holder svg").toggleClass("hovered-paths","mouseover"==e.type),o(".edit-icon-content.edit-color .left .icon-holder svg .active-path").removeClass("active-path"),H(e.target.getAttribute("data-original")).toggleClass("hovered-path","mouseover"==e.type))))})}),document.addEventListener("mousemove",function(e){0}),$(document,".edit-icon-content").on("mouseup",function(e){document.querySelector("#svg-icon-colors button.active")&&P(document.querySelector("#svg-icon-colors button.active").getAttribute("data-original")),S&&(S=!1,I=!1,function(){if(!document.querySelector("#svg-icon-colors .active"))document.querySelector(".color-tab-palette-replace h6").classList.add("shake"),setTimeout(function(){document.querySelector(".color-tab-palette-replace h6").classList.contains("shake")&&document.querySelector(".color-tab-palette-replace h6").classList.remove("shake")},2e3)}(),e.stopPropagation(),setTimeout(function(){!function(e){o(".edit-icon-content.edit-color .right #last-icon-colors li.color button[data-original='"+e+"']").length||(t("#last-icon-colors li button")||(t("#last-icon-colors").innerHTML=""),o("#last-icon-colors li:nth-of-type(n+10)").forEach(function(e){e.parentNode.removeChild(e)}),M([e],"last-icon-colors",!1));var n=s.querySelector(".active-path");if(n){var i=n.getAttribute("data-original");X(i,e)}}(B.getColor().toHEXA().toString())},50),ga("send","event","editor","color","color-change-selector"))}),x.addEventListener("click",function(){z(!1)}),E.addEventListener("click",function(){z(!0)}),O.addEventListener("change",function(){U(this.options[this.selectedIndex].value)}),A.addEventListener("click",function(){se.redo()}),C.addEventListener("click",function(){se.undo()}),T.addEventListener("click",function(){Q()}),[].forEach.call(q,function(e){e.addEventListener("click",function(){var t=e.getAttribute("data-action"),o=e.getAttribute("data-values");o&&(o=o.split(" ")),"function"==typeof c[t]&&(L=!0,c[t].apply(null,o))})}),t("#save_into_active").addEventListener("mouseup",function(e){if(document.querySelector("#save_into_active span")){e.preventDefault(),e.stopPropagation();var t=!0;if(re.forEach(function(e,o){o>=ae+1||"color"!=e[0]&&(t=!1)}),l.isColor&&!t||l.isColor&&re.length>0||!l.isColor&&!t)z(!1);else{var o=document.querySelector("#detail-icon-button").getAttribute("onclick").match(/\(([^)]+)\)/g)[0].replace(/\(|\)/g,"").split(",");Widget.addIcon(o[0],o[1],o[2],o[3],o[4],l.color),document.getElementById("save_into_active").innerHTML='<i class="flaticon-disk"></i> <span>Save</span>',document.getElementById("save_into_active").classList.remove("btn-gray"),document.getElementById("override_icon").style.display=""}}}),$(document).keyup(function(e){27==e.keyCode&&document.querySelector(".edit-icon-overlay").classList.contains("ready")&&(e.preventDefault(),e.stopPropagation(),Widget._openEditModal(!1,!1))});var N={}}function H(e){return"#000000"!=e||l.isColor?o(p+" > [data-original='"+e+"']"):o(p+" > *:not(g)")}function P(e){o(p+" .active-path").removeClass("active-path");var n=H(e);n.addClass("active-path");if(n.length){var i=n[0].getAttribute("style");if(i)if(-1!=i.indexOf("fill")){var r;if(-1!=i.indexOf("%")){var a=new RegExp("rgb(.*?);","gi").exec(i)[1].replace("(","").replace(")","").replace("%",""),c=[];[].forEach.call(a.split(","),function(e){c.push(Math.round(2.55*parseFloat(e)))}),r="rgb("+c.join(",")+")"}else r=i.replace("fill:","").replace(";","");ie(r)}else n[0].getAttribute("data-original");else n[0].getAttribute("fill")&&(-1!=n[0].getAttribute("fill")?ie(n[0].getAttribute("fill")):n[0].getAttribute("data-original"));o(".edit-icon-content.edit-color .right #svg-icon-colors li.color button.active").removeClass("active");var l=t(".edit-icon-content.edit-color .right #svg-icon-colors .color button[data-original='"+e+"']");l&&l.addClass("active")}}function j(e){if(!s)return[];if(e)var t=[];else t=[];s.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline").forEach(function(o){var n="#000000",i=o.getAttribute("style");if(i)if(-1!=i.indexOf("fill:")){var r;if(-1!=i.indexOf("%")){var a=new RegExp("rgb(.*?);","gi"),c=a.exec(i),n=c[1].replace("(","").replace(")","").replace("%",""),l=[];[].forEach.call(n.split(","),function(e){l.push(Math.round(2.55*parseFloat(e)))}),r="rgb("+l.join(",")+")"}else r=i.replace("fill:","").replace(";","");n=ie(r)}else o.getAttribute("data-original")&&(n=o.getAttribute("data-original"));else o.getAttribute("fill")?n=-1!=o.getAttribute("fill")?ie(o.getAttribute("fill")):o.getAttribute("data-original"):"g"===o.parentElement.nodeName&&o.parentElement.getAttribute("fill")&&(n=-1!=o.parentElement.getAttribute("fill")?ie(o.parentElement.getAttribute("fill")):o.parentElement.getAttribute("data-original"));n&&(""==ie(n)&&o.parentNode.removeChild(o),n="#"==n[0]?n:ie(n),t.push(n),!0!==e&&o.setAttribute("data-original",n))}),t=t.reduce(function(e,t){return-1===e.indexOf(t)&&""!=t&&e.push(t),e},[]),!0!==e&&(1==t.length&&(l.color=t[0].substr(1)),M(t,"svg-icon-colors",!0),M(t,"original-icon-colors",!0))}function M(t,o,n){var i=e(o);n&&(i.innerHTML=""),t.forEach(function(e){var t="<li class=\"color%LC%\">            <button data-original=\"%C%\" style=\"background-color:%C%;\" onclick=\"ga('send', 'editor', 'color', 'color-change-last')\"></button>            </li>";t=t.replace("%LC%",ne(e)?" color-light":"").replace(new RegExp("%C%","g"),e),i.insertAdjacentHTML("afterbegin",t)}),D(t[0])}function D(e){var t=document.querySelector("#svg-icon-colors button.active");t&&(t.style.backgroundColor=e,ne(e)?t.parentNode.classList.add("color-light"):t.parentNode.classList.remove("color-light"))}function U(e){var o=u?u.width:100,n=o*(k=parseInt(e,10))/f.clientWidth,i=o/250;if(!s){var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width","100"),r.setAttribute("height","100"),r.setAttribute("viewBox","0 0 100 100"),r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),f.appendChild(r),s=r}(_=s.cloneNode(!1)).id="grid-content";var a='<defs>        <pattern id="smallGrid" width="%gW%" height="%gW%" patternUnits="userSpaceOnUse">        <path d="M %gW% 0 L 0 0 0 %gW%" fill="none" stroke="rgba(0,0,0,0.2)" stroke-width="%sW%"/>        </pattern>        <pattern id="grid" width="%g2W%" height="%g2W%" patternUnits="userSpaceOnUse">        <rect width="%g2W%" height="%g2W%" fill="url(#smallGrid)"/>        </pattern>        </defs>        <rect width="100%" height="100%" fill="url(#grid)"/>'.replace(new RegExp("%gW%","g"),n).replace(new RegExp("%g2W%","g"),4*n).replace(new RegExp("%sW%","g"),i);_.innerHTML=a;t("#grid-wrapper");document.querySelector("#grid-wrapper svg"),document.querySelector("#grid-wrapper svg")&&document.querySelector("#grid-wrapper svg").parentNode.removeChild(document.querySelector("#grid-wrapper svg")),document.getElementById("grid-wrapper").insertAdjacentHTML("afterbegin",_.outerHTML)}function R(e,t){return new Promise(function(e,o){var n=document.createElement("iframe");n.style.display="none",document.body.appendChild(n),n.onerror=function(){n.parentNode.removeChild(n)},n.src=t,n.onload=function(){var t=n.getSVGDocument();t||([].forEach.call(q,function(e){e.disabled=!0}),F(),o()),function(e,t){if(e.querySelectorAll("linearGradient").length>0)return document.querySelector(".only_registered .alert_no_user").classList.add("hidden"),document.querySelector(".only_registered .alert_icon_gradient").classList.remove("hidden"),void document.querySelector(".only_registered").classList.remove("hidden");(d=document.createElementNS("http://www.w3.org/2000/svg","g")).removeAttribute("xmlns");for(;e.hasChildNodes();)1==e.firstChild.nodeType?d.appendChild(e.firstChild):e.removeChild(e.firstChild);var o=d.childNodes.length;for(;o--;)1==d.childNodes[o].nodeType&&(d.childNodes[o].removeAttribute("xmlns"),d.childNodes[o].innerHTML&&(d.childNodes[o].hasAttributes()||d.childNodes[o].innerHTML.trim()||d.childNodes[o].parentNode.removeChild(d.childNodes[o])));e.appendChild(d),e.innerHTML+=" ",e.setAttribute("width",512),e.setAttribute("height",512),d=(s=e).childNodes[0],f.appendChild(e),d.removeAttribute("xmlns"),t&&t.parentNode.removeChild(t);te(),re=[],ae=-1,k&&U(k);[].forEach.call(q,function(e){e.disabled=!1}),F(),j()}(t.querySelector("svg"),n),e()}})}function F(e){re.length?(C.disabled=!~ae,T.disabled=!~ae,A.disabled=ae==re.length-1,function(e,t){var o=!0;re.forEach(function(e,t){t>=ae+1||"color"!=e[0]&&(o=!1)}),e||Collection.getActive().status&&1!=l.isColor&&(o?i.db.queryAll(Collection.getActive().bookmark_id,{query:{premium:4}}).length>=3&&!gr.auth.me.premium?(document.querySelector("#save_into_active span")||(document.getElementById("duplicate_icon").disabled=!0),document.querySelector(".edit-icons-user-actions .free_user_warning").classList.remove("hidden")):i.db.queryAll(Collection.getActive().bookmark_id).length>=256?(document.getElementById("duplicate_icon").disabled=!0,document.querySelector("#save_into_active span")?document.getElementById("save_into_active").disabled=!0:document.getElementById("duplicate_icon").disabled=!0):(document.getElementById("save_into_active").disabled=!1,document.querySelector(".edit-icons-user-actions .free_user_warning").classList.add("hidden"),document.querySelector(".edit-icons-user-actions .collection_limit").classList.add("hidden")):i.db.queryAll(Collection.getActive().bookmark_id,{query:{premium:4}}).length>=3&&!gr.auth.me.premium?(document.querySelector("#save_into_active span")?document.getElementById("save_into_active").disabled=!0:(document.getElementById("duplicate_icon").disabled=!0,document.getElementById("save_into_active").disabled=!0),document.querySelector(".edit-icons-user-actions .free_user_warning").classList.remove("hidden")):i.db.queryAll(Collection.getActive().bookmark_id).length>=256?(document.querySelector(".edit-icons-user-actions .collection_limit").classList.remove("hidden"),document.getElementById("save_into_active").disabled=!0):(document.getElementById("save_into_active").disabled=!1,document.querySelector(".edit-icons-user-actions .free_user_warning").classList.add("hidden")))}(!~ae)):(C.disabled=!0,A.disabled=!0,T.disabled=!0)}function z(e){var t=document.querySelector("#icons-holder .icon-holder").innerHTML,o=!0===e?l.sort:i.db.rowCount(Collection.getActive().bookmark_id)+1;if(ae>=0)if(e)if(4==l.premium)e=!1,Collection.upload_icon(t,l.isColor,o,l.id,l.color,l.name,e),Widget.delIcon(l.id);else if(l.isColor)Collection.upload_icon(t,l.isColor,o,l.id,l.color,l.name,e),document.querySelector("#collections-holder section.expanded ul li.icon[data-id='"+l.id+"']").classList.add("personal-icon");else if(L)e=!1,Collection.upload_icon(t,l.isColor,o,l.id,l.color,l.name,e),Widget.delIcon(l.id);else{t=document.querySelector(".collection[data-bookmark='"+Collection.getActive().bookmark_id+"'] .icon[data-id='"+l.id+"'] svg");var n=Widget.isLight(l.color);Widget.changeIconColor(l.color,t,!1,!0,n,!0)}else Collection.upload_icon(t,l.isColor,o,l.id,l.color,l.name,e),Object(r.track_add_collection)(document.location.search,l.id,l.premium);Widget.show(),setTimeout(function(){Widget._openEditModal(!1,!1)},500)}var X=function(e,t,o,n){"string"!=typeof t&&(t=t[0]),"XXXXXX"!=l.color&&(l.color=t.substr(1));var i="";H(e).forEach(function(e){null===(i=e.getAttribute("fill"))&&(i=e.getAttribute("data-original")),i.toUpperCase()!=t.toUpperCase()&&e.setAttribute("data-old_color",i),i=e.getAttribute("data-old_color"),e.style.fill="",e.setAttribute("style",""),e.setAttribute("style","fill:"+t)}),n||se.push("color",[e,t,i]),D(t),j(!0)},V=function(e){N.flipX=!0,N.translate=[-(u.width+u.x),0],v=!v,e||se.push("flipX",[]),ee()},G=function(e){N.flipY=!0,N.translate=[0,-(u.height+u.y)],y=!y,e||se.push("flipY",[]),ee()},W=function(e,t){oe(!0),N.rotate=v^y?-~~e:~~e,t||se.push("rotate",[N.rotate]),ee(),oe(),h+=~~e,360==Math.abs(h)&&(h=0),h<0&&(h=360+h)},Y=function(e,t,o,n){if(!0===n)return N.translate=[e,t],void ee();o||se.push("translate",[e,t]);var i=e,r=t;(v||y)&&(e=y&&r?-r:r,t=v&&i?-i:i,v&&y&&(i=e,e=r=t,t=i));var a={0:[e,t],90:[t,-e],180:[-e,-t],270:[-t,e]};N.translate=v^y?a[h].reverse():a[h],ee()},J=function(e,t,o){oe(!0),void 0===t&&(t=e),N.scale=[e,t],o||se.push("scale",N.scale),ee(),oe()},Q=function(){if(L=!1,document.querySelector("#svg-icon-colors").innerHTML=document.querySelector("#original-icon-colors").innerHTML,d.transform.baseVal.length){var e=s.createSVGMatrix();Z(e)}K(),te(),F(),Collection.getActive().status&&1!=l.isColor&&(document.getElementById("save_into_active").disabled=!1,document.querySelector(".edit-icons-user-actions .free_user_warning").classList.add("hidden"),document.querySelector(".edit-icons-user-actions .collection_limit").classList.add("hidden"))},K=function(){o(p+" > *:not(g)").forEach(function(e){e.setAttribute("style","fill:"+e.getAttribute("data-original"))}),le=-1,ce=[],document.querySelector("#svg-icon-colors li.color button").classList.add("active"),P(document.querySelector("#svg-icon-colors li.color button").getAttribute("data-original"))},Z=function(e,t){t||se.push("matrix",[e]),ee(e)},ee=function(e){for(var t in void 0===e&&(e=d.transform.baseVal.numberOfItems?d.transform.baseVal.getItem(0).matrix:s.createSVGMatrix()),N){var o=N[t]instanceof Array?"apply":"call";e=e[t][o](e,N[t])}0==d.transform.baseVal.numberOfItems?d.transform.baseVal.appendItem(s.transform.baseVal.createSVGTransformFromMatrix(e)):d.transform.baseVal.getItem(0).setMatrix(e),d.transform.baseVal.consolidate(),N={}},te=function(){"IE"!=n.detectBrowser()&&(u=s.viewBox.baseVal),m=s.getBoundingClientRect(),h=0,v=!1,y=!1,0,0,re=[],ae=-1,!0,ce=[],le=-1};function oe(e){var t=u.width/2+u.x,o=u.height/2+u.y;!0===e?Y(t,o,!1,!0):Y(-t,-o,!1,!0)}function ne(e){return!!e&&299*parseInt(e.substr(1,2),16)+587*parseInt(e.substr(3,2),16)+114*parseInt(e.substr(5,2),16)>=225e3}function ie(e){return"#"!=e.substr(0,1)&&"rgb"!=e.substr(0,3)?"":(-1!=e.indexOf("rgb")&&(e=function(e){return"#"+t(e[0])+t(e[1])+t(e[2])}(e.split(",").map(function(e){return~~e.replace(/\D+/g,"")}))),e=e.toUpperCase());function t(e){var t=e.toString(16);return 1==t.length?"0"+t:t}}var re=[],ae=-1,ce=[],le=-1,se={push:function(e,t){ae<re.length-1&&re.splice(ae),re.push([e,t]),ae=re.length-1,F()},undo:function(){o(".active-path").forEach(function(e){e.classList.remove("active-path")});var e=re[ae][0],t=re[ae][1];t&&t.length&&("[object SVGMatrix]"==t[0].toString()?t[0]=t[0].inverse():"scale"==e?t=t.map(function(e){return 1-(e-1)}):"color"!=e&&(t=t.map(function(e){return-e}))),"function"==typeof this.call[e]&&(!0!==t[t.length-1]&&t.push(!0),"color"==e&&(document.querySelector("#svg-icon-colors .active")!=document.querySelector('#svg-icon-colors button[data-original="'+t[0]+'"]')&&(document.querySelector("#svg-icon-colors .active").classList.remove("active"),document.querySelector('#svg-icon-colors button[data-original="'+t[0]+'"]').classList.add("active")),document.querySelector('#svg-icon-colors button[data-original="'+t[0]+'"]').style.backgroundColor=t[2],t=[t[0],t[2],t[1],t[3]]),this.call[e].apply(null,t),ae--,F())},redo:function(){void 0===re[++ae]&&console.info("REDO",re,ae);var e=re[ae][0],t=re[ae][1];!0!==t[t.length-1]&&t.push(!0),"color"==e&&(document.querySelector('#svg-icon-colors button[data-original="'+t[0]+'"]').style.backgroundColor=t[1]),this.call[e].apply(null,t),F()},push_old:function(e,t){++ae<re.length-1?(re.splice(ae),ae=re.length-1,re[ae]=[e,t]):re.push([e,t]),"color"==e&&(~le||(ce[++le]=[t[0],t[0],!0]),le<ce.length-1?(ce.splice(le),ce[le]=[t[0],t[1],!0]):(t.push(!0),ce.push(t)),le=ce.length-1),F()},undo_old:function(){var e=re[ae][0],t=re[ae][1];t&&t.length&&("[object SVGMatrix]"==t[0].toString()?t[0]=t[0].inverse():t="scale"==e?t.map(function(e){return 1-(e-1)}):"color"==e?ce[--le]:t.map(function(e){return-e})),"function"==typeof this.call[e]&&(!0!==t[t.length-1]&&t.push(!0),"color"==e&&(document.querySelector('#svg-icon-colors button[data-original="'+t[0]+'"]').style.backgroundColor=t[1]),this.call[e].apply(null,t),ae--,F())},redo_old:function(){void 0===re[++ae]&&console.info("REDO",re,ae);var e=re[ae][0],t=re[ae][1];"color"==e&&(t=ce[++le]),!0!==t[t.length-1]&&t.push(!0),"color"==e&&(document.querySelector('#svg-icon-colors button[data-original="'+t[0]+'"]').style.backgroundColor=t[1]),this.call[e].apply(null,t),F()},call:{flipX:V,flipY:G,scale:J,translate:Y,matrix:Z,rotate:W,color:X}};return{load:function(e,t){f.innerHTML="",(l=e).id=e.id,l.name=e.name,l.color="XXXXXX"==e.color||2==e.color?"XXXXXX":e.color,l.isColor="XXXXXX"!=e.color?0:1,l.premium=~~e.premium,w=!0===t;var o=Math.floor(l.id/1e3),n=Collection.getActive().bookmark_id,r=document.querySelector(".collection[data-bookmark='"+n+"'] .icon[data-id='"+l.id+"'] svg");r&&(r=r.outerHTML);var a={0:BASE_URL+"static/icons/svg/"+o+"/"+l.id+".svg",1:"https://"+location.host+"/premium-icon/icons/svg/"+o+"/"+l.id+".svg",4:BASE_URL+"static/user_icons/"+Math.floor(gr.auth.me.id/1e3)+"/"+gr.auth.me.id+"/"+l.id+".svg"}[l.premium];g.value=l.name,g.setAttribute("data-original",l.name),g.setAttribute("data-id",l.id),R(0,a).then(function(){null!==document.querySelector("#svg-icon-colors li.color button")&&(document.querySelector("#svg-icon-colors li.color button").classList.add("active"),P(document.querySelector("#svg-icon-colors li.color button").getAttribute("data-original")))}),function(e){if(gr.auth.me.status)if(Collection.getActive().status)if(1===e)if(i.db.queryAll(Collection.getActive().bookmark_id,{query:{premium:4}}).length>=3&&!gr.auth.me.premium){var t=i.db.queryAll(Collection.getActive().bookmark_id,{query:{id:l.id}});!w&&t.length>0&&4==t[0].premium?document.getElementById("duplicate_icon").disabled=!0:document.getElementById("save_into_active").disabled=!0,document.querySelector(".edit-icons-user-actions .free_user_warning").classList.remove("hidden")}else i.db.queryAll(Collection.getActive().bookmark_id).length>=256?(document.querySelector(".edit-icons-user-actions .collection_limit").classList.remove("hidden"),document.getElementById("save_into_active").disabled=!0):(document.getElementById("save_into_active").disabled=!1,document.querySelector(".edit-icons-user-actions .free_user_warning").classList.add("hidden"));else i.db.queryAll(Collection.getActive().bookmark_id,{query:{premium:4}}).length>=3&&!gr.auth.me.premium?document.getElementById("duplicate_icon").disabled=!0:i.db.queryAll(Collection.getActive().bookmark_id).length>=256&&(document.querySelector(".edit-icons-user-actions .collection_limit").classList.remove("hidden"),document.querySelector("#save_into_active span")?document.getElementById("save_into_active").disabled=!0:document.getElementById("duplicate_icon").disabled=!0);else document.getElementById("save_into_active").disabled=!0,document.querySelector(".edit-icons-user-actions .collection_locked").classList.remove("hidden");else document.querySelector(".only_registered").classList.remove("hidden"),document.querySelector(".edit-icon-content .edit-icons-user-actions #download_button").classList.add("hidden"),document.getElementById("save_into_active").classList.add("hidden")}(l.isColor)},getInfo:function(){return{id:l.id,name:l.name,color:l.color,isColor:l.isColor,url:url,premium:l.premium}},rotate:function(e){W(e)},horizontalFlip:function(){h&&180!=h?G():V()},verticalFlip:function(){h&&180!=h?V():G()},skew:function(e,t){N.skewX=~~a,N.skewY=~~b,ee()},move:function(e,t,o,n){Y(5*(-1*~~n+~~t),5*(-1*~~e+~~o))},scale:function(e){e=1+parseFloat((e/100).toFixed(2)),J(e)},fitToCanvas:function(){!function(e){var t=d.getBoundingClientRect(),o=t.width>=t.height?m.width/t.width:m.height/t.height;J(o,o,!0)}()},reset:function(){Q()},align:function(e){!function(e){var t=d.getBBox(),o=s.viewBox.baseVal,n=0,i=0,r=d.transform.baseVal.length?d.transform.baseVal.getItem(0).matrix:{a:1,d:1,e:0,f:0};switch(e){case"top":case"bottom":i=o.height-t.height-t.y-r.f/r.d;break;case"left":case"right":n=o.width-t.width-t.x-r.e/r.a;break;case"center":n=(o.width-t.width)/2-t.x-r.e,i=(o.height-t.height)/2-t.y-r.f}Y(n,i)}(e)},getDegrees:function(){return h},getViewBox:function(){return u},getBBox:function(){return m},getMatrix:function(){return d.transform.baseVal.numberOfItems?d.transform.baseVal.getItem(0).matrix:s.createSVGMatrix()},getActions:function(){return[re,ae]}}}()},function(e,t,o){"use strict";function n(e,t,o){var n=new Date,i=new Date;null!=o&&0!=o||(o=1),i.setTime(n.getTime()+864e5*o),document.cookie=e+"="+escape(t)+";expires="+i.toGMTString()}function i(e){var t=[];t=e||document.querySelectorAll(".form-feedback");var o={};for(e in t.forEach(function(e){("collections-feedbackform"!==e.dataset.form||gr.auth.me.status)&&(o[e.dataset.form]?o[e.dataset.form].push(e):(o[e.dataset.form]=[],o[e.dataset.form].push(e)))}),o){if(-1==document.cookie.indexOf(o[e][0].querySelector("button").dataset.form.split("-")[0]+"_feedback=")){if(o[e].length>1)var n=Math.floor(Math.random()*o[e].length);else n=0;o[e].forEach(function(e){e.classList.add("hidden")}),o[e][n].classList.remove("hidden")}}}function r(e){i(document.querySelectorAll('section[data-bookmark="'+e+'"] .form-feedback[data-form="collections-feedbackform"]'))}function a(){var e=document.querySelector(".form-feedback .show-menu");e.querySelector("textarea").value="",e.classList.toggle("show-menu"),e.dataset.qid="",e.parentNode.parentNode.parentNode.innerHTML="<span>"+messages.feedback.thanks_message+"</span>"}o.r(t),o.d(t,"show_feedback_collection",function(){return r}),$(function(){var e=!1,t=!1,o=!1,r=!1,c=!1,l=!1,s=!1,d=!1,u=!1,m=!1,p=!1,f=!1,g=!1,h=!1;$(document).on("click",".feedbackform-handler-link",function(i){i.preventDefault(),i.stopPropagation();var a="",v="";switch(this.dataset.answer){case"Yes":a=2;break;case"No":a=1;break;case"Neutral":default:a=0}switch(this.dataset.form){case"premium-feedbackform-1":if(e)return;e=!0,v=10;break;case"premium-feedbackform-2":if(t)return;t=!0,v=11;break;case"feedback-feedbackform":if(o)return;o=!0,$("#trigger-feedback-typeform").trigger("click"),v=12;break;case"download-feedbackform":if(r)return;r=!0,v=13;break;case"empty_search-feedbackform":if(c)return;c=!0,v=14,a=0;break;case"search-feedbackform":if(l)return;l=!0,v=15;break;case"styles-feedbackform":if(s)return;s=!0,v=16,n("styles_feedback","true",7);break;case"packs-feedbackform-1":if(d)return;d=!0,v=17;break;case"packs-feedbackform-2":if(u)return;u=!0,v=18,a=0;break;case"categories-feedbackform":if(m)return;m=!0,v=19,n("categories_feedback","true",7);break;case"detail-feedbackform-1":if(p)return;p=!0,v=20,n("detail_feedback","true",7);break;case"detail-feedbackform-2":if(f)return;f=!0,v=21,n("detail_feedback","true",7);break;case"collections-feedbackform-1":if(g)return;g=!0,v=22,n("collections_feedback","true",7);break;case"collections-feedbackform-2":if(h)return;h=!0,v=23,a=0,n("collections_feedback","true",7);break;default:v=10,a=0}!function(e,t){navigator.appName;var o,n=navigator.userAgent,i=[],r=n.match(/(opera|chrome|safari|firefox|msie|maxthon|lunascape)\/?\s*(\.?\d+(\.\d+)*)/i);r&&null!==(o=n.match(/version\/([\.\d]+)/i))&&(r[2]=o[1]);i.name=r[1],i.version=r[2],$.ajax({url:APP_URL+"feedback/send_valuation",type:"POST",data:{value:t,question:e,browser:i.name,browser_version:i.version,language:LANGUAGE_SHORT},success:function(e){e=JSON.parse(e);var t=window[e.callback];"function"==typeof t&&t(e.last_id)}})}(v,a)}),$(document).on("click",".response_buttons .send_feedback",function(e){var t=this.parentNode.parentNode,o=t.querySelector("textarea").value,n=t.dataset.qid;o&&function(e,t){$.ajax({url:APP_URL+"feedback/update_comment",type:"POST",data:{id:t,answer:e},success:function(e){a()}})}(o,n)}),$(document).on("click",".response_buttons button:not(.send_feedback)",function(e){a()}),i()})},function(e,t,o){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){e||(e="0");var o="fi_"+e,i=!1,r=null;try{var a=t==sessionStorage?sessionStorage:localStorage}catch(e){a=t}function c(e){return!!r.tables[e]}function l(e){c(e)||v("The table '"+e+"' does not exist")}function s(e,t,o){if(r.tables[e].fields=r.tables[e].fields.concat(t),void 0!==o)for(var i in r.data[e])if(r.data[e].hasOwnProperty(i))for(var a in t)"object"==n(o)?r.data[e][i][t[a]]=o[t[a]]:r.data[e][i][t[a]]=o}function d(e,t){for(var o=Object.keys(r.data[e]),n=1;n<o.length+1;n++)if(o[n-1]!=n){t.ID=n;break}return t.ID||(t.ID=r.tables[e].auto_increment,r.tables[e].auto_increment++),r.data[e][t.ID]=t,t.ID}function u(e,t){return function(o,n){var i="string"==typeof o[e]?o[e].toLowerCase():o[e],r="string"==typeof n[e]?n[e].toLowerCase():n[e];return"DESC"===t?i==r?0:i<r?1:-1:i==r?0:i>r?1:-1}}function m(e,t){var o=[],n=!1,i=null;for(var a in r.data[e])if(r.data[e].hasOwnProperty(a)){for(var c in i=r.data[e][a],n=!0,t)if(t.hasOwnProperty(c))if("string"==typeof t[c]){if(null===i[c]||i[c].toString().toLowerCase()!=t[c].toString().toLowerCase()){n=!1;break}}else if(i[c]!=t[c]){n=!1;break}n&&o.push(a)}return o}function p(e,t){var o=[];for(var n in r.data[e])r.data[e].hasOwnProperty(n)&&1==t(y(r.data[e][n]))&&o.push(n);return o}function f(e){var t=[];for(var o in r.data[e])r.data[e].hasOwnProperty(o)&&t.push(o);return t}function g(e,t,o){for(var n="",i=0,a=0;a<t.length;a++){n=t[a];var c=o(y(r.data[e][n]));if(c){delete c.ID;var l=r.data[e][n];for(var s in c)c.hasOwnProperty(s)&&(l[s]=c[s]);r.data[e][n]=_(e,l),i++}}return i}function h(){try{return a.setItem(o,JSON.stringify(r)),!0}catch(e){return!1}}function v(e){throw new Error(e)}function y(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function b(e){return!e.toString().match(/[^a-z_0-9]/gi)}function _(e,t){for(var o="",n={},i=0;i<r.tables[e].fields.length;i++)void 0!==t[o=r.tables[e].fields[i]]&&(n[o]=t[o]);return n}function k(e,t){for(var o="",n={},i=0;i<r.tables[e].fields.length;i++)n[o=r.tables[e].fields[i]]=null===t[o]||void 0===t[o]?null:t[o];return n}return(r=a[o])&&(r=JSON.parse(r))&&r.tables&&r.data||(b(e)?(r={tables:{},data:{}},h(),i=!0):v("The name '"+e+"' contains invalid characters")),{commit:function(){return h()},isNew:function(){return i},drop:function(){a.hasOwnProperty(o)&&delete a[o],r=null},renameTable:function(e,t){return function(e,t){if(e==t)throw"Same table name choosen";if(!r.data.hasOwnProperty(e)&&!r.tables.hasOwnProperty(e))throw"The table doesn't exists on database";if(r.data.hasOwnProperty(t)||r.tables.hasOwnProperty(t))throw"New table name already exists on database";return r.data[t]=r.data[e],r.tables[t]=r.tables[e],delete r.data[e],delete r.tables[e],a.setItem(o,JSON.stringify(r)),!0}(e,t)},getDB:function(){return r},serialize:function(){return JSON.stringify(r)},tableExists:function(e){return c(e)},tableFields:function(e){return function(e){return r.tables[e].fields}(e)},tableCount:function(){return function(){var e=0;for(var t in r.tables)r.tables.hasOwnProperty(t)&&e++;return e}()},showTables:function(){return function(){var e=[];for(var t in r.tables)r.tables.hasOwnProperty(t)&&e.push(t);return e}()},columnExists:function(e,t){return function(e,t){var o=!1,n=r.tables[e].fields;for(var i in n)if(n[i]==t){o=!0;break}return o}(e,t)},createTable:function(e,t){e||(e=0);var o=!1;if(b(e))if(this.tableExists(e))v("The table name '"+e+"' already exists.");else{for(var n=!0,i=0;i<t.length;i++)if(!b(t[i])){n=!1;break}if(n){var a={};for(i=0;i<t.length;i++)a[t[i]]=!0;for(var c in delete a.ID,t=["ID"],a)a.hasOwnProperty(c)&&t.push(c);!function(e,t){r.tables[e]={fields:t,auto_increment:1},r.data[e]={}}(e,t),o=!0}else v("One or more field names in the table definition contains invalid characters")}else v("The database name '"+e+"' contains invalid characters.");return o},createTableWithData:function(e,t){("object"!==n(t)||!t.length||t.length<1)&&v("Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]");var o=Object.keys(t[0]);if(this.createTable(e,o)){this.commit();for(var i=0;i<t.length;i++)d(e,t[i])||v("Failed to insert record: ["+JSON.stringify(t[i])+"]");this.commit()}return!0},dropTable:function(e){l(e),function(e){delete r.tables[e],delete r.data[e]}(e),h()},truncate:function(e){l(e),function(e){r.tables[e].auto_increment=1,r.data[e]={}}(e),h()},alterTable:function(e,t,o){var i=!1;if(b(e)){if("object"==n(t)){for(var r=!0,a=0;a<t.length;a++)if(!b(t[a])){r=!1;break}if(r){var c={};for(a=0;a<t.length;a++)c[t[a]]=!0;for(var l in delete c.ID,t=[],c)c.hasOwnProperty(l)&&t.push(l);s(e,t,o),i=!0}else v("One or more field names in the table definition contains invalid characters")}else if("string"==typeof t)if(b(t)){var d=[];d.push(t),s(e,d,o),i=!0}else v("One or more field names in the table definition contains invalid characters")}else v("The database name '"+e+"' contains invalid characters");return i},rowCount:function(e){return l(e),function(e){var t=0;for(var o in r.data[e])r.data[e].hasOwnProperty(o)&&t++;return t}(e)},insert:function(e,t){return l(e),d(e,k(e,t))},insertOrUpdate:function(e,t,o){l(e);var i=[];if(t?"object"==n(t)?i=m(e,_(e,t)):"function"==typeof t&&(i=p(e,t)):i=f(e),0==i.length)return d(e,k(e,o));for(var r=[],a=0;a<i.length;a++)g(e,i,function(e){return r.push(e.ID),o});return r},update:function(e,t,o){l(e);var i=[];return t?"object"==n(t)?i=m(e,_(e,t)):"function"==typeof t&&(i=p(e,t)):i=f(e),g(e,i,o)},query:function(e,t,o,i,a,c){l(e);var s=[];return t?"object"==n(t)?s=m(e,_(e,t)):"function"==typeof t&&(s=p(e,t)):s=f(e),function(e,t,o,n,i,a){for(var c=null,l=[],s=null,d=0;d<t.length;d++)c=t[d],s=r.data[e][c],l.push(y(s));if(i&&i instanceof Array)for(d=0;d<i.length;d++)l.sort(u(i[d][0],i[d].length>1?i[d][1]:null));if(a&&a instanceof Array){for(var m=0;m<a.length;m++){var p={},f=a[m];for(d=0;d<l.length;d++)void 0!==l[d]&&(l[d].hasOwnProperty(f)&&p.hasOwnProperty(l[d][f])?delete l[d]:p[l[d][f]]=1)}var g=[];for(d=0;d<l.length;d++)void 0!==l[d]&&g.push(l[d]);l=g}return o=o&&"number"==typeof o?o:null,n=n&&"number"==typeof n?n:null,o&&n?l=l.slice(o,o+n):o?l=l.slice(o):n&&(l=l.slice(o,n)),l}(e,s,i,o,a,c)},queryAll:function(e,t){return t?this.query(e,t.hasOwnProperty("query")?t.query:null,t.hasOwnProperty("limit")?t.limit:null,t.hasOwnProperty("start")?t.start:null,t.hasOwnProperty("sort")?t.sort:null,t.hasOwnProperty("distinct")?t.distinct:null):this.query(e)},deleteRows:function(e,t){l(e);var o=[];return t?"object"==n(t)?o=m(e,_(e,t)):"function"==typeof t&&(o=p(e,t)):o=f(e),function(e,t){for(var o=0;o<t.length;o++)r.data[e].hasOwnProperty(t[o])&&delete r.data[e][t[o]];return t.length}(e,o)}}}o.r(t),o.d(t,"localStorageDB",function(){return i})},function(e,t,o){"use strict";function n(){document.querySelector("meta[property='og:url']");var e=document.querySelector("meta[property='og:image']"),t=document.querySelector("meta[name='twitter:title']"),o=document.querySelector("meta[property='og:description']"),n=document.location.search?document.location.search:"";return{url:document.location.protocol+"//"+document.location.host+document.location.pathname+n,image:e?e.content:"",title:t?t.content:document.title,desc:o?o.content:document.title,pathname:window.location.pathname}}function i(e){void 0===e&&(e=n());var t="http://www.facebook.com/sharer.php?u="+e.url;window.open(t,"fbshare","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Facebook",e.pathname)}function r(e){void 0===e&&(e=n());var t="http://pinterest.com/pin/create/button/?url="+e.url+"&description="+e.title+"&media="+e.image;window.open(t,"pinshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Pinterest",e.pathname)}function a(e){void 0===e&&(e=n());var t="https://plus.google.com/share?url="+e.url;window.open(t,"glshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Google+",e.pathname)}function c(e,t){e.hasOwnProperty("preventDefault")&&e.preventDefault(),void 0===t&&(t=n());var o="http://twitter.com/share?url="+t.url+"&text="+t.title+"&";window.open(o,"Flaticon Twitter Share","height=450,width=550,top="+($(window).height()/2-225)+",left="+$(window).width()/2+",toolbar=0,location=0,menubar=0,directories=0,scrollbars=0"),ga("send","event","Social","Twitter",t.pathname)}o.r(t),o.d(t,"fbpopup",function(){return i}),o.d(t,"pinpopup",function(){return r}),o.d(t,"glpopup",function(){return a}),o.d(t,"tweet",function(){return c}),window.fbpopup=i,window.pinpopup=r,window.tweet=c},function(e,t,o){"use strict";o.r(t),o.d(t,"logged_in_callback",function(){return r}),o.d(t,"Auth",function(){return l});var n=o(5);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){var t=!1;if("function"==typeof Collection&&Collection.init(),c(e),e.status)localStorage.fi_user=JSON.stringify(e);else{var o=document.querySelectorAll(".btn-download-pack");[].forEach.call(o,function(e){e.disabled=!0,e.removeAttribute("data-pack")})}if(clearTimeout(window.gr.auth.timeout),gr.auth.me.id=~~gr.auth.me.id,gr.auth.me.premium=~~gr.auth.me.premium,gr.auth.me.premium){var r=document.getElementById("gr_user_menu_avatar");r&&r.insertAdjacentHTML("afterbegin",'<i class="premium flaticon-premium" title="Premium user"></i>'),$(".dropdown-upgrade").hide();var l=document.querySelector(".join-premium-button");l&&(l.style.display="none");var s=document.querySelector(".join-premium-text");s&&(s.style.display="block");var d=document.querySelector(".btn-pattern");d&&(d.removeAttribute("disabled"),d.classList.remove("disabled")),notify.addCustom({id:"cc_will_expire",priority:"5",showPremium:!0,expires:function(){return new Date((new Date).getTime()+36e5)},closeCallback:function(e){var t=document.getElementById("user-alert-container");if(t){var o=t.querySelector("button");o&&o.addEventListener("click",e)}},showCallback:function(){return 1==e.cc_will_expire},callback:function(){a(e.cc_will_expire)}})}for(var u in gr.auth.me)if(gr.auth.me.hasOwnProperty(u)){if(!(Object.defineProperty instanceof Function))return!1;Object.defineProperty(gr.auth.me,u,{value:gr.auth.me[u],writable:!1,configurable:!1,enumerable:!1})}"function"==typeof n.update_download_counter&&n.update_download_counter(1),"object"!=("undefined"==typeof notify?"undefined":i(notify))||t||""!=URL_CAMPAIGN||(t=!0,notify.printQueue())}function a(e){if(e){var t="string"==typeof messages.common.cc_exp_title?messages.common.cc_exp_title:"Attention!",o="string"==typeof messages.common.cc_exp_desc?messages.common.cc_exp_desc:"Your credit card is about to expire, please update your credit card and continue with your premium plan";"undefined"!=typeof UserAlerts&&UserAlerts.warning(t,o,!0)}}function c(e){var t=e.status?e.premium?"premium":"registered":"guest";ga("set","dimension1",t),e.id&&ga("set","userId",e.id)}$(function(){var e=document.getElementById("logout_link");null!==e&&e.addEventListener("click",function(e){e.preventDefault(),l.logout()})});var l={error:function(e){localStorage.removeItem("fi_user"),"undefined"!=typeof UserAlerts&&UserAlerts.warning(e.title,e.body),setTimeout(gr.auth.logout,3e3)},logout:function(){localStorage.removeItem("fi_user"),gr.auth.logout()}};gr.auth.timeout=setTimeout(function(){var e="string"==typeof messages.errors.connectivity?messages.errors.connectivity:"Error to connect Flaticon servers.";"undefined"!=typeof UserAlerts&&UserAlerts.danger("Oopps!",e),"function"==typeof Collection&&Collection.init()},3e3)},,,,,,,,,,,,,,,,,,,function(e,t,o){o(68),o(0),o(69),o(18),o(70),o(71),o(46),o(48),o(72),o(73),o(74),o(2),o(14),o(44),o(75),o(15),o(5),o(76),o(47),o(77),o(78),o(37),o(22),o(8),o(79),o(33),o(45),o(80),o(81),o(82),o(83),o(84),o(85),o(38),o(32),e.exports=o(86)},function(e,t,o){"use strict";o.r(t);var n=o(1),i=o(2),r=o(46),a=(o(37),o(5)),c=o(47),l=o(15),s=o(0),d=o(48);n.e.Collection=i.Collection,n.e.Widget=i.Widget,n.e.localStorageDB=r.localStorageDB,n.e.Functions=a,n.e.SocialShare=c,n.e.Downloads=l,n.e.sanitize_filename=s.sanitize_filename,n.e.callback_handler=i.callback_handler,n.e.logged_in_callback=d.logged_in_callback,n.e.Notifier=s.Notifier,n.e.detailReportReceived=s.detailReportReceived},function(e,t){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){var t=window.MutationObserver||window.WebKitMutationObserver;e.fn.attrchange=function(n,i){if("object"==o(n)){var r={trackValues:!1,callback:e.noop};if("function"==typeof n?r.callback=n:e.extend(r,n),r.trackValues&&this.each(function(t,o){for(var n,i={},r=(t=0,o.attributes),a=r.length;t<a;t++)i[(n=r.item(t)).nodeName]=n.value;e(this).data("attr-old-value",i)}),t){var a={subtree:!1,attributes:!0,attributeOldValue:r.trackValues},c=new t(function(t){t.forEach(function(t){var o=t.target;r.trackValues&&(t.newValue=e(o).attr(t.attributeName)),"connected"===e(o).data("attrchange-status")&&r.callback.call(o,t)})});return this.data("attrchange-method","Mutation Observer").data("attrchange-status","connected").data("attrchange-obs",c).each(function(){c.observe(this,a)})}return function(){var e=document.createElement("p"),t=!1;if(e.addEventListener)e.addEventListener("DOMAttrModified",function(){t=!0},!1);else{if(!e.attachEvent)return!1;e.attachEvent("onDOMAttrModified",function(){t=!0})}return e.setAttribute("id","target"),t}()?this.data("attrchange-method","DOMAttrModified").data("attrchange-status","connected").on("DOMAttrModified",function(t){t.originalEvent&&(t=t.originalEvent),t.attributeName=t.attrName,t.oldValue=t.prevValue,"connected"===e(this).data("attrchange-status")&&r.callback.call(this,t)}):"onpropertychange"in document.body?this.data("attrchange-method","propertychange").data("attrchange-status","connected").on("propertychange",function(t){t.attributeName=window.event.propertyName,function(t,o){if(t){var n=this.data("attr-old-value");if(o.attributeName.indexOf("style")>=0){n.style||(n.style={});var i=o.attributeName.split(".");o.attributeName=i[0],o.oldValue=n.style[i[1]],o.newValue=i[1]+":"+this.prop("style")[e.camelCase(i[1])],n.style[i[1]]=o.newValue}else o.oldValue=n[o.attributeName],o.newValue=this.attr(o.attributeName),n[o.attributeName]=o.newValue;this.data("attr-old-value",n)}}.call(e(this),r.trackValues,t),"connected"===e(this).data("attrchange-status")&&r.callback.call(this,t)}):this}if("string"==typeof n&&e.fn.attrchange.hasOwnProperty("extensions")&&e.fn.attrchange.extensions.hasOwnProperty(n))return e.fn.attrchange.extensions[n].call(this,i)}}(jQuery)},function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"object"!==("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var o,n,i,r,a,c=gap,l=t[e];switch(l&&"object"===_typeof(l)&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),_typeof(l)){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,o=0;o<r;o+=1)a[o]=str(o,l)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+c+"]":"["+a.join(",")+"]",gap=c,i}if(rep&&"object"===_typeof(rep))for(r=rep.length,o=0;o<r;o+=1)"string"==typeof rep[o]&&(i=str(n=rep[o],l))&&a.push(quote(n)+(gap?": ":":")+i);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(i=str(n,l))&&a.push(quote(n)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+c+"}":"{"+a.join(",")+"}",gap=c,i}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;n<o;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=t,t&&"function"!=typeof t&&("object"!==_typeof(t)||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var o,n,i=e[t];if(i&&"object"===_typeof(i))for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(void 0!==(n=walk(i,o))?i[o]=n:delete i[o]);return reviver.call(e,t,i)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),
/**
* History.js Native Adapter
* @author Benjamin Arthur Lupton <contact@balupton.com>
* @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
* @license New BSD License <http://creativecommons.org/licenses/BSD/>
*/
function(e,t){"use strict";var o=e.History=e.History||{};if(void 0!==o.Adapter)throw new Error("History.js Adapter has already been loaded...");o.Adapter={handlers:{},_uid:1,uid:function(e){return e._uid||(e._uid=o.Adapter._uid++)},bind:function(e,t,n){var i=o.Adapter.uid(e);o.Adapter.handlers[i]=o.Adapter.handlers[i]||{},o.Adapter.handlers[i][t]=o.Adapter.handlers[i][t]||[],o.Adapter.handlers[i][t].push(n),e["on"+t]=function(e,t){return function(n){o.Adapter.trigger(e,t,n)}}(e,t)},trigger:function(e,t,n){n=n||{};var i,r,a=o.Adapter.uid(e);for(o.Adapter.handlers[a]=o.Adapter.handlers[a]||{},o.Adapter.handlers[a][t]=o.Adapter.handlers[a][t]||[],i=0,r=o.Adapter.handlers[a][t].length;i<r;++i)o.Adapter.handlers[a][t][i].apply(this,[n])},extractEventData:function(e,t){return t&&t[e]||void 0},onDomLoad:function(t){var o=e.setTimeout(function(){t()},2e3);e.onload=function(){clearTimeout(o),t()}}},void 0!==o.init&&o.init()}(window),
/**
 * History.js HTML4 Support
 * Depends on the HTML5 Support
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var o=e.document,n=e.setTimeout||n,i=e.clearTimeout||i,r=e.setInterval||r,a=e.History=e.History||{};if(void 0!==a.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");a.initHtml4=function(){if(void 0!==a.initHtml4.initialized)return!1;a.initHtml4.initialized=!0,a.enabled=!0,a.savedHashes=[],a.isLastHash=function(e){return e===a.getHashByIndex()},a.isHashEqual=function(e,t){return(e=encodeURIComponent(e).replace(/%25/g,"%"))===(t=encodeURIComponent(t).replace(/%25/g,"%"))},a.saveHash=function(e){return!a.isLastHash(e)&&(a.savedHashes.push(e),!0)},a.getHashByIndex=function(e){return void 0===e?a.savedHashes[a.savedHashes.length-1]:e<0?a.savedHashes[a.savedHashes.length+e]:a.savedHashes[e]},a.discardedHashes={},a.discardedStates={},a.discardState=function(e,t,o){var n,i=a.getHashByState(e);return n={discardedState:e,backState:o,forwardState:t},a.discardedStates[i]=n,!0},a.discardHash=function(e,t,o){var n={discardedHash:e,backState:o,forwardState:t};return a.discardedHashes[e]=n,!0},a.discardedState=function(e){var t=a.getHashByState(e);return a.discardedStates[t]||!1},a.discardedHash=function(e){return a.discardedHashes[e]||!1},a.recycleState=function(e){var t=a.getHashByState(e);return a.discardedState(e)&&delete a.discardedStates[t],!0},a.emulated.hashChange&&(a.hashChangeInit=function(){a.checkerFunction=null;var t,n,i,c,l="",s=Boolean(a.getHash());return a.isInternetExplorer()?(t="historyjs-iframe",(n=o.createElement("iframe")).setAttribute("id",t),n.setAttribute("src","#"),n.style.display="none",o.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),i="",c=!1,a.checkerFunction=function(){if(c)return!1;c=!0;var t=a.getHash(),o=a.getHash(n.contentWindow.document);return t!==l?(l=t,o!==t&&(i=o=t,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=a.escapeHash(t)),a.Adapter.trigger(e,"hashchange")):o!==i&&(i=o,s&&""===o?a.back():a.setHash(o,!1)),c=!1,!0}):a.checkerFunction=function(){var t=a.getHash()||"";return t!==l&&(l=t,a.Adapter.trigger(e,"hashchange")),!0},a.intervalList.push(r(a.checkerFunction,a.options.hashChangeInterval)),!0},a.Adapter.onDomLoad(a.hashChangeInit)),a.emulated.pushState&&(a.onHashChange=function(t){var o,n,i=t&&t.newURL||a.getLocationHref(),r=a.getHashByUrl(i);return a.isLastHash(r)?(a.busy(!1),!1):(a.doubleCheckComplete(),a.saveHash(r),r&&a.isTraditionalAnchor(r)?(a.Adapter.trigger(e,"anchorchange"),a.busy(!1),!1):(o=a.extractState(a.getFullUrl(r||a.getLocationHref()),!0),a.isLastSavedState(o)?(a.busy(!1),!1):(a.getHashByState(o),(n=a.discardedState(o))?(a.getHashByIndex(-2)===a.getHashByState(n.forwardState)?a.back(!1):a.forward(!1),!1):(a.pushState(o.data,o.title,encodeURI(o.url),!1),!0))))},a.Adapter.bind(e,"hashchange",a.onHashChange),a.pushState=function(e,t,o,n){if(o=encodeURI(o).replace(/%25/g,"%"),a.getHashByUrl(o))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==n&&a.busy())return a.pushQueue({scope:a,callback:a.pushState,args:arguments,queue:n}),!1;a.busy(!0);var i=a.createStateObject(e,t,o),r=a.getHashByState(i),c=a.getState(!1),l=a.getHashByState(c),s=a.getHash();a.expectedStateId,i.id;return a.storeState(i),a.expectedStateId=i.id,a.recycleState(i),a.setTitle(i),r===l?(a.busy(!1),!1):(a.saveState(i),a.isHashEqual(r,s)||a.isHashEqual(r,a.getShortUrl(a.getLocationHref()))||a.setHash(r,!1),a.busy(!1),!0)},a.replaceState=function(t,o,n,i){if(n=encodeURI(n).replace(/%25/g,"%"),a.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(!1!==i&&a.busy())return a.pushQueue({scope:a,callback:a.replaceState,args:arguments,queue:i}),!1;a.busy(!0);var r=a.createStateObject(t,o,n),c=a.getHashByState(r),l=a.getState(!1),s=a.getHashByState(l),d=a.getStateByIndex(-2);return a.discardState(l,r,d),c===s?(a.storeState(r),a.expectedStateId=r.id,a.recycleState(r),a.setTitle(r),a.saveState(r),a.Adapter.trigger(e,"statechange"),a.busy(!1)):a.pushState(r.data,r.title,r.url,!1),!0}),a.emulated.pushState&&a.getHash()&&!a.emulated.hashChange&&a.Adapter.onDomLoad(function(){a.Adapter.trigger(e,"hashchange")})},void 0!==a.init&&a.init()}(window),
/**
 * History.js Core
 * @author Benjamin Arthur Lupton <contact@balupton.com>
 * @copyright 2010-2011 Benjamin Arthur Lupton <contact@balupton.com>
 * @license New BSD License <http://creativecommons.org/licenses/BSD/>
 */
function(e,t){"use strict";var o=e.console||void 0,n=e.document,i=e.navigator,r=!1,a=e.setTimeout,c=e.clearTimeout,l=e.setInterval,s=e.clearInterval,d=e.JSON,u=e.alert,m=e.History=e.History||{},p=e.history;try{(r=e.sessionStorage).setItem("TEST","1"),r.removeItem("TEST")}catch(e){r=!1}if(d.stringify=d.stringify||d.encode,d.parse=d.parse||d.decode,void 0!==m.init)throw new Error("History.js Core has already been loaded...");m.init=function(e){return void 0!==m.Adapter&&(void 0!==m.initCore&&m.initCore(),void 0!==m.initHtml4&&m.initHtml4(),!0)},m.initCore=function(t){if(void 0!==m.initCore.initialized)return!1;if(m.initCore.initialized=!0,m.options=m.options||{},m.options.hashChangeInterval=m.options.hashChangeInterval||100,m.options.safariPollInterval=m.options.safariPollInterval||500,m.options.doubleCheckInterval=m.options.doubleCheckInterval||500,m.options.disableSuid=m.options.disableSuid||!1,m.options.storeInterval=m.options.storeInterval||1e3,m.options.busyDelay=m.options.busyDelay||250,m.options.debug=m.options.debug||!1,m.options.initialTitle=m.options.initialTitle||n.title,m.options.html4Mode=m.options.html4Mode||!1,m.options.delayInit=m.options.delayInit||!1,m.intervalList=[],m.clearAllIntervals=function(){var e,t=m.intervalList;if(void 0!==t&&null!==t){for(e=0;e<t.length;e++)s(t[e]);m.intervalList=null}},m.debug=function(){m.options.debug&&m.log.apply(m,arguments)},m.log=function(){var e,t,i,r,a,c=!(void 0===o||void 0===o.log||void 0===o.log.apply),l=n.getElementById("log");for(c?(e=(r=Array.prototype.slice.call(arguments)).shift(),void 0!==o.debug?o.debug.apply(o,[e,r]):o.log.apply(o,[e,r])):e="\n"+arguments[0]+"\n",t=1,i=arguments.length;t<i;++t){if("object"===_typeof(a=arguments[t])&&void 0!==d)try{a=d.stringify(a)}catch(e){}e+="\n"+a+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):c||u(e),!0},
/**
     * History.getInternetExplorerMajorVersion()
     * Get's the major version of Internet Explorer
     * @return {integer}
     * @license Public Domain
     * @author Benjamin Arthur Lupton <contact@balupton.com>
     * @author James Padolsey <https://gist.github.com/527683>
     */
m.getInternetExplorerMajorVersion=function(){return m.getInternetExplorerMajorVersion.cached=void 0!==m.getInternetExplorerMajorVersion.cached?m.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=n.createElement("div"),o=t.getElementsByTagName("i");(t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e")&&o[0];);return e>4&&e}()},
/**
     * History.isInternetExplorer()
     * Are we using Internet Explorer?
     * @return {boolean}
     * @license Public Domain
     * @author Benjamin Arthur Lupton <contact@balupton.com>
     */
m.isInternetExplorer=function(){return m.isInternetExplorer.cached=void 0!==m.isInternetExplorer.cached?m.isInternetExplorer.cached:Boolean(m.getInternetExplorerMajorVersion())},m.options.html4Mode?m.emulated={pushState:!0,hashChange:!0}:m.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(i.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(i.userAgent))),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in n)||m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8)},m.enabled=!m.emulated.pushState,m.bugs={setHash:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),safariPoll:Boolean(!m.emulated.pushState&&"Apple Computer, Inc."===i.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(i.userAgent)),ieDoubleCheck:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(m.isInternetExplorer()&&m.getInternetExplorerMajorVersion()<7)},m.isEmptyObject=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},m.cloneObject=function(e){var t,o;return e?(t=d.stringify(e),o=d.parse(t)):o={},o},m.getRootUrl=function(){var e=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(e+=":"+n.location.port),e+="/"},m.getBaseHref=function(){var e=n.getElementsByTagName("base"),t="";return 1===e.length&&(t=e[0].href.replace(/[^\/]+$/,"")),(t=t.replace(/\/+$/,""))&&(t+="/"),t},m.getBaseUrl=function(){return m.getBaseHref()||m.getBasePageUrl()||m.getRootUrl()},m.getPageUrl=function(){return((m.getState(!1,!1)||{}).url||m.getLocationHref()).replace(/\/+$/,"").replace(/[^\/]+$/,function(e,t,o){return/\./.test(e)?e:e+"/"})},m.getBasePageUrl=function(){return m.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e,t,o){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/"},m.getFullUrl=function(e,t){var o=e,n=e.substring(0,1);return t=void 0===t||t,/[a-z]+\:\/\//.test(e)||(o="/"===n?m.getRootUrl()+e.replace(/^\/+/,""):"#"===n?m.getPageUrl().replace(/#.*/,"")+e:"?"===n?m.getPageUrl().replace(/[\?#].*/,"")+e:t?m.getBaseUrl()+e.replace(/^(\.\/)+/,""):m.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),o.replace(/\#$/,"")},m.getShortUrl=function(e){var t=e,o=m.getBaseUrl(),n=m.getRootUrl();return m.emulated.pushState&&(t=t.replace(o,"")),t=t.replace(n,"/"),m.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},m.getLocationHref=function(e){return(e=e||n).URL===e.location.href?e.location.href:e.location.href===decodeURIComponent(e.URL)?e.URL:e.location.hash&&decodeURIComponent(e.location.href.replace(/^[^#]+/,""))===e.location.hash?e.location.href:-1==e.URL.indexOf("#")&&-1!=e.location.href.indexOf("#")?e.location.href:e.URL||e.location.href},m.store={},m.idToState=m.idToState||{},m.stateToId=m.stateToId||{},m.urlToId=m.urlToId||{},m.storedStates=m.storedStates||[],m.savedStates=m.savedStates||[],m.normalizeStore=function(){m.store.idToState=m.store.idToState||{},m.store.urlToId=m.store.urlToId||{},m.store.stateToId=m.store.stateToId||{}},m.getState=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var o=m.getLastSavedState();return!o&&t&&(o=m.createStateObject()),e&&((o=m.cloneObject(o)).url=o.cleanUrl||o.url),o},m.getIdByState=function(e){var t,o=m.extractId(e.url);if(!o)if(t=m.getStateString(e),void 0!==m.stateToId[t])o=m.stateToId[t];else if(void 0!==m.store.stateToId[t])o=m.store.stateToId[t];else{for(;o=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),void 0!==m.idToState[o]||void 0!==m.store.idToState[o];);m.stateToId[t]=o,m.idToState[o]=e}return o},m.normalizeState=function(e){var t,o;return e&&"object"===_typeof(e)||(e={}),void 0!==e.normalized?e:(e.data&&"object"===_typeof(e.data)||(e.data={}),(t={}).normalized=!0,t.title=e.title||"",t.url=m.getFullUrl(e.url?e.url:m.getLocationHref()),t.hash=m.getShortUrl(t.url),t.data=m.cloneObject(e.data),t.id=m.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,o=!m.isEmptyObject(t.data),(t.title||o)&&!0!==m.options.disableSuid&&(t.hash=m.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=m.getFullUrl(t.hash),(m.emulated.pushState||m.bugs.safariPoll)&&m.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},m.createStateObject=function(e,t,o){var n={data:e,title:t,url:o};return n=m.normalizeState(n)},m.getStateById=function(e){return e=String(e),m.idToState[e]||m.store.idToState[e]||void 0},m.getStateString=function(e){var t;return t={data:m.normalizeState(e).data,title:e.title,url:e.url},d.stringify(t)},m.getStateId=function(e){return m.normalizeState(e).id},m.getHashByState=function(e){return m.normalizeState(e).hash},m.extractId=function(e){var t,o;return o=-1!=e.indexOf("#")?e.split("#")[0]:e,(t=/(.*)\&_suid=([0-9]+)$/.exec(o))&&t[1]||e,(t?String(t[2]||""):"")||!1},m.isTraditionalAnchor=function(e){return!/[\/\?\.]/.test(e)},m.extractState=function(e,t){var o,n,i=null;return t=t||!1,(o=m.extractId(e))&&(i=m.getStateById(o)),i||(n=m.getFullUrl(e),(o=m.getIdByUrl(n)||!1)&&(i=m.getStateById(o)),i||!t||m.isTraditionalAnchor(e)||(i=m.createStateObject(null,null,n))),i},m.getIdByUrl=function(e){return m.urlToId[e]||m.store.urlToId[e]||void 0},m.getLastSavedState=function(){return m.savedStates[m.savedStates.length-1]||void 0},m.getLastStoredState=function(){return m.storedStates[m.storedStates.length-1]||void 0},m.hasUrlDuplicate=function(e){var t;return(t=m.extractState(e.url))&&t.id!==e.id},m.storeState=function(e){return m.urlToId[e.url]=e.id,m.storedStates.push(m.cloneObject(e)),e},m.isLastSavedState=function(e){var t=!1;return m.savedStates.length&&(t=e.id===m.getLastSavedState().id),t},m.saveState=function(e){return!m.isLastSavedState(e)&&(m.savedStates.push(m.cloneObject(e)),!0)},m.getStateByIndex=function(e){return void 0===e?m.savedStates[m.savedStates.length-1]:e<0?m.savedStates[m.savedStates.length+e]:m.savedStates[e]},m.getCurrentIndex=function(){return m.savedStates.length<1?0:m.savedStates.length-1},m.getHash=function(e){var t=m.getLocationHref(e);return m.getHashByUrl(t)},m.unescapeHash=function(e){var t=m.normalizeHash(e);return t=decodeURIComponent(t)},m.normalizeHash=function(e){return e.replace(/[^#]*#/,"").replace(/#.*/,"")},m.setHash=function(e,t){var o,i;return!1!==t&&m.busy()?(m.pushQueue({scope:m,callback:m.setHash,args:arguments,queue:t}),!1):(m.busy(!0),(o=m.extractState(e,!0))&&!m.emulated.pushState?m.pushState(o.data,o.title,o.url,!1):m.getHash()!==e&&(m.bugs.setHash?(i=m.getPageUrl(),m.pushState(null,null,i+"#"+e,!1)):n.location.hash=e),m)},m.escapeHash=function(t){var o=m.normalizeHash(t);return o=e.encodeURIComponent(o),m.bugs.hashEscape||(o=o.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),o},m.getHashByUrl=function(e){var t=String(e).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=m.unescapeHash(t)},m.setTitle=function(e){var t,o=e.title;o||(t=m.getStateByIndex(0))&&t.url===e.url&&(o=t.title||m.options.initialTitle);try{n.getElementsByTagName("title")[0].innerHTML=o.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(e){}return n.title=o,m},m.queues=[],m.busy=function(e){if(void 0!==e?m.busy.flag=e:void 0===m.busy.flag&&(m.busy.flag=!1),!m.busy.flag){c(m.busy.timeout);m.busy.timeout=a(function e(){var t,o,n;if(!m.busy.flag)for(t=m.queues.length-1;t>=0;--t)0!==(o=m.queues[t]).length&&(n=o.shift(),m.fireQueueItem(n),m.busy.timeout=a(e,m.options.busyDelay))},m.options.busyDelay)}return m.busy.flag},m.busy.flag=!1,m.fireQueueItem=function(e){return e.callback.apply(e.scope||m,e.args||[])},m.pushQueue=function(e){return m.queues[e.queue||0]=m.queues[e.queue||0]||[],m.queues[e.queue||0].push(e),m},m.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),void 0!==t&&(e.queue=t),m.busy()?m.pushQueue(e):m.fireQueueItem(e),m},m.clearQueue=function(){return m.busy.flag=!1,m.queues=[],m},m.stateChanged=!1,m.doubleChecker=!1,m.doubleCheckComplete=function(){return m.stateChanged=!0,m.doubleCheckClear(),m},m.doubleCheckClear=function(){return m.doubleChecker&&(c(m.doubleChecker),m.doubleChecker=!1),m},m.doubleCheck=function(e){return m.stateChanged=!1,m.doubleCheckClear(),m.bugs.ieDoubleCheck&&(m.doubleChecker=a(function(){return m.doubleCheckClear(),m.stateChanged||e(),!0},m.options.doubleCheckInterval)),m},m.safariStatePoll=function(){var t=m.extractState(m.getLocationHref());if(!m.isLastSavedState(t))return t||m.createStateObject(),m.Adapter.trigger(e,"popstate"),m},m.back=function(e){return!1!==e&&m.busy()?(m.pushQueue({scope:m,callback:m.back,args:arguments,queue:e}),!1):(m.busy(!0),m.doubleCheck(function(){m.back(!1)}),p.go(-1),!0)},m.forward=function(e){return!1!==e&&m.busy()?(m.pushQueue({scope:m,callback:m.forward,args:arguments,queue:e}),!1):(m.busy(!0),m.doubleCheck(function(){m.forward(!1)}),p.go(1),!0)},m.go=function(e,t){var o;if(e>0)for(o=1;o<=e;++o)m.forward(t);else{if(!(e<0))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(o=-1;o>=e;--o)m.back(t)}return m},m.emulated.pushState){var f=function(){};m.pushState=m.pushState||f,m.replaceState=m.replaceState||f}else m.onPopState=function(t,o){var n,i,r,a=!1;return m.doubleCheckComplete(),(i=m.getHash())?((r=m.extractState(i||m.getLocationHref(),!0))?m.replaceState(r.data,r.title,r.url,!1):(m.Adapter.trigger(e,"anchorchange"),m.busy(!1)),m.expectedStateId=!1,!1):((a=(n=m.Adapter.extractEventData("state",t,o)||!1)?m.getStateById(n):m.expectedStateId?m.getStateById(m.expectedStateId):m.extractState(m.getLocationHref()))||(a=m.createStateObject(null,null,m.getLocationHref())),m.expectedStateId=!1,m.isLastSavedState(a)?(m.busy(!1),!1):(m.storeState(a),m.saveState(a),m.setTitle(a),m.Adapter.trigger(e,"statechange"),m.busy(!1),!0))},m.Adapter.bind(e,"popstate",m.onPopState),m.pushState=function(t,o,n,i){if(m.getHashByUrl(n)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==i&&m.busy())return m.pushQueue({scope:m,callback:m.pushState,args:arguments,queue:i}),!1;m.busy(!0);var r=m.createStateObject(t,o,n);return m.isLastSavedState(r)?m.busy(!1):(m.storeState(r),m.expectedStateId=r.id,p.pushState(r.id,r.title,r.url),m.Adapter.trigger(e,"popstate")),!0},m.replaceState=function(t,o,n,i){if(m.getHashByUrl(n)&&m.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(!1!==i&&m.busy())return m.pushQueue({scope:m,callback:m.replaceState,args:arguments,queue:i}),!1;m.busy(!0);var r=m.createStateObject(t,o,n);return m.isLastSavedState(r)?m.busy(!1):(m.storeState(r),m.expectedStateId=r.id,p.replaceState(r.id,r.title,r.url),m.Adapter.trigger(e,"popstate")),!0};if(r){try{m.store=d.parse(r.getItem("History.store"))||{}}catch(e){m.store={}}m.normalizeStore()}else m.store={},m.normalizeStore();m.Adapter.bind(e,"unload",m.clearAllIntervals),m.saveState(m.storeState(m.extractState(m.getLocationHref(),!0))),r&&(m.onUnload=function(){var e,t,o;try{e=d.parse(r.getItem("History.store"))||{}}catch(t){e={}}for(t in e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{},m.idToState)m.idToState.hasOwnProperty(t)&&(e.idToState[t]=m.idToState[t]);for(t in m.urlToId)m.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=m.urlToId[t]);for(t in m.stateToId)m.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=m.stateToId[t]);m.store=e,m.normalizeStore(),o=d.stringify(e);try{r.setItem("History.store",o)}catch(e){if(e.code!==DOMException.QUOTA_EXCEEDED_ERR)throw e;r.length&&(r.removeItem("History.store"),r.setItem("History.store",o))}},m.intervalList.push(l(m.onUnload,m.options.storeInterval)),m.Adapter.bind(e,"beforeunload",m.onUnload),m.Adapter.bind(e,"unload",m.onUnload)),m.emulated.pushState||(m.bugs.safariPoll&&m.intervalList.push(l(m.safariStatePoll,m.options.safariPollInterval)),"Apple Computer, Inc."!==i.vendor&&"Mozilla"!==(i.appCodeName||"")||(m.Adapter.bind(e,"hashchange",function(){m.Adapter.trigger(e,"popstate")}),m.getHash()&&m.Adapter.onDomLoad(function(){m.Adapter.trigger(e,"hashchange")})))},m.options&&m.options.delayInit||m.init()}(window)},function(e,t,o){"use strict";o.r(t);var n=o(8),i=o(22),r=o(2);$(function(){$(window).on("load",function(){setTimeout(function(e){$(window).bind("popstate",function(){var e=a.getState();if(-1==window.location.href.indexOf(messages.common.free_icon)||document.querySelector("#detail.loaded"))return e&&document.querySelector("#detail-overlay.loading")?void i.ModalDetail.close():void(window.location.href=window.location.href);i.ModalDetail.getDetail(window.location.href)})},0)}),$(document).keydown(function(e){var t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input");if(![].some.call(t,function(e){return e==document.activeElement})&&(document.querySelector("#detail-overlay.loading")?(27==e.keyCode&&(Detail.close(),i.ModalDetail.pushState({page:"pagination"},document.title,i.ModalDetail.prev_url)),39==e.keyCode&&i.ModalDetail.goNext(),37==e.keyCode&&i.ModalDetail.goPrev(),13==e.keyCode&&(window.location.href=window.location.href)):document.getElementById("pagination-page")&&"undefined"!=typeof axScript&&(39==e.keyCode&&n.INFINITY.infinityLoaderBtn(axScript,"next"),37==e.keyCode&&n.INFINITY.infinityLoaderBtn(axScript,"prev")),document.getElementById("download-form"))){var o=parseInt(document.getElementById("icon_id").value,10),a=document.getElementById("keyword").value,c=parseInt(document.getElementById("team").value,10),l=parseInt(document.getElementById("colored").value,10),s=parseInt(document.querySelector("#download-form #premium").value,10);if(!(r.db instanceof Object))return;var d=Collection.getActive();if(!d)return;var u=r.db.queryAll(d.bookmark_id,{query:{id:o}}).length;if(107==e.keyCode||187==e.keyCode||171==e.keyCode){if(u)return;Widget.addIcon(o,a,c,l,s)}if(109==e.keyCode||189==e.keyCode||173==e.keyCode){if(!u)return;Widget.delIcon(o,a,c)}}}),"function"==typeof r.toggleDetailButton&&Object(r.toggleDetailButton)()});var a=window.History},function(e,t){!function(e){var t=function(){var t={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},o=function(t,o){var n=r(t);e(o).data("colpick").fields.eq(1).val(n.r).end().eq(2).val(n.g).end().eq(3).val(n.b).end()},a=function(t,o){e(o).data("colpick").fields.eq(4).val(Math.round(t.h)).end().eq(5).val(Math.round(t.s)).end().eq(6).val(Math.round(t.b)).end()},l=function(t,o){e(o).data("colpick").fields.eq(0).val(c(t).toUpperCase())},s=function(t,o){e(o).data("colpick").selector.css("backgroundColor","#"+c({h:t.h,s:100,b:100})),e(o).data("colpick").selectorIndic.css({left:parseInt(e(o).data("colpick").height*t.s/100,10),top:parseInt(e(o).data("colpick").height*(100-t.b)/100,10)})},d=function(t,o){e(o).data("colpick").hue.css("top",parseInt(e(o).data("colpick").height-e(o).data("colpick").height*t.h/360,10))},u=function(t,o){e(o).data("colpick").currentColor.css("backgroundColor","#"+c(t))},m=function(t,o){e(o).data("colpick").newColor.css("backgroundColor","#"+c(t))},p=function(t){var u,p=e(this).parent().parent();this.parentNode.className.indexOf("_hex")>0?(p.data("colpick").color=u=n($(this.value)),o(u,p.get(0)),a(u,p.get(0))):this.parentNode.className.indexOf("_hsb")>0?(p.data("colpick").color=u=C({h:parseInt(p.data("colpick").fields.eq(4).val(),10),s:parseInt(p.data("colpick").fields.eq(5).val(),10),b:parseInt(p.data("colpick").fields.eq(6).val(),10)}),o(u,p.get(0)),l(u,p.get(0))):(p.data("colpick").color=u=i(A({r:parseInt(p.data("colpick").fields.eq(1).val(),10),g:parseInt(p.data("colpick").fields.eq(2).val(),10),b:parseInt(p.data("colpick").fields.eq(3).val(),10)})),l(u,p.get(0)),a(u,p.get(0))),s(u,p.get(0)),d(u,p.get(0)),m(u,p.get(0)),p.data("colpick").onChange.apply(p.parent(),[u,c(u),r(u),p.data("colpick").el,0])},f=function(t){e(this).parent().removeClass("colpick_focus")},g=function(){e(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),e(this).parent().addClass("colpick_focus")},h=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var o=e(this).parent().find("input").focus(),n={el:e(this).parent().addClass("colpick_slider"),max:this.parentNode.className.indexOf("_hsb_h")>0?360:this.parentNode.className.indexOf("_hsb")>0?100:255,y:t.pageY,field:o,val:parseInt(o.val(),10),preview:e(this).parent().parent().data("colpick").livePreview};e(document).mouseup(n,y),e(document).mousemove(n,v)},v=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val-e.pageY+e.data.y,10)))),e.data.preview&&p.apply(e.data.field.get(0),[!0]),!1},y=function t(o){return p.apply(o.data.field.get(0),[!0]),o.data.el.removeClass("colpick_slider").find("input").focus(),e(document).off("mouseup",t),e(document).off("mousemove",v),!1},b=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var o={cal:e(this).parent(),y:e(this).offset().top};e(document).on("mouseup touchend",o,k),e(document).on("mousemove touchmove",o,_);var n="touchstart"==t.type?t.originalEvent.changedTouches[0].pageY:t.pageY;return p.apply(o.cal.data("colpick").fields.eq(4).val(parseInt(360*(o.cal.data("colpick").height-(n-o.y))/o.cal.data("colpick").height,10)).get(0),[o.cal.data("colpick").livePreview]),!1},_=function(e){var t="touchmove"==e.type?e.originalEvent.changedTouches[0].pageY:e.pageY;return p.apply(e.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.y)))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},k=function t(n){return o(n.data.cal.data("colpick").color,n.data.cal.get(0)),l(n.data.cal.data("colpick").color,n.data.cal.get(0)),e(document).off("mouseup touchend",t),e(document).off("mousemove touchmove",_),!1},w=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var o,n={cal:e(this).parent(),pos:e(this).offset()};return n.preview=n.cal.data("colpick").livePreview,e(document).on("mouseup touchend",n,I),e(document).on("mousemove touchmove",n,S),"touchstart"==t.type?(pageX=t.originalEvent.changedTouches[0].pageX,o=t.originalEvent.changedTouches[0].pageY):(pageX=t.pageX,o=t.pageY),p.apply(n.cal.data("colpick").fields.eq(6).val(parseInt(100*(n.cal.data("colpick").height-(o-n.pos.top))/n.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-n.pos.left)/n.cal.data("colpick").height,10)).get(0),[n.preview]),!1},S=function(e){var t;return"touchmove"==e.type?(pageX=e.originalEvent.changedTouches[0].pageX,t=e.originalEvent.changedTouches[0].pageY):(pageX=e.pageX,t=e.pageY),p.apply(e.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.pos.top)))/e.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(e.data.cal.data("colpick").height,pageX-e.data.pos.left))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},I=function t(n){return o(n.data.cal.data("colpick").color,n.data.cal.get(0)),l(n.data.cal.data("colpick").color,n.data.cal.get(0)),e(document).off("mouseup touchend",t),e(document).off("mousemove touchmove",S),!1},L=function(t){var o=e(this).parent(),n=o.data("colpick").color;o.data("colpick").origColor=n,u(n,o.get(0)),o.data("colpick").onSubmit(n,c(n),r(n),o.data("colpick").el)},E=function(t){t.stopPropagation();var o=e("#"+e(this).data("colpickId"));o.data("colpick").onBeforeShow.apply(this,[o.get(0)]);var n=e(this).offset(),i=n.top+this.offsetHeight,r=n.left,a=q(),c=o.width();r+c>a.l+a.w&&(r-=c),o.css({left:r+"px",top:i+"px"}),0!=o.data("colpick").onShow.apply(this,[o.get(0)])&&o.show(),e("html").mousedown({cal:o},x),o.mousedown(function(e){e.stopPropagation()})},x=function t(o){0!=o.data.cal.data("colpick").onHide.apply(this,[o.data.cal.get(0)])&&o.data.cal.hide(),e("html").off("mousedown",t)},q=function(){var e="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(e?document.documentElement.scrollLeft:document.body.scrollLeft),w:window.innerWidth||(e?document.documentElement.clientWidth:document.body.clientWidth)}},C=function(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}},A=function(e){return{r:Math.min(255,Math.max(0,e.r)),g:Math.min(255,Math.max(0,e.g)),b:Math.min(255,Math.max(0,e.b))}},$=function(e){var t=6-e.length;if(t>0){for(var o=[],n=0;t>n;n++)o.push("0");o.push(e),e=o.join("")}return e.toUpperCase()},T=function(){var t=e(this).parent(),n=t.data("colpick").origColor;t.data("colpick").color=n,o(n,t.get(0)),l(n,t.get(0)),a(n,t.get(0)),s(n,t.get(0)),d(n,t.get(0)),m(n,t.get(0))};return{init:function(r){if("string"==typeof(r=e.extend({},t,r||{})).color)r.color=n(r.color);else if(void 0!=r.color.r&&void 0!=r.color.g&&void 0!=r.color.b)r.color=i(r.color);else{if(void 0==r.color.h||void 0==r.color.s||void 0==r.color.b)return this;r.color=C(r.color)}return this.each(function(){if(!e(this).data("colpickId")){var t=e.extend({},r);t.origColor=r.color;var n="collorpicker_"+parseInt(1e3*Math.random());e(this).data("colpickId",n);var i=e('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",n);i.addClass("colpick_"+t.layout+(t.submit?"":" colpick_"+t.layout+"_ns")),"light"!=t.colorScheme&&i.addClass("colpick_"+t.colorScheme),i.find("div.colpick_submit").html(t.submitText).click(L),t.fields=i.find("input").change(p).blur(f).focus(g),i.find("div.colpick_field_arrs").mousedown(h).end().find("div.colpick_current_color").click(T),t.selector=i.find("div.colpick_color").on("mousedown touchstart",w),t.selectorIndic=t.selector.find("div.colpick_selector_outer"),t.el=this,t.hue=i.find("div.colpick_hue_arrs"),huebar=t.hue.parent();var c,v,y=navigator.userAgent.toLowerCase(),_="Microsoft Internet Explorer"===navigator.appName,k=_?parseFloat(y.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,S=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(_&&10>k)for(c=0;11>=c;c++)v=e("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+S[c]+", endColorstr="+S[c+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+S[c]+", endColorstr="+S[c+1]+')";'),huebar.append(v);else stopList=S.join(","),huebar.attr("style","background:-webkit-linear-gradient(top,"+stopList+"); background: -o-linear-gradient(top,"+stopList+"); background: -ms-linear-gradient(top,"+stopList+"); background:-moz-linear-gradient(top,"+stopList+"); -webkit-linear-gradient(top,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");i.find("div.colpick_hue").on("mousedown touchstart",b),t.newColor=i.find("div.colpick_new_color"),t.currentColor=i.find("div.colpick_current_color"),i.data("colpick",t),o(t.color,i.get(0)),a(t.color,i.get(0)),l(t.color,i.get(0)),d(t.color,i.get(0)),s(t.color,i.get(0)),u(t.color,i.get(0)),m(t.color,i.get(0)),t.flat?(i.appendTo(this).show(),i.css({position:"relative",display:"block"})):(i.appendTo(document.body),e(this).on(t.showEvent,E),i.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){e(this).data("colpickId")&&E.apply(this)})},hidePicker:function(){return this.each(function(){e(this).data("colpickId")&&e("#"+e(this).data("colpickId")).hide()})},setColor:function(t,p){if(p=void 0===p?1:p,"string"==typeof t)t=n(t);else if(void 0!=t.r&&void 0!=t.g&&void 0!=t.b)t=i(t);else{if(void 0==t.h||void 0==t.s||void 0==t.b)return this;t=C(t)}return this.each(function(){if(e(this).data("colpickId")){var n=e("#"+e(this).data("colpickId"));n.data("colpick").color=t,n.data("colpick").origColor=t,o(t,n.get(0)),a(t,n.get(0)),l(t,n.get(0)),d(t,n.get(0)),s(t,n.get(0)),m(t,n.get(0)),n.data("colpick").onChange.apply(n.parent(),[t,c(t),r(t),n.data("colpick").el,1]),p&&u(t,n.get(0))}})}}}(),o=function(e){return{r:(e=parseInt(e.indexOf("#")>-1?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}},n=function(e){return i(o(e))},i=function(e){var t={h:0,s:0,b:0},o=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),i=n-o;return t.b=n,t.s=0!=n?255*i/n:0,0!=t.s?e.r==n?t.h=(e.g-e.b)/i:e.g==n?t.h=2+(e.b-e.r)/i:t.h=4+(e.r-e.g)/i:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},r=function(e){var t={},o=e.h,n=255*e.s/100,i=255*e.b/100;if(0==n)t.r=t.g=t.b=i;else{var r=i,a=(255-n)*i/255,c=o%60*(r-a)/60;360==o&&(o=0),60>o?(t.r=r,t.b=a,t.g=a+c):120>o?(t.g=r,t.b=a,t.r=r-c):180>o?(t.g=r,t.r=a,t.b=a+c):240>o?(t.b=r,t.r=a,t.g=r-c):300>o?(t.b=r,t.g=a,t.r=a+c):360>o?(t.r=r,t.g=a,t.b=r-c):(t.r=0,t.g=0,t.b=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}},a=function(t){var o=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return e.each(o,function(e,t){1==t.length&&(o[e]="0"+t)}),o.join("")},c=function(e){return a(r(e))};e.fn.extend({colpick:t.init,colpickHide:t.hidePicker,colpickShow:t.showPicker,colpickSetColor:t.setColor}),e.extend({colpick:{rgbToHex:a,rgbToHsb:i,hsbToHex:c,hsbToRgb:r,hexToHsb:n,hexToRgb:o}})}(jQuery)},function(e,t,o){"use strict";o.r(t),o.d(t,"ColorPicker",function(){return n});var n={};!function(e,t,o){var n,i,r=e.SVGAngle||t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",a=15,c="http://www.w3.org/2000/svg",l=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join("");function s(t){if(e.event&&e.event.contentOverflow!==o)return{x:e.event.offsetX,y:e.event.offsetY};if(t.offsetX!==o&&t.offsetY!==o)return{x:t.offsetX,y:t.offsetY};var n=t.target.parentNode.parentNode;return{x:t.layerX-n.offsetLeft,y:t.layerY-n.offsetTop}}function d(e,o,n){for(var i in e=t.createElementNS(c,e),o)e.setAttribute(i,o[i]);"[object Array]"!=Object.prototype.toString.call(n)&&(n=[n]);for(var r=0,a=n[0]&&n.length||0;r<a;r++)e.appendChild(n[r]);return e}function u(e){var t,o,n,i,r,a=e.h%360/60;i=(r=e.v*e.s)*(1-Math.abs(a%2-1)),t=o=n=e.v-r,t+=[r,i,0,0,i,r][a=~~a],o+=[i,r,r,i,0,0][a],n+=[0,0,i,r,r,i][a];var c=Math.floor(255*t),l=Math.floor(255*o),s=Math.floor(255*n);return{r:c,g:l,b:s,hex:"#"+(16777216|s|l<<8|c<<16).toString(16).slice(1)}}function m(e){var t,o,n=e.r,i=e.g,r=e.b;return(e.r>1||e.g>1||e.b>1)&&(n/=255,i/=255,r/=255),{h:(0==(o=(t=Math.max(n,i,r))-Math.min(n,i,r))?null:t==n?(i-r)/o+(i<r?6:0):t==i?(r-n)/o+2:(n-i)/o+4)%6*60,s:0==o?0:o/t,v:t}}function p(t,n,i){return function(r){var c=s(r=r||e.event);t.h=c.y/n.offsetHeight*360+a,t.s=t.v=1;var l=u({h:t.h,s:1,v:1});i.style.backgroundColor=l.hex,t.callback&&t.callback(l.hex,{h:t.h-a,s:t.s,v:t.v},{r:l.r,g:l.g,b:l.b},o,c)}}function f(t,o){return function(n){var i=s(n=n||e.event),r=o.offsetWidth,c=o.offsetHeight;t.s=i.x/r,t.v=(c-i.y)/c;var l=u(t);t.callback&&t.callback(l.hex,{h:t.h-a,s:t.s,v:t.v},{r:l.r,g:l.g,b:l.b},i)}}"SVG"==r?(i=d("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[d("defs",{},d("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[d("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),d("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),d("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),d("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),d("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),d("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),d("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),d("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),d("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),n=d("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[d("defs",{},[d("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[d("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),d("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),d("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[d("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),d("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),d("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])):"VML"==r&&(i=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join(""),n=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join(""),t.namespaces.v||t.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));var g=0;function h(e,t,o){if(!(this instanceof h))return new h(e,t,o);if(this.h=0,this.s=1,this.v=1,o)this.callback=o,this.pickerElement=t,this.slideElement=e;else{var a=e;a.innerHTML=l,this.slideElement=a.getElementsByClassName("slide")[0],this.pickerElement=a.getElementsByClassName("picker")[0];var c=a.getElementsByClassName("slide-indicator")[0],s=a.getElementsByClassName("picker-indicator")[0];h.fixIndicators(c,s),this.callback=function(e,o,n,i,r){h.positionIndicators(c,s,r,i),t(e,o,n)}}if("SVG"==r){var d=i.cloneNode(!0),u=n.cloneNode(!0),m=d.getElementsByTagName("linearGradient")[0],b=d.getElementsByTagName("rect")[0];m.id="gradient-hsv-"+g,b.setAttribute("fill","url(#"+m.id+")");var _=[u.getElementsByTagName("linearGradient")[0],u.getElementsByTagName("linearGradient")[1]],k=u.getElementsByTagName("rect");_[0].id="gradient-black-"+g,_[1].id="gradient-white-"+g,k[0].setAttribute("fill","url(#"+_[1].id+")"),k[1].setAttribute("fill","url(#"+_[0].id+")"),this.slideElement.appendChild(d),this.pickerElement.appendChild(u),g++}else this.slideElement.innerHTML=i,this.pickerElement.innerHTML=n;v(this.slideElement,"click",p(this,this.slideElement,this.pickerElement)),v(this.pickerElement,"click",f(this,this.pickerElement)),y(this,this.slideElement,p(this,this.slideElement,this.pickerElement)),y(this,this.pickerElement,f(this,this.pickerElement))}function v(e,t,o){e.attachEvent?e.attachEvent("on"+t,o):e.addEventListener&&e.addEventListener(t,o,!1)}function y(e,t,o){var n=!1;v(t,"mousedown",function(e){n=!0}),v(t,"mouseup",function(e){n=!1}),v(t,"mouseout",function(e){n=!1}),v(t,"mousemove",function(e){n&&o(e)})}function b(e,t,o,n){e.h=t.h%360,e.s=t.s,e.v=t.v;var i=u(e),r={y:e.h*e.slideElement.offsetHeight/360,x:0},a=e.pickerElement.offsetHeight,c={x:e.s*e.pickerElement.offsetWidth,y:a-e.v*a};return e.pickerElement.style.backgroundColor=u({h:e.h,s:1,v:1}).hex,e.callback&&e.callback(n||i.hex,{h:e.h,s:e.s,v:e.v},o||{r:i.r,g:i.g,b:i.b},c,r),e}h.hsv2rgb=function(e){var t=u(e);return delete t.hex,t},h.hsv2hex=function(e){return u(e).hex},h.rgb2hsv=m,h.rgb2hex=function(e){return u(m(e)).hex},h.hex2hsv=function(e){return m(h.hex2rgb(e))},h.hex2rgb=function(e){return{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16)}},h.prototype.setHsv=function(e){return b(this,e)},h.prototype.setRgb=function(e){return b(this,m(e),e)},h.prototype.setHex=function(e){return b(this,h.hex2hsv(e),o,e)},h.positionIndicators=function(e,t,o,n){o&&(t.style.left="auto",t.style.right="0px",t.style.top="0px",e.style.top=o.y-e.offsetHeight/2+"px"),n&&(t.style.top=n.y-t.offsetHeight/2+"px",t.style.left=n.x-t.offsetWidth/2+"px")},h.fixIndicators=function(e,t){t.style.pointerEvents="none",e.style.pointerEvents="none"},e.ColorPicker=h}(window,window.document)},function(e,t){$(function(){var e=new function(){var e=this;this.open=function(){document.getElementById("collections").classList.contains("visible")||document.getElementById("collections").classList.add("visible"),document.getElementById("viewport").classList.add("collections-visible"),document.getElementById("collections-tour").classList.add("active")},this.close=function(){document.getElementById("collections-tour").classList.remove("active")},this.show=function(t){if(!t&&localStorage.tour_viewed)return!1;~~localStorage.n_pageviews>4&&(e.open(),localStorage.tour_viewed=!0)}};"/"!=location.pathname&&e.show(),$("#collections-tour .nav-prev").on("click",function(){$("#collections-tour .slider li:first-child").hasClass("active")||($("#collections-tour .slider li.active").removeClass("active").prev().addClass("active"),$("#collections-tour .nav li.active").removeClass("active").prev().addClass("active"))}),$("#collections-tour .nav-next").on("click",function(){$("#collections-tour .slider li:last-child").hasClass("active")||($("#collections-tour .slider li.active").removeClass("active").next().addClass("active"),$("#collections-tour .nav li.active").removeClass("active").next().addClass("active"))}),$("#collections-tour .nav li").on("click",function(){var e=$("#collections-tour .nav li").index(this)+1;$("#collections-tour .nav li, #collections-tour .slider li").removeClass("active"),this.addClass("active"),$("#collections-tour .slider li:nth-child("+e+")").addClass("active")}),$("#collections-tour .close-tour").on("click",function(){e.close()}),$(document).on("click",".open_tour",function(t){t.preventDefault(),e.open()})})},function(e,t,o){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var o=function e(t,o){var n=this;this.input=i(t),this.input.setAttribute("autocomplete","off"),function(e,t,o){for(var n in t){var i=t[n],r=e.input.getAttribute("data-"+n.toLowerCase());"number"==typeof i?e[n]=parseInt(r):!1===i?e[n]=null!==r:i instanceof Function?e[n]=null:e[n]=r,e[n]||0===e[n]||(e[n]=n in o?o[n]:i)}}(this,{minChars:2,maxItems:10,autoFirst:!1,filter:e.FILTER_CONTAINS,sort:e.SORT_BYLENGTH,item:e.ITEM,replace:e.REPLACE},o=o||{}),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:t}),this.ul=i.create("ul",{hidden:"hidden",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),i.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(e){var t=e.keyCode;n.opened&&(13===t&&n.selected?(e.preventDefault(),n.select()):27===t?n.close():38!==t&&40!==t||(e.preventDefault(),n[38===t?"previous":"next"]()))}}),i.bind(this.input.form,{submit:this.close.bind(this)}),i.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&n.select(t,e.target)}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||o.list||[],e.all.push(this)};o.prototype={set list(e){Array.isArray(e)?this._list=e:"string"==typeof e&&e.indexOf(",")>-1?this._list=e.split(/\s*,\s*/):(e=i(e))&&e.children&&(this._list=n.apply(e.children).map(function(e){return e.textContent.trim()})),document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return!this.ul.hasAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,i.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),i.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:-1)},previous:function(){var e=this.ul.children.length;this.goto(this.selected?this.index-1:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),this.index=e,e>-1&&t.length>0&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent),i.fire(this.input,"awesomplete-highlight")},select:function(e,t){((e=e||this.ul.children[this.index]).parentElement.classList.contains("autocomplete-icons")&&(t=e=e.parentElement.parent("li")),e)&&(i.fire(this.input,"awesomplete-select",{text:e.textContent,data:this.suggestions[i.siblingIndex(e)],originalTarget:t||e})&&(this.replace(e.textContent),this.close(),i.fire(this.input,"awesomplete-selectcomplete")))},evaluate:function(){var e=this,t=this.input.value;t.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.filter(function(o){return e.filter(o,t)}).slice(0,this.maxItems),this.suggestions.forEach(function(o){e.ul.appendChild(e.item(o,t))}),0===this.ul.children.length?this.close():this.open()):this.close()}},o.all=[],o.FILTER_CONTAINS=function(e,t){return RegExp(i.regExpEscape(t.trim()),"i").test(e)},o.FILTER_STARTSWITH=function(e,t){return RegExp("^"+i.regExpEscape(t),"i").test(e)},o.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},o.ITEM=function(e,t){var o=""===t?e:e.replace(RegExp(i.regExpEscape(t.toLowerCase().trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:o,"aria-selected":"false"})},o.REPLACE=function(e){this.input.value=e.toLowerCase()};var n=Array.prototype.slice;function i(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function r(e,t){return n.call((t||document).querySelectorAll(e))}function a(){r("input.awesomplete").forEach(function(e){new o(e)})}i.create=function(e,t){var o=document.createElement(e);for(var n in t){var r=t[n];if("inside"===n)i(r).appendChild(o);else if("around"===n){var a=i(r);a.parentNode.insertBefore(o,a),o.appendChild(a)}else n in o?o[n]=r:o.setAttribute(n,r)}return o},i.bind=function(e,t){if(e)for(var o in t){var n=t[o];o.split(/\s+/).forEach(function(t){e.addEventListener(t,n)})}},i.fire=function(e,t,o){var n=document.createEvent("HTMLEvents");for(var i in n.initEvent(t,!0,!0),o)n[i]=o[i];return e.dispatchEvent(n)},i.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)),o.$=i,o.$$=r,"undefined"!=typeof self&&(self.Awesomplete=o),"object"===t(e)&&e.exports&&(e.exports=o)}()}).call(this,o(49)(e))},function(e,t,o){"use strict";o.r(t);var n=o(0);Element.prototype.hasOwnProperty("parent")||(Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null}),$(function(){window.awesompletes=[],[].forEach.call(document.querySelectorAll(".autocomplete"),function(e){e.classList.contains("home_search_input");var t=new Awesomplete(e,{minChars:2,item:function(e,t){var o={icons:0,items:[],tag_id:0,tag:""};for(var n in window.autocompleteTags)if(window.autocompleteTags[n].tag==e){o=window.autocompleteTags[n];break}o.hasOwnProperty("packs")&&(o.icons=o.packs);var i='<div class="text-container">\t\t\t\t<div class="text">$$</div></div>';return i=(i+="</ul>").replace("$$",e.toLowerCase().replace(new RegExp(t.toLowerCase(),"g"),"<mark>"+t.toLowerCase()+"</mark>")),Awesomplete.$.create("li",{innerHTML:i,"aria-selected":"false"})},sort:function(){}});window.awesompletes.push(t),$(e).on("awesomplete-selectcomplete",function(t){e.value=e.value.trim().split("(")[0].trim();var o=e.parent("form");"undefined"!=typeof exec_search?exec_search(e.value,o):o.submit()}).on("blur",function(e){e.value=""})}),$(".autocomplete").keyup(function(e){var t=this.classList.contains("home_search_input");if(-1==[27,13,37,38,39,40,106,191].indexOf(e.keyCode)){"function"==typeof n.filterSpecialChars?n.filterSpecialChars(this.value):this.value;var o=encodeURIComponent(this.value),i=document.querySelector(".search-holder .type-selector input[name=search-type]:checked"),r=!1;i&&!t&&(r="packs"==i.getAttribute("data-type"));var a=r?APP_URL+"ajax/autocomplete_packs?term="+o:APP_URL+"ajax/autocomplete/"+o;o&&o.length>1&&$.ajax({url:encodeURI(a),type:"GET",success:function(e){!function(e,t){for(var o in window.autocomplete=[],window.autocompleteTags=e,e)window.autocomplete.push(e[o].tag);window.awesompletes.forEach(function(e){e.list=window.autocomplete})}(JSON.parse(e))}})}})})},function(e,t){$(document).ready(function(){new o});var o=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"section.home-section.blog";document.querySelector(t)&&e.initBlogNewsLib(t)};o.initBlogNewsLib=function(e){$.ajax({url:APP_URL+"ajax/news/freepikcompany/icon",type:"POST",success:function(t){o.showLikedItems(e,t)}})},o.showLikedItems=function(e,t){var o=JSON.parse(t);if(o&&void 0!==o&&o.length>0){var n=document.querySelector(e+" .article-container");if(n){var i=Handlebars.tag("blogArticle");o.forEach(function(e){n.insertAdjacentHTML("beforeend",i(e))}),document.querySelector(e).classList.remove("hidden")}}}},function(e,t){void 0!==gr.sponsor&&gr.log("gr.sponsor ya está definido"),gr.sponsor={base_url:SPONSOR_BASE_URL,popup:{cookie_name:"launcher_popup",url:"undefined"!=typeof pu_url?pu_url:"",launch:function(){var e="",t=function(e){return cookie.getItem("test_ab-".concat(e))};"a"===t("shutter-popup")?e="search_fl2_test_a":"b"===t("shutter-popup")&&(e="search_fl2_test_b"),"b"!==t("shutter-popup")&&Currency.getCountry().then(function(t){if("1"==gr.auth.me.premium)return!1;if(""===gr.sponsor.popup.url)return!1;if(!gr.cookie(gr.sponsor.popup.cookie_name)&&!t.match(/MX|FR|TH|AU|IL/gi)){var o=gr.sponsor.popup.url;"undefined"!=typeof clientId&&clientId&&(o+="&track_sub_id4="+clientId),""!==e&&(o+="&track_sub_id2="+e),searchTerm=document.querySelector('.main_search_bar input[name="word"]').value,urlWithLastSearch=o.replace("[SEARCH]",searchTerm),pu(urlWithLastSearch),"undefined"!=typeof appf&&(language=""===appf?"_english":appf),"undefined"!=typeof ga&&ga("send","event","busquedas","show-popup",language,{dimension15:"true"});var n={type:"popup",searchTerm:searchTerm};EventTracker.printGA(n);var i=new Date;i.setHours(i.getHours()+12),document.cookie=gr.sponsor.popup.cookie_name+"=1;expires="+i.toUTCString()+";domain="+document.domain+";path=/"}})}},coupon:{cookie_name:"sponsor_coupon",coupon_url:"undefined"!=typeof SPONSOR_BASE_URL&&"undefined"!=typeof LANGUAGE?SPONSOR_BASE_URL+"coupons/popup?lang="+LANGUAGE+"&k="+(new Date).toISOString().substr(0,10):"http://ads.freepik.com/coupons/popup?lang=&k="+(new Date).toISOString().substr(0,10),launch:function(e){if("undefined"!=typeof disallow_coupon)return!1;$.get(gr.sponsor.coupon.coupon_url,function(t){$("#footer").after(t),"function"==typeof e&&e()})}},get:function(e){if(void 0===e&&(e={}),void 0===e.container)return!1;gr.request.get(gr.sponsor.base_url+"banner/ajax_search",e)}}},function(e,t){function o(e){!function(e){var t=e.dataset.section,o="_id";"main_search_current_section"===t&&(o="");t=t.replace(/main_search_/,"main-search-")+o,document.getElementById(t).value=""}(e.parentNode),e.parentNode.remove(e)}$(document).on("click",".tag-field__items .remove",function(e){var t=this.parent("form");if(o(this),"search-style-form"==t.name){t.querySelector('input[name="search-style"]').placeholder="Search";var n=document.querySelector('form[name="search-form"]');null!==n&&null!=n.querySelector(".remove")&&n.querySelector(".remove").click()}})},function(e,t,o){"use strict";o.r(t);var n=o(2),i=o(18);$(document).on("mousedown","section.related-styles *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-styles")}),$(document).on("mousedown","section.related-packs *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-packs")}),$(document).on("mousedown","section.related-tags *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-tags")}),$(document).on("click",".detail_equivalent_icons .link-icon-detail",function(e){if("viewport"==document.querySelector("section[id=detail]").parentNode.id)return!0;ga("send","event","Detail-modal","Toggle-icon-style"),e.preventDefault();var t=~~this.dataset.id,o=Math.floor(t/1e3),r=~~this.dataset.premium,a=~~this.dataset.selection,c=~~this.dataset.color,l=document.querySelector(".detail_equivalent_icons .link-icon-detail.active");l&&l.classList.remove("active"),this.classList.add("active");var s=document.querySelectorAll(".gallery .main-icon");[].forEach.call(s,function(e){var n=r?APP_URL+"premium-icon/":STATIC_URL;if(1==c){var i="{0}icons/svg/{1}/{2}.svg".format(n,o,t);e.innerHTML='<img src="{0}">'.format(i),(!r||gr.auth.me.premium&&r)&&(getSVG($(e),i),document.querySelector(".svg-version").classList.remove("active"))}else e.innerHTML='<img src="{0}icons/png/512/{1}/{2}.png">'.format(n,o,t)}),document.querySelector(".customize.active")&&1==this.dataset.color&&document.querySelector(".gallery .svg-version").classList.add("active"),document.querySelector("section.customize ul.color-selector")&&(document.querySelector("section.customize ul.color-selector").classList.toggle("hidden",2==c),document.querySelector("section.customize ul.color-selector").previousElementSibling&&document.querySelector("section.customize ul.color-selector").previousElementSibling.classList.toggle("hidden",2==c));var d=document.getElementById("download-form");d.querySelector("#icon_id").value=t,d.querySelector("#colored").value=c,d.querySelector("#premium").value=r,d.querySelector("#selection").value=a,Object(n.toggleAxDetailButton)();var u=document.querySelector("h1").querySelector("span:not(.title)");u&&u.parentNode.removeChild(u),i.Premium.init();var m=APP_URL+this.dataset.pack_slug;[].forEach.call(document.querySelectorAll(".related-packs .related-header a:not(:first-child), #detail-header-more .group-pack a"),function(e){e.href=m})})},function(e,t){!function(e){e.waypoints=function(t,o){this.element=e(t)},e.fn.waypoints=function(t){return this.each(function(){var o=new e.waypoints(this,t),n=0,i=e.extend({view:"top",viewOut:!1,oneTime:!0,inView:function(){},outView:function(){}},t||{});o.position=function(){var e,t=o.element.offset().top,n=o.element.outerHeight(!0),r=i.view;switch(!0){case/[0-9 -()+]+$/.test(r):e=t+r/100*n;break;case/top/.test(r):e=t;break;case/bottom/.test(r):e=t+n;break;default:e=t}return e},e(window).scroll(function(){var t=e(window).height(),r=e(window).scrollTop(),a=r+t,c=o.position(),l=/[0-9 -()+]+$/.test(i.view)?i.view/100:"top"===i.view?0:1,s=o.element[0].clientHeight*l;c>=r&&c<=a?((i.oneTime&&n<1||!i.oneTime)&&(o.element[0].page=o.element[0].getAttribute("data-page"),i.inView.call(this,o.element[0])),n++):i.viewOut&&(window.pageYOffset<=o.element[0].offsetTop-window.innerHeight||window.pageYOffset>=c+s)&&i.outView.call(this,o.element[0])})})}}(jQuery)},function(e,t,o){"use strict";o.r(t);var n=o(0),i=o(8),r=o(32);$(document).ready(function(){if($(document).on("click",".filters_delete_tag",function(){var e=this.dataset.label,t=a.inputs[e];a.setParameter(e,"");var o=this.parentElement;o.parentNode.removeChild(o),"style"==e?(document.querySelector("input[type=radio][name="+e+"][data-value='"+t+"']").click(),document.getElementById("main-search-color").value="",document.getElementById("main-search-stroke").value=""):(document.querySelector("input[type=radio][name="+e+"][value='"+t+"']").click(),document.querySelector("input[type=checkbox][name="+e+"]")&&(document.querySelector("input[type=checkbox][name="+e+"]").checked=!1),document.getElementById("main-search-"+e).value=t),a.change_related_links()}),$(document).on("click",".filters_delete_all",function(){a.deleteAllFIlters()}),$("#popover-equivalents input").on("click",function(e){var t=this.value,o=document.querySelector(".list-header-title h1 .title").textContent,c=document.querySelector("h1 i"),l=this.dataset.stylelink,s=this.dataset.stylename,d=this.dataset.styleid;document.querySelector("h1 span.title").innerHTML=n.capitalize(o),c&&c.classList.remove("flaticon-premium","flaticon-selection"),"1"==this.dataset.premium&&c.classList.add("flaticon-premium");var u=document.querySelector(".tag-field__item");null!==u&&(u.dataset.value=d,u.innerHTML="".concat(messages.filters.style,": ").concat(this.dataset.dropdown,' <span class="remove">×</span>'),a.setParameter("style_id",d));var m=document.querySelector(".author .style-link");null!=m&&void 0!==m&&(m.href=this.dataset.stylelink,m.querySelector(".style").innerHTML=this.dataset.dropdown);var p=document.getElementById("form-download-pack");null!=p&&void 0!==p&&(document.querySelector("#form-download-pack #pack_id").value=t,document.querySelector(".btn-download-pack").dataset.pack=t);var f=document.querySelector(".pack-view .style-link a");null!=f&&(f.href=l,f.innerHTML=s,document.querySelector(".pack-view .style-link .btn--bookmark").dataset.elementid=d,gr.auth.logged&&r.Follows.showFollowdItems("")),i.INFINITY.axScript="/ajax/pack/"+t,a.doSubmit=1,a.axSearch({pushUrl:0})}),document.querySelectorAll(".popover-breadcrumb").length>0){var e=parseInt(document.getElementById("style_id").value,10);if(e>0){var t=document.querySelector('#popover-breadcrumb a[data-style="'+e+'"]');void 0!==t&&(document.querySelector(".popover-breadcrumb button h2").innerHTML=t.title,t.classList.add("hidden"))}}$(".breadcrumb .popover-container a").on("click",function(e){e.preventDefault(),[].forEach.call(document.querySelectorAll("#popover-breadcrumb a"),function(e){e.classList.remove("hidden")});var t=i.INFINITY.axScript.lastIndexOf("/");i.INFINITY.axScript=i.INFINITY.axScript.substring(0,t+1)+this.dataset.style,document.getElementById("style_id").value=this.dataset.style,document.querySelector(".breadcrumb .popover-container button h2").innerHTML=this.title,document.querySelector('#popover-breadcrumb a[data-style="'+this.dataset.style+'"]').classList.add("hidden"),a.doSubmit=1,a.axSearch({}),n.setUrlNavigator(this.href,"","")}),window.location.pathname==messages.url.most_download&&(document.getElementById("order_by-popularity").checked=!0),window.location.pathname==messages.url.latest_icons&&(document.getElementById("order_by-date").checked=!0),$("#form_filters").on("submit",function(e){e.preventDefault()}),$(".search-pack-result .box-scroll").on("click","article a",function(e){var t=document.querySelector(".search-pack-result div.box-scroll").scrollLeft?1:0;ga("send","event","Search","Related Pack",t)}),$("#form_filters input").on("change",function(e){var t=e.target,o=t.getAttribute("id");if("license-premium-direct"==o?((t=document.getElementById("license-premium")).checked=document.getElementById("license-premium-direct").checked,document.getElementById("license-all").checked=!document.getElementById("license-premium-direct").checked):"license-premium"==o&&1==t.checked?document.getElementById("license-premium-direct").checked=!0:0==document.getElementById("license-premium").checked&&(document.getElementById("license-premium-direct").checked=!1),"filter-choice"==o&&t.checked)a.deleteAllFIlters(),document.getElementById("filters-number").innerHTML="(1)";else{if("color-all"!=o&&document.getElementById("filter-choice")&&(document.getElementById("filter-choice").checked=!1),"style"==t.name){var n=t.dataset.style.split(","),i=!0,r=!1,c=void 0;try{for(var l,s=n[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var d=l.value;d=d.split("|"),a.setParameter(d[0],d[1]);var u=document.querySelector('#form_filters input[name="'.concat(d[0],'"]'));u&&(u.value=d[1])}}catch(e){r=!0,c=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw c}}}else a.setParameter(t.name,t.value);if("radio"==t.type){a.tags_container&&a.renderTags();var m=document.querySelector(".popover-button#button-"+t.name);m&&(m.innerHTML=t.getAttribute("data-dropdown")),"color"!=t.name&&"color"!=t.dataset.type||a.renderFilterColor(e.target.id)}if(t.checked)if(t.getAttribute("data-value")){if("order_by"==t.name&&(a.getQueryString(),a.redirectLastIcons(t.dataset.value),a.redirectTopIcons(t.dataset.value),!$(".dropdown-popover-order").is(":visible")))return a.doSubmit=1,void a.axSearch({})}else ga("send","event","Search","Flaticon Selection");a.change_related_links(),a.doSubmit=1,a.axSearch({})}}),a.queryStringToForm(),a.renderTags(),gr.auth.me.premium&&!n.Cookie.get("flaticon_selection")&&$(".premium-advise").show(),$("#form_filters .premium-advise button").on("click",function(e){n.Cookie.set("flaticon_selection",1,1e4),$("#form_filters .premium-advise").hide()})}),document.getElementById("input-search-in-pack")&&document.addEventListener("DOMContentLoaded",function(e){var t=document.getElementById("input-search-in-pack"),o=(new Awesomplete(t,{minChars:1,list:search_in_pack_data}),document.querySelector(".search_in_pack_wrapper .reset-input"));t.parentNode.insertBefore(o,t.nextSibling),t.addEventListener("awesomplete-selectcomplete",function(e){document.querySelector("#form_filters #word").value!=this.value&&(document.querySelector("#form_filters #word").value=this.value,a.doSubmit=1,a.axSearch({}))},!1),o.addEventListener("click",function(e){""!=document.querySelector("#form_filters #word").value.trim()&&(document.querySelector("#form_filters #word").value="",a.doSubmit=1,a.axSearch({}))},!1),t.addEventListener("keyup",function(e){var t=e.keyCode||e.charCode;if(8==t||46==t){if(""==document.querySelector("#form_filters #word").value.trim()&&""==this.value)return;""==this.value&&o.click()}13==t&&(document.querySelector("#form_filters #word").value=this.value.trim(),a.doSubmit=1,a.axSearch({}))},!1)});var a={inputs:{license:"all",color:0,stroke:0,style:"all"},form_name:"form_filters",filters_bar:"section.list-options",doSubmit:1,query_string:"",tags_container:document.querySelector(".search-data ul.tags"),search_form_css:"section.search-holder form",setParameter:function(e,t){a.setInputParameter(e,t)},setInputParameter:function(e,t){if(document.querySelector(a.search_form_css)){var o="main-search-"+e,n=document.getElementById(o);n&&(n.value=t)}},renderTags:function(){var e=0;document.querySelectorAll("#form_filters input[type=radio]:checked").forEach(function(t){if(~Object.keys(a.inputs).indexOf(t.name)||"style"==t.name){e++;var o=t.name,n=document.querySelector(".search-data ul.tags li button[data-label='"+o+"']");if(t.value==a.inputs[o]||t.dataset.value==a.inputs[o])(n||n&&"style"==o&&"all"==t.dataset.value)&&(n.parentElement.outerHTML=""),e--;else if(n)n.previousElementSibling.innerText=t.dataset.dropdown;else{var i="<li><span>"+t.dataset.dropdown+'</span><button data-label="'+o+'" class="filters_delete_tag nostyle">&times;</button></li>';a.tags_container&&a.tags_container.lastElementChild.insertAdjacentHTML("beforebegin",i)}}}),a.tags_container&&(a.tags_container.querySelector(".filters_delete_all").style.display=e?"":"none"),document.getElementById("filters-number")&&(document.getElementById("filters-number").innerHTML=e>0?"(".concat(e,")"):"")},renderFilterColor:function(e){if(e){var t=document.querySelector("#form_filters input#"+e),o=document.querySelector("#form_filters .popover-stroke");if(-1!=["color-monocolor","color-multicolor"].indexOf(e))null!==o&&o.classList.remove("hidden"),document.querySelector("#button-color")&&(document.querySelector("#button-color").innerHTML=messages.filters[t.dataset.value]);else if(null!=o){null!==o&&o.classList.add("hidden"),document.querySelectorAll(".radio-group input[type=radio][name=stroke]").checked=!1;var n=document.querySelector(".popover-button#button-stroke");null!==n&&(n.innerHTML=n.dataset.default)}}},getQueryString:function(){window.location.search&&(this.query_string=window.location.search,this.query_string=this.query_string.replace(/order_by=(\d)*/g,"").replace(/&&/,"&").replace(/^&|&$/,"").replace(/\?&/,"?"),this.query_string=this.query_string.length>1?this.query_string:"")},redirectLastIcons:function(e){"date"!=e||0!=window.location.pathname.indexOf(messages.url.most_download)&&3!=window.location.pathname.indexOf(messages.url.most_download)||(window.location.href=APP_URL.replace(/\/$/g,"")+messages.url.latest_icons+this.query_string)},redirectTopIcons:function(e){"popularity"!=e||0!=window.location.pathname.indexOf(messages.url.latest_icons)&&3!=window.location.pathname.indexOf(messages.url.latest_icons)||(window.location.href=APP_URL.replace(/\/$/g,"")+messages.url.most_download+this.query_string)},axSearch:function(e){if(1==this.doSubmit){this.doSubmit=0;var t=void 0!==e.pushUrl&&null!=e.pushUrl?parseInt(e.pushUrl,10):1;if(i.INFINITY.activatedInfinity=1,i.INFINITY.initPage=1,t&&history.pushState){var o=document.querySelector("section.pagination");o&&o.classList.add("hidden")}var r=i.INFINITY.axScript,c=$("#form_filters").serializeArray();c=c.filter(function(e){return"style"!=e.name});var l={};for(var s in c)"0"!=c[s].value&&c[s].value.length&&"all"!=c[s].value&&(l[c[s].name]=c[s].value);l.hasOwnProperty("color")?1!=l.color&&delete l.stroke:delete l.stroke;var d=[];for(var s in l)d.push(s+"="+l[s]);d=d.join("&");""!=(d=n.cleanQueryString(d)).trim()&&r+"?"+d;var u=window.location.protocol+"//"+window.location.host+window.location.pathname,m=(u=n.urlWithoutPag(u)).split("/").pop();if("packs"==m&&"premium=1"==d||!t||n.setUrlNavigator(u,"",d),"search"==m||"resultados"==m){var p=window.location.protocol+"//"+window.location.host+"/ajax/packs/slider?"+d;a.load_related_packs(p)}i.INFINITY.initPage=i.INFINITY.topPage=i.INFINITY.bottomPage=1;$(window).scrollTop(0),i.INFINITY.cache_items=[],i.INFINITY.setUrl=!1,document.getElementById("pagination-spinner").classList.remove("hidden"),i.INFINITY.infinityLoaderBtn(i.INFINITY.axScript,"clear"),Lazyload.run()}},queryStringToForm:function(){if(window.location.search.indexOf("choice=1")>-1)a.deleteAllFIlters(),document.getElementById("filters-number").innerHTML="(1)";else{var e=window.location.search.slice(1).split("&"),t={},o="",i=e.filter(function(e){return-1!=e.indexOf("color")||-1!=e.indexOf("stroke")});e.forEach(function(e){var o=(e=e.split("="))[0],i=decodeURIComponent(e[1]||"");-1==["word","license","order_by","style_id","family_id","author_id","category_id","pack_id","type"].indexOf(e[0])&&(e[0]=decodeURIComponent(n.filter_text(e[0])||"error"),o=n.filter_text(e[0])),t[o]=i;var r=document.querySelectorAll("#form_filters input[name="+o+"]");void 0!==r&&r.length&&r.forEach(function(e){"radio"!=e.type&&"checkbox"!=e.type||e.name==o&&e.value==i&&(e.checked=!0),"hidden"==e.type&&(e.value=i)});var a=document.querySelectorAll("form.main_search_bar input[name="+o+"]");void 0!==a&&a.length&&a.forEach(function(e){"hidden"==e.type&&(e.value=i)})});var r={};i.forEach(function(e){e=e.split("="),r[e[0]]=decodeURIComponent(e[1]||"")}),"1"==r.color&&"1"==r.stroke?o="stroke-filled":"1"==r.color&&"2"==r.stroke?o="stroke-linear":"2"==r.color&&(o="color-multicolor");var c=document.querySelectorAll("#form_filters input[name=style]");void 0!==c&&c.length&&c.forEach(function(e){"radio"==e.type&&e.id==o&&(e.checked=!0)})}},load_related_packs:function(e){$.ajax({url:e,type:"get",dataType:"json",success:function(e){var t=e.items||[],o="";if(t.length>1){var n=Handlebars.tag("pack-box");t.forEach(function(e,t){e.selection=Boolean(Number(e.selection)),o+=n(e)})}document.querySelectorAll("section.search-pack-result").length&&(document.querySelector("section.search-pack-result").classList.toggle("hidden",t.length<2),null!=document.querySelector("section.search-pack-result .box-scroll")&&(document.querySelector("section.search-pack-result .box-scroll").innerHTML=o))},error:function(e,t,o){console.log(t)}})},form_to_querystring:function(){var e="",t=["search-type"],o=document.querySelector(".main_search_bar");if(o){var n=o.querySelectorAll("input"),i=[];n.length&&(n.forEach(function(e){~~t.indexOf(e.name)&&i.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),i.length&&(e="?"+i.join("&")))}return e},change_related_links:function(){var e=this.form_to_querystring(),t=document.querySelectorAll(".related-search a");if(t.length){var o="";t.forEach(function(t){o=t.href.replace(/\?(.)*/,""),t.href=o+e})}},deleteAllFIlters:function(){for(var e in a.inputs){var t=a.inputs[e];if(a.setParameter(e,t),"style"==e)var o=document.querySelector("input[type=radio][name="+e+"][data-value='"+a.inputs[e]+"']");else{o=document.querySelector("input[type=radio][name="+e+"][value='"+a.inputs[e]+"']");document.querySelector("input[type=checkbox][name="+e+"]")&&(document.querySelector("input[type=checkbox][name="+e+"]").checked=!1)}o&&o.click(),document.getElementById("filters-number").innerHTML="",a.change_related_links()}}}},function(e,t){function o(e){if(document.getElementById("fontInfo").style.display="none",!e)return!1;var t=new FormData;t.append("font",e),document.getElementById("loader").style.display="block",$.ajax({url:"/font-face",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){if(document.getElementById("loader").style.display="none",(e=JSON.parse(e)).success)window.location="/download/ff/"+e.id;else for(var t=e.errors.length-1;t>=0;t--)UserAlerts.danger("Error!",e.errors[t])}})}$(function(){$("#fontInfo span").on("click",function(){document.getElementById("fontInfo").style.display="none"}),$("#uploadFontTrigger").click(function(e){e.preventDefault(),$("#fontFile").click()}),$("#fontFile").change(function(e){e.preventDefault(),e.target.files.length&&o(e.target.files[0])});var e=document.getElementById("font-upload");null!=e&&(e.ondragover=function(e){return $("#font-upload").addClass("drag-hover"),function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"}(e),!1},e.ondragend=function(e){return $("#font-upload").removeClass("drag-hover"),$("#font-upload").addClass("drag-end"),!1},e.ondrop=function(e){return e.preventDefault&&e.preventDefault(),$("#font-upload").removeClass("drag-hover"),$("#font-upload").addClass("drag-end"),function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;t.length&&function(e){var t=new FileReader,n=sanitize_filename(e.name);e.name=n,t.filename=n,t.filetype=e.type,t.file=e,t.onloadend=function(t){var n=!0;window.webkitURL||window.URL||window;if("image/svg+xml"==t.target.filetype){var i=t.target.result.match(/font-face/gi);(n=null!=i&&i.length>0)||UserAlerts.danger("Error!",messages.fonts.error_svg)}n&&o(e)},t.readAsText(e),t=null}(t[0])}(e),!1})})},function(e,t){if(null!==document.querySelector(".icons_container"))document.querySelector(".icons_container").innerHTML;function o(e,t){var o=document.querySelector(".icons_container"),n=t.replace(/\/$/,""),i=o.querySelector("div[data-path='"+n+"']"),r=new FileReader,a=new FileReader;i||((i=document.createElement("div")).setAttribute("data-path",n),i.innerHTML="<h2>"+n+"</h2>",o.appendChild(i));if(i.querySelector("img[data-file='"+e.name+"']"))return!1;var c=document.createElement("img");c.setAttribute("data-file",e.name),r.onload=function(t){-1==t.target.result.indexOf("<font ")&&a.readAsDataURL(e)},a.onload=function(e){return function(t){e.src=t.target.result,i.appendChild(e)}}(c),r.readAsText(e)}function n(e,t){if(t=t||"",e.isFile)e.file(function(e){"image/svg+xml"==e.type&&o(e,t)});else if(e.isDirectory){e.createReader().readEntries(function(o){for(var i=0;i<o.length;i++){var r=document.querySelector(".icons_container");r.querySelector("div[data-path='"+e.name.replace("/","")+"']")||r.querySelectorAll("img").length||(r.innerHTML=""),r.style.border="none",n(o[i],t+e.name+"/")}})}}$(document).ready(function(){var e=$(".icons_container");e.on("dragenter",function(e){e.stopPropagation(),e.preventDefault(),$(this).css({border:"4px dashed #333","background-color":"rgba(236, 240, 241, 0.2)"})}),e.on("dragleave",function(e){e.stopPropagation(),e.preventDefault(),$(this).css({border:"4px dashed #e9eaec","background-color":"#FFF"})}),e.on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),e.on("drop",function(e){$(this).css({border:"4px dashed #e9eaec;","background-color":"#FFF"}),e.preventDefault(),event.preventDefault();for(var t=event.dataTransfer.items,i=0;i<t.length;i++){var r=t[i].webkitGetAsEntry();if(r.isDirectory)n(r);else{if("image/svg+xml"!=event.dataTransfer.files[i].type)continue;o(event.dataTransfer.files[i])}}}),$(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),$(document).on("dragover",function(t){t.stopPropagation(),t.preventDefault(),e.css({border:"4px dashed #e9eaec;","background-color":"#FFF"})}),$(document).on("drop",function(e){e.stopPropagation(),e.preventDefault()})})},function(e,t){if(null!==document.querySelector(".icons_container"))var o=document.querySelector(".icons_container").innerHTML;function n(e){var t=document.querySelector(".icons_container"),o=document.createElement("img");o.className="selected";var n=new FileReader;n.onload=function(e){return function(o){if(e.src=o.target.result,t.childNodes.length){var n=Math.floor(Math.random()*t.childNodes.length-1);t.insertBefore(e,t.childNodes[n])}else t.appendChild(e)}}(o),n.readAsDataURL(e)}$(document).ready(function(){$(".family_selector").change(function(){$(".container_icon").remove();var e=document.querySelector(".icons_container");e.querySelectorAll("img.selected").length||(e.innerHTML=o);var t=parseInt(this.value,10)-1,n=document.querySelector(".style_selector");n.innerHTML="",document.getElementById("load_more").disabled=!1,families[t].styles.forEach(function(e){n.insertAdjacentHTML("beforeend","<option value='"+e.id+"'>"+e.name+"</option>")}),1==families[t].styles.length&&$("#substyle_selector").trigger("change")}),$(".style_selector").change(function(){var e=document.getElementById("load_more");e.disabled=!1,e.setAttribute("data-trigger","substyle");var t=document.getElementById("order_by").checked?"latest":"rand";gr.request.get("/tools/get_icons_from_style",{id:this.value,order:t})}),$("#load_more").click(function(e){e.preventDefault();var t=[];[].forEach.call(document.getElementsByClassName("container_icon"),function(e){var o=parseInt(e.getAttribute("data-id"),10);o&&t.push(o)});var o=Number($(".style_selector").val()),n=document.getElementById("order_by").checked?"latest":"rand";t.length?gr.request.get("/tools/get_icons_from_style",{id:o,previous:t.join(","),order:n}):gr.request.get("/tools/get_icons_from_style",{id:o,order:n})}),$("#get_url").click(function(){var e=$(".style_selector").val();if(e){var t=document.querySelector(".url_input");t.querySelector("input").value=window.location.href+"/"+e,$(t).removeClass("hidden")}}),$(".url_input .reset-input").click(function(){$(".url_input").addClass("hidden")}),$("#clear_uploaded").click(function(){window.uploaded_files=[],$(".selected").remove()});var e=$(".icons_container");e.on("dragenter",function(e){e.stopPropagation(),e.preventDefault(),$(this).css({border:"4px dashed #333","background-color":"rgba(236, 240, 241, 0.2)"})}),e.on("dragleave",function(e){e.stopPropagation(),e.preventDefault(),$(this).css({border:"4px dashed #e9eaec","background-color":"#FFF"})}),e.on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),e.on("drop",function(e){$(this).css({border:"4px dashed #e9eaec;","background-color":"#FFF"}),e.preventDefault(),function(e,t){window.uploaded_files||(window.uploaded_files=[]);for(var o,i=!1,r=document.querySelector(".icons_container"),a=r.querySelectorAll("img").length,c=0;c<e.length;c++)"image/svg+xml"==(o=e[c]).type&&(i||a||(i=!0,r.innerHTML=""),window.uploaded_files.push(o),n(o))}(e.originalEvent.dataTransfer.files)}),$(document).on("dragenter",function(e){e.stopPropagation(),e.preventDefault()}),$(document).on("dragover",function(t){t.stopPropagation(),t.preventDefault(),e.css({border:"4px dashed #e9eaec;","background-color":"#FFF"})}),$(document).on("drop",function(e){e.stopPropagation(),e.preventDefault()})})},function(e,t,o){"use strict";o.r(t);var n=o(8);$(document).ready(function(){$("#popover-style_id input[type=radio]").on("click",function(e){if($("section.search-result").empty(),""!==this.value){var t=document.createElement("section");t.classList.add("box-container"),document.querySelector(".search-result").append(t),INFINITY_CONFIG.templateTag="pack-box",INFINITY_CONFIG.css_selector="section.search-result .box-container",n.INFINITY.init()}else document.getElementById("style_id").value="",INFINITY_CONFIG.templateTag="style-pack-box",INFINITY_CONFIG.css_selector="section.search-result",n.INFINITY.init()})})}]);
//# sourceMappingURL=fi-base.4ad612074828a120a6a5.js.map